//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package svg ;import (_ad "encoding/xml";_d "fmt";_dc "github.com/unidoc/unipdf/v3/common";_ff "github.com/unidoc/unipdf/v3/contentstream";_fc "github.com/unidoc/unipdf/v3/contentstream/draw";_e "github.com/unidoc/unipdf/v3/internal/graphic2d";_bg "golang.org/x/net/html/charset";
_aa "io";_b "math";_f "os";_cf "strconv";_c "strings";_a "unicode";);func ParseFromString (svgStr string )(*GraphicSVG ,error ){return ParseFromStream (_c .NewReader (svgStr ));};func _bdc (_cbb *GraphicSVG ,_dbg *_ff .ContentCreator ){_dbg .Add_q ();_cbb .Style .toContentStream (_dbg );
_defc ,_gfg :=_efa (_cbb .Attributes ["\u0070\u006f\u0069\u006e\u0074\u0073"]);if _gfg !=nil {_dc .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0075\u006e\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0070\u006f\u0069\u006e\u0074\u0073\u0020\u0061\u0074\u0074\u0072i\u0062\u0075\u0074\u0065\u003a\u0020\u0025\u0076",_gfg );
return ;};if len (_defc )%2> 0{_dc .Log .Debug ("\u0045\u0052R\u004f\u0052\u0020\u0069n\u0076\u0061l\u0069\u0064\u0020\u0070\u006f\u0069\u006e\u0074s\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u006ce\u006e\u0067\u0074\u0068");return ;
};for _ed :=0;_ed < len (_defc );{if _ed ==0{_dbg .Add_m (_defc [_ed ]*_cbb ._fgd ,_defc [_ed +1]*_cbb ._fgd );}else {_dbg .Add_l (_defc [_ed ]*_cbb ._fgd ,_defc [_ed +1]*_cbb ._fgd );};_ed +=2;};_dbg .Add_l (_defc [0]*_cbb ._fgd ,_defc [1]*_cbb ._fgd );
if _cbb .Style .FillColor !=""&&_cbb .Style .StrokeColor !=""{_dbg .Add_B ();}else if _cbb .Style .FillColor !=""{_dbg .Add_f ();}else if _cbb .Style .StrokeColor !=""{_dbg .Add_S ();};_dbg .Add_h ();_dbg .Add_Q ();};func (_eed *GraphicSVG )toContentStream (_beg *_ff .ContentCreator ){_bgd ,_ge :=_dabg (_eed .Attributes ,_eed ._fgd );
if _ge !=nil {_dc .Log .Debug ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073e\u0020\u0073\u0074\u0079\u006c\u0065\u0020a\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_ge );};_eed .Style =_bgd ;switch _eed .Name {case "\u0070\u0061\u0074\u0068":_ffg (_eed ,_beg );
for _ ,_aee :=range _eed .Children {_aee .toContentStream (_beg );};case "\u0072\u0065\u0063\u0074":_bgf (_eed ,_beg );for _ ,_bde :=range _eed .Children {_bde .toContentStream (_beg );};case "\u0063\u0069\u0072\u0063\u006c\u0065":_ecc (_eed ,_beg );for _ ,_cgd :=range _eed .Children {_cgd .toContentStream (_beg );
};case "\u0065l\u006c\u0069\u0070\u0073\u0065":_cfec (_eed ,_beg );for _ ,_edb :=range _eed .Children {_edb .toContentStream (_beg );};case "\u0070\u006f\u006c\u0079\u006c\u0069\u006e\u0065":_gga (_eed ,_beg );for _ ,_cbc :=range _eed .Children {_cbc .toContentStream (_beg );
};case "\u0070o\u006c\u0079\u0067\u006f\u006e":_bdc (_eed ,_beg );for _ ,_ffb :=range _eed .Children {_ffb .toContentStream (_beg );};case "\u006c\u0069\u006e\u0065":_df (_eed ,_beg );for _ ,_eee :=range _eed .Children {_eee .toContentStream (_beg );};
case "\u0067":_aebd ,_cbad :=_eed .Attributes ["\u0066\u0069\u006c\u006c"];_cfd ,_gge :=_eed .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"];_dcba ,_ebb :=_eed .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];for _ ,_gbde :=range _eed .Children {if _ ,_bbd :=_gbde .Attributes ["\u0066\u0069\u006c\u006c"];
!_bbd &&_cbad {_gbde .Attributes ["\u0066\u0069\u006c\u006c"]=_aebd ;};if _ ,_bef :=_gbde .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"];!_bef &&_gge {_gbde .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"]=_cfd ;};if _ ,_dgb :=_gbde .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];
!_dgb &&_ebb {_gbde .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"]=_dcba ;};_gbde .toContentStream (_beg );};};};func ParseFromFile (path string )(*GraphicSVG ,error ){_fffe ,_befeg :=_f .Open (path );if _befeg !=nil {return nil ,_befeg ;
};defer _fffe .Close ();return ParseFromStream (_fffe );};func _cab ()*GraphicSVGStyle {return &GraphicSVGStyle {FillColor :"\u00230\u0030\u0030\u0030\u0030\u0030",StrokeColor :"",StrokeWidth :0};};func _ceg (_bbea float64 ,_fab int )float64 {_efab :=_b .Pow (10,float64 (_fab ));
return float64 (_fdcgc (_bbea *_efab ))/_efab ;};func (_gcg *GraphicSVG )Decode (decoder *_ad .Decoder )error {for {_efc ,_adb :=decoder .Token ();if _efc ==nil &&_adb ==_aa .EOF {break ;};if _adb !=nil {return _adb ;};switch _cdd :=_efc .(type ){case _ad .StartElement :_acg :=_ade (_cdd );
_eecg :=_acg .Decode (decoder );if _eecg !=nil {return _eecg ;};_gcg .Children =append (_gcg .Children ,_acg );case _ad .CharData :_cfa :=_c .TrimSpace (string (_cdd ));if _cfa !=""{_gcg .Content =string (_cdd );};case _ad .EndElement :if _cdd .Name .Local ==_gcg .Name {return nil ;
};};};return nil ;};func (_ggef pathParserError )Error ()string {return _ggef ._cdcd };func (_eff *Command )isAbsolute ()bool {return _eff .Symbol ==_c .ToUpper (_eff .Symbol )};func _bcdb (_efcb string ,_efee int )(float64 ,error ){_bbe ,_efdc :=_egeb (_efcb );
_ccg ,_ggdf :=_cf .ParseFloat (_bbe ,_efee );if _ggdf !=nil {return 0,_ggdf ;};if _cead ,_cgc :=_fca [_efdc ];_cgc {_ccg =_ccg *_cead ;}else {_ccg =_ccg *_dd ;};return _ccg ,nil ;};func (_dcc *commands )isCommand (_agd string )bool {for _ ,_bgg :=range _dcc ._abcc {if _c .ToLower (_agd )==_bgg {return true ;
};};return false ;};func _fdcgc (_ebgg float64 )int {return int (_ebgg +_b .Copysign (0.5,_ebgg ))};type pathParserError struct{_cdcd string };func (_gcge *GraphicSVG )ToContentCreator (cc *_ff .ContentCreator ,scaleX ,scaleY ,translateX ,translateY float64 )*_ff .ContentCreator {if _gcge .Name =="\u0073\u0076\u0067"{_gcge .SetScaling (scaleX ,scaleY );
cc .Add_cm (1,0,0,1,translateX ,translateY );_gcge .setDefaultScaling (_gcge ._fgd );cc .Add_q ();_eg :=_b .Max (scaleX ,scaleY );cc .Add_re (_gcge .ViewBox .X *_eg ,_gcge .ViewBox .Y *_eg ,_gcge .ViewBox .W *_eg ,_gcge .ViewBox .H *_eg );cc .Add_W ();
cc .Add_n ();for _ ,_dee :=range _gcge .Children {_dee .ViewBox =_gcge .ViewBox ;_dee .toContentStream (cc );};cc .Add_Q ();return cc ;};return nil ;};func _gga (_acba *GraphicSVG ,_cgf *_ff .ContentCreator ){_cgf .Add_q ();_acba .Style .toContentStream (_cgf );
_babe ,_bf :=_efa (_acba .Attributes ["\u0070\u006f\u0069\u006e\u0074\u0073"]);if _bf !=nil {_dc .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0075\u006e\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0070\u006f\u0069\u006e\u0074\u0073\u0020\u0061\u0074\u0074\u0072i\u0062\u0075\u0074\u0065\u003a\u0020\u0025\u0076",_bf );
return ;};if len (_babe )%2> 0{_dc .Log .Debug ("\u0045\u0052R\u004f\u0052\u0020\u0069n\u0076\u0061l\u0069\u0064\u0020\u0070\u006f\u0069\u006e\u0074s\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u006ce\u006e\u0067\u0074\u0068");return ;
};for _gag :=0;_gag < len (_babe );{if _gag ==0{_cgf .Add_m (_babe [_gag ]*_acba ._fgd ,_babe [_gag +1]*_acba ._fgd );}else {_cgf .Add_l (_babe [_gag ]*_acba ._fgd ,_babe [_gag +1]*_acba ._fgd );};_gag +=2;};if _acba .Style .FillColor !=""&&_acba .Style .StrokeColor !=""{_cgf .Add_B ();
}else if _acba .Style .FillColor !=""{_cgf .Add_f ();}else if _acba .Style .StrokeColor !=""{_cgf .Add_S ();};_cgf .Add_h ();_cgf .Add_Q ();};func _gbg (_defa *_ad .Decoder )(*GraphicSVG ,error ){for {_ggd ,_eeed :=_defa .Token ();if _ggd ==nil &&_eeed ==_aa .EOF {break ;
};if _eeed !=nil {return nil ,_eeed ;};switch _dgc :=_ggd .(type ){case _ad .StartElement :return _ade (_dgc ),nil ;};};return &GraphicSVG {},nil ;};func _bgf (_dca *GraphicSVG ,_acb *_ff .ContentCreator ){_acb .Add_q ();_dca .Style .toContentStream (_acb );
_dcef ,_fdc :=_bcdb (_dca .Attributes ["\u0078"],64);if _fdc !=nil {_dc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0078\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_fdc .Error ());
};_gac ,_fdc :=_bcdb (_dca .Attributes ["\u0079"],64);if _fdc !=nil {_dc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0079\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_fdc .Error ());
};_da ,_fdc :=_bcdb (_dca .Attributes ["\u0077\u0069\u0064t\u0068"],64);if _fdc !=nil {_dc .Log .Debug ("\u0045\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0073\u0074\u0072\u006f\u006b\u0065\u0020\u0077\u0069\u0064\u0074\u0068\u0020v\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_fdc .Error ());
};_eaba ,_fdc :=_bcdb (_dca .Attributes ["\u0068\u0065\u0069\u0067\u0068\u0074"],64);if _fdc !=nil {_dc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077h\u0069\u006c\u0065 \u0070\u0061\u0072\u0073i\u006e\u0067\u0020\u0073\u0074\u0072\u006f\u006b\u0065\u0020\u0068\u0065\u0069\u0067\u0068\u0074\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_fdc .Error ());
};_acb .Add_re (_dcef *_dca ._fgd ,_gac *_dca ._fgd ,_da *_dca ._fgd ,_eaba *_dca ._fgd );if _dca .Style .FillColor !=""&&_dca .Style .StrokeColor !=""{_acb .Add_B ();}else if _dca .Style .FillColor !=""{_acb .Add_f ();}else if _dca .Style .StrokeColor !=""{_acb .Add_S ();
};_acb .Add_Q ();};func (_cfc *Command )compare (_edd *Command )bool {if _cfc .Symbol !=_edd .Symbol {return false ;};for _caag ,_bdg :=range _cfc .Params {if _bdg !=_edd .Params [_caag ]{return false ;};};return true ;};func _gfdf ()commands {var _aba =map[string ]int {"\u006d":2,"\u007a":0,"\u006c":2,"\u0068":1,"\u0076":1,"\u0063":6,"\u0073":4,"\u0071":4,"\u0074":2,"\u0061":7};
var _eaac []string ;for _cgfe :=range _aba {_eaac =append (_eaac ,_cgfe );};return commands {_eaac ,_aba ,"\u006d","\u007a"};};type GraphicSVG struct{ViewBox struct{X ,Y ,W ,H float64 ;};Name string ;Attributes map[string ]string ;Children []*GraphicSVG ;
Content string ;Style *GraphicSVGStyle ;Width float64 ;Height float64 ;_fgd float64 ;};func (_bae *GraphicSVG )setDefaultScaling (_gee float64 ){_bae ._fgd =_gee ;if _bae .Style !=nil &&_bae .Style .StrokeWidth > 0{_bae .Style .StrokeWidth =_bae .Style .StrokeWidth *_bae ._fgd ;
};for _ ,_adbd :=range _bae .Children {_adbd .setDefaultScaling (_gee );};};func (_ddea *Subpath )compare (_dfb *Subpath )bool {if len (_ddea .Commands )!=len (_dfb .Commands ){return false ;};for _caf ,_add :=range _ddea .Commands {if !_add .compare (_dfb .Commands [_caf ]){return false ;
};};return true ;};var (_gc =[]string {"\u0063\u006d","\u006d\u006d","\u0070\u0078","\u0070\u0074"};_fca =map[string ]float64 {"\u0063\u006d":_fg ,"\u006d\u006d":_cb ,"\u0070\u0078":_dd ,"\u0070\u0074":1};);var _ggg commands ;func _ddcba (_egb []token ,_afg string )([]token ,string ){if _afg !=""{_egb =append (_egb ,token {_afg ,false });
_afg ="";};return _egb ,_afg ;};func _ecc (_dcf *GraphicSVG ,_ag *_ff .ContentCreator ){_ag .Add_q ();_dcf .Style .toContentStream (_ag );_fcf ,_cfeeb :=_bcdb (_dcf .Attributes ["\u0063\u0078"],64);if _cfeeb !=nil {_dc .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_cfeeb .Error ());
};_de ,_cfeeb :=_bcdb (_dcf .Attributes ["\u0063\u0079"],64);if _cfeeb !=nil {_dc .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_cfeeb .Error ());
};_def ,_cfeeb :=_bcdb (_dcf .Attributes ["\u0072"],64);if _cfeeb !=nil {_dc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0072\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_cfeeb .Error ());
};_cc :=_def *_dcf ._fgd ;_aeg :=_def *_dcf ._fgd ;_afad :=_cc *_fge ;_cee :=_aeg *_fge ;_dcec :=_fc .NewCubicBezierPath ();_dcec =_dcec .AppendCurve (_fc .NewCubicBezierCurve (-_cc ,0,-_cc ,_cee ,-_afad ,_aeg ,0,_aeg ));_dcec =_dcec .AppendCurve (_fc .NewCubicBezierCurve (0,_aeg ,_afad ,_aeg ,_cc ,_cee ,_cc ,0));
_dcec =_dcec .AppendCurve (_fc .NewCubicBezierCurve (_cc ,0,_cc ,-_cee ,_afad ,-_aeg ,0,-_aeg ));_dcec =_dcec .AppendCurve (_fc .NewCubicBezierCurve (0,-_aeg ,-_afad ,-_aeg ,-_cc ,-_cee ,-_cc ,0));_dcec =_dcec .Offset (_fcf *_dcf ._fgd ,_de *_dcf ._fgd );
if _dcf .Style .StrokeWidth > 0{_dcec =_dcec .Offset (_dcf .Style .StrokeWidth /2,_dcf .Style .StrokeWidth /2);};_fc .DrawBezierPathWithCreator (_dcec ,_ag );if _dcf .Style .FillColor !=""&&_dcf .Style .StrokeColor !=""{_ag .Add_B ();}else if _dcf .Style .FillColor !=""{_ag .Add_f ();
}else if _dcf .Style .StrokeColor !=""{_ag .Add_S ();};_ag .Add_h ();_ag .Add_Q ();};type Command struct{Symbol string ;Params []float64 ;};type Subpath struct{Commands []*Command ;};func _efa (_befad string )([]float64 ,error ){_dagb :=-1;var _ega []float64 ;
_ggde :=' ';for _gad ,_bba :=range _befad {if !_a .IsNumber (_bba )&&_bba !='.'&&!(_bba =='-'&&_ggde =='e')&&_bba !='e'{if _dagb !=-1{_eada ,_fac :=_eabb (_befad [_dagb :_gad ]);if _fac !=nil {return _ega ,_fac ;};_ega =append (_ega ,_eada ...);};if _bba =='-'{_dagb =_gad ;
}else {_dagb =-1;};}else if _dagb ==-1{_dagb =_gad ;};_ggde =_bba ;};if _dagb !=-1&&_dagb !=len (_befad ){_ffgc ,_dcgb :=_eabb (_befad [_dagb :]);if _dcgb !=nil {return _ega ,_dcgb ;};_ega =append (_ega ,_ffgc ...);};return _ega ,nil ;};func _aefa (_dabd string )(*Path ,error ){_ggg =_gfdf ();
_ace ,_dcag :=_bcfg (_accg (_dabd ));if _dcag !=nil {return nil ,_dcag ;};return _cgb (_ace ),nil ;};func _accg (_cda string )[]token {var (_gddc []token ;_eeeda string ;);for _ ,_daa :=range _cda {_gab :=string (_daa );switch {case _ggg .isCommand (_gab ):_gddc ,_eeeda =_ddcba (_gddc ,_eeeda );
_gddc =append (_gddc ,token {_gab ,true });case _gab =="\u002e":if _eeeda ==""{_eeeda ="\u0030";};if _c .Contains (_eeeda ,_gab ){_gddc =append (_gddc ,token {_eeeda ,false });_eeeda ="\u0030";};fallthrough;case _gab >="\u0030"&&_gab <="\u0039"||_gab =="\u0065":_eeeda +=_gab ;
case _gab =="\u002d":if _c .HasSuffix (_eeeda ,"\u0065"){_eeeda +=_gab ;}else {_gddc ,_ =_ddcba (_gddc ,_eeeda );_eeeda =_gab ;};default:_gddc ,_eeeda =_ddcba (_gddc ,_eeeda );};};_gddc ,_ =_ddcba (_gddc ,_eeeda );return _gddc ;};func _eabb (_ecb string )(_bcd []float64 ,_cbg error ){var _baef float64 ;
_eabad :=0;_bcb :=true ;for _eeg ,_efdf :=range _ecb {if _efdf =='.'{if _bcb {_bcb =false ;continue ;};_baef ,_cbg =_bcdb (_ecb [_eabad :_eeg ],64);if _cbg !=nil {return ;};_bcd =append (_bcd ,_baef );_eabad =_eeg ;};};_baef ,_cbg =_bcdb (_ecb [_eabad :],64);
if _cbg !=nil {return ;};_bcd =append (_bcd ,_baef );return ;};const (_dd =0.72;_fg =28.3464;_cb =_fg /10;_fge =0.551784;);func _cfec (_eb *GraphicSVG ,_acc *_ff .ContentCreator ){_acc .Add_q ();_eb .Style .toContentStream (_acc );_gae ,_fbf :=_bcdb (_eb .Attributes ["\u0063\u0078"],64);
if _fbf !=nil {_dc .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_fbf .Error ());};_beb ,_fbf :=_bcdb (_eb .Attributes ["\u0063\u0079"],64);
if _fbf !=nil {_dc .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_fbf .Error ());};_eea ,_fbf :=_bcdb (_eb .Attributes ["\u0072\u0078"],64);
if _fbf !=nil {_dc .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_fbf .Error ());};_accf ,_fbf :=_bcdb (_eb .Attributes ["\u0072\u0079"],64);
if _fbf !=nil {_dc .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_fbf .Error ());};_cga :=_eea *_eb ._fgd ;_ebd :=_accf *_eb ._fgd ;
_ca :=_gae *_eb ._fgd ;_bda :=_beb *_eb ._fgd ;_ccb :=_cga *_fge ;_gd :=_ebd *_fge ;_dab :=_fc .NewCubicBezierPath ();_dab =_dab .AppendCurve (_fc .NewCubicBezierCurve (-_cga ,0,-_cga ,_gd ,-_ccb ,_ebd ,0,_ebd ));_dab =_dab .AppendCurve (_fc .NewCubicBezierCurve (0,_ebd ,_ccb ,_ebd ,_cga ,_gd ,_cga ,0));
_dab =_dab .AppendCurve (_fc .NewCubicBezierCurve (_cga ,0,_cga ,-_gd ,_ccb ,-_ebd ,0,-_ebd ));_dab =_dab .AppendCurve (_fc .NewCubicBezierCurve (0,-_ebd ,-_ccb ,-_ebd ,-_cga ,-_gd ,-_cga ,0));_dab =_dab .Offset (_ca ,_bda );if _eb .Style .StrokeWidth > 0{_dab =_dab .Offset (_eb .Style .StrokeWidth /2,_eb .Style .StrokeWidth /2);
};_fc .DrawBezierPathWithCreator (_dab ,_acc );if _eb .Style .FillColor !=""&&_eb .Style .StrokeColor !=""{_acc .Add_B ();}else if _eb .Style .FillColor !=""{_acc .Add_f ();}else if _eb .Style .StrokeColor !=""{_acc .Add_S ();};_acc .Add_h ();_acc .Add_Q ();
};func _edbd (_cae []float64 )[]float64 {for _fcae ,_fea :=0,len (_cae )-1;_fcae < _fea ;_fcae ,_fea =_fcae +1,_fea -1{_cae [_fcae ],_cae [_fea ]=_cae [_fea ],_cae [_fcae ];};return _cae ;};func _ffg (_db *GraphicSVG ,_cd *_ff .ContentCreator ){_cd .Add_q ();
_db .Style .toContentStream (_cd );_gf ,_aac :=_aefa (_db .Attributes ["\u0064"]);if _aac !=nil {_dc .Log .Error ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025s",_aac .Error ());};var (_ddc ,_dcb =0.0,0.0;_dce ,_ba =0.0,0.0;_cdb *Command ;);for _ ,_bc :=range _gf .Subpaths {for _ ,_fd :=range _bc .Commands {switch _c .ToLower (_fd .Symbol ){case "\u006d":_dce ,_ba =_fd .Params [0]*_db ._fgd ,_fd .Params [1]*_db ._fgd ;
if !_fd .isAbsolute (){_dce ,_ba =_ddc +_dce -_db .ViewBox .X ,_dcb +_ba -_db .ViewBox .Y ;};_cd .Add_m (_ceg (_dce ,3),_ceg (_ba ,3));_ddc ,_dcb =_dce ,_ba ;case "\u0063":_aag ,_cde ,_bb ,_gcf ,_ce ,_ec :=_fd .Params [0]*_db ._fgd ,_fd .Params [1]*_db ._fgd ,_fd .Params [2]*_db ._fgd ,_fd .Params [3]*_db ._fgd ,_fd .Params [4]*_db ._fgd ,_fd .Params [5]*_db ._fgd ;
if !_fd .isAbsolute (){_aag ,_cde ,_bb ,_gcf ,_ce ,_ec =_ddc +_aag ,_dcb +_cde ,_ddc +_bb ,_dcb +_gcf ,_ddc +_ce ,_dcb +_ec ;};_cd .Add_c (_ceg (_aag ,3),_ceg (_cde ,3),_ceg (_bb ,3),_ceg (_gcf ,3),_ceg (_ce ,3),_ceg (_ec ,3));_ddc ,_dcb =_ce ,_ec ;case "\u0073":_gg ,_af ,_dcg ,_dba :=_fd .Params [0]*_db ._fgd ,_fd .Params [1]*_db ._fgd ,_fd .Params [2]*_db ._fgd ,_fd .Params [3]*_db ._fgd ;
if !_fd .isAbsolute (){_gg ,_af ,_dcg ,_dba =_ddc +_gg ,_dcb +_af ,_ddc +_dcg ,_dcb +_dba ;};_cd .Add_c (_ceg (_ddc ,3),_ceg (_dcb ,3),_ceg (_gg ,3),_ceg (_af ,3),_ceg (_dcg ,3),_ceg (_dba ,3));_ddc ,_dcb =_dcg ,_dba ;case "\u006c":_dbe ,_afa :=_fd .Params [0]*_db ._fgd ,_fd .Params [1]*_db ._fgd ;
if !_fd .isAbsolute (){_dbe ,_afa =_ddc +_dbe ,_dcb +_afa ;};_cd .Add_l (_ceg (_dbe ,3),_ceg (_afa ,3));_ddc ,_dcb =_dbe ,_afa ;case "\u0068":_afab :=_fd .Params [0]*_db ._fgd ;if !_fd .isAbsolute (){_afab =_ddc +_afab ;};_cd .Add_l (_ceg (_afab ,3),_ceg (_dcb ,3));
_ddc =_afab ;case "\u0076":_cdc :=_fd .Params [0]*_db ._fgd ;if !_fd .isAbsolute (){_cdc =_dcb +_cdc ;};_cd .Add_l (_ceg (_ddc ,3),_ceg (_cdc ,3));_dcb =_cdc ;case "\u0071":_cec ,_bag ,_fdb ,_ae :=_fd .Params [0]*_db ._fgd ,_fd .Params [1]*_db ._fgd ,_fd .Params [2]*_db ._fgd ,_fd .Params [3]*_db ._fgd ;
if !_fd .isAbsolute (){_cec ,_bag ,_fdb ,_ae =_ddc +_cec ,_dcb +_bag ,_ddc +_fdb ,_dcb +_ae ;};_cba ,_cfe :=_e .QuadraticToCubicBezier (_ddc ,_dcb ,_cec ,_bag ,_fdb ,_ae );_cd .Add_c (_ceg (_cba .X ,3),_ceg (_cba .Y ,3),_ceg (_cfe .X ,3),_ceg (_cfe .Y ,3),_ceg (_fdb ,3),_ceg (_ae ,3));
_ddc ,_dcb =_fdb ,_ae ;case "\u0074":var _ef ,_cea _e .Point ;_dg ,_gfe :=_fd .Params [0]*_db ._fgd ,_fd .Params [1]*_db ._fgd ;if !_fd .isAbsolute (){_dg ,_gfe =_ddc +_dg ,_dcb +_gfe ;};if _cdb !=nil &&_c .ToLower (_cdb .Symbol )=="\u0071"{_be :=_e .Point {X :_cdb .Params [0]*_db ._fgd ,Y :_cdb .Params [1]*_db ._fgd };
_fb :=_e .Point {X :_cdb .Params [2]*_db ._fgd ,Y :_cdb .Params [3]*_db ._fgd };_ee :=_fb .Mul (2.0).Sub (_be );_ef ,_cea =_e .QuadraticToCubicBezier (_ddc ,_dcb ,_ee .X ,_ee .Y ,_dg ,_gfe );};_cd .Add_c (_ceg (_ef .X ,3),_ceg (_ef .Y ,3),_ceg (_cea .X ,3),_ceg (_cea .Y ,3),_ceg (_dg ,3),_ceg (_gfe ,3));
_ddc ,_dcb =_dg ,_gfe ;case "\u0061":_dbb ,_afb :=_fd .Params [0]*_db ._fgd ,_fd .Params [1]*_db ._fgd ;_ea :=_fd .Params [2];_cfee :=_fd .Params [3]> 0;_eab :=_fd .Params [4]> 0;_bd ,_ga :=_fd .Params [5]*_db ._fgd ,_fd .Params [6]*_db ._fgd ;if !_fd .isAbsolute (){_bd ,_ga =_ddc +_bd ,_dcb +_ga ;
};_ac :=_e .EllipseToCubicBeziers (_ddc ,_dcb ,_dbb ,_afb ,_ea ,_cfee ,_eab ,_bd ,_ga );for _ ,_dgd :=range _ac {_cd .Add_c (_ceg (_dgd [1].X ,3),_ceg ((_dgd [1].Y ),3),_ceg ((_dgd [2].X ),3),_ceg ((_dgd [2].Y ),3),_ceg ((_dgd [3].X ),3),_ceg ((_dgd [3].Y ),3));
};_ddc ,_dcb =_bd ,_ga ;case "\u007a":_cd .Add_h ();};_cdb =_fd ;};};if _db .Style .FillColor !=""&&_db .Style .StrokeColor !=""{_cd .Add_B ();}else if _db .Style .FillColor !=""{_cd .Add_f ();}else if _db .Style .StrokeColor !=""{_cd .Add_S ();};_cd .Add_h ();
_cd .Add_Q ();};func _ade (_bdfd _ad .StartElement )*GraphicSVG {_ecg :=&GraphicSVG {};_ggc :=make (map[string ]string );for _ ,_bage :=range _bdfd .Attr {_ggc [_bage .Name .Local ]=_bage .Value ;};_ecg .Name =_bdfd .Name .Local ;_ecg .Attributes =_ggc ;
_ecg ._fgd =1;if _ecg .Name =="\u0073\u0076\u0067"{_fdf ,_cff :=_efa (_ggc ["\u0076i\u0065\u0077\u0042\u006f\u0078"]);if _cff !=nil {_dc .Log .Debug ("\u0055\u006ea\u0062\u006c\u0065\u0020t\u006f\u0020p\u0061\u0072\u0073\u0065\u0020\u0076\u0069\u0065w\u0042\u006f\u0078\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074e\u003a\u0020\u0025\u0076",_cff );
return nil ;};_ecg .ViewBox .X =_fdf [0];_ecg .ViewBox .Y =_fdf [1];_ecg .ViewBox .W =_fdf [2];_ecg .ViewBox .H =_fdf [3];_ecg .Width =_ecg .ViewBox .W ;_ecg .Height =_ecg .ViewBox .H ;if _gaea ,_dfg :=_ggc ["\u0077\u0069\u0064t\u0068"];_dfg {_ddd ,_edg :=_bcdb (_gaea ,64);
if _edg !=nil {_dc .Log .Debug ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073e\u0020\u0077\u0069\u0064\u0074\u0068\u0020a\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_edg );return nil ;};_ecg .Width =_ddd ;
};if _gfc ,_dda :=_ggc ["\u0068\u0065\u0069\u0067\u0068\u0074"];_dda {_ab ,_ead :=_bcdb (_gfc ,64);if _ead !=nil {_dc .Log .Debug ("\u0055\u006eab\u006c\u0065\u0020t\u006f\u0020\u0070\u0061rse\u0020he\u0069\u0067\u0068\u0074\u0020\u0061\u0074tr\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_ead );
return nil ;};_ecg .Height =_ab ;};if _ecg .Width > 0&&_ecg .Height > 0{_ecg ._fgd =_ecg .Width /_ecg .ViewBox .W ;};};return _ecg ;};func _df (_bgc *GraphicSVG ,_agg *_ff .ContentCreator ){_agg .Add_q ();_bgc .Style .toContentStream (_agg );_dad ,_eec :=_bcdb (_bgc .Attributes ["\u0078\u0031"],64);
if _eec !=nil {_dc .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_eec .Error ());};_bcf ,_eec :=_bcdb (_bgc .Attributes ["\u0079\u0031"],64);
if _eec !=nil {_dc .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_eec .Error ());};_efe ,_eec :=_bcdb (_bgc .Attributes ["\u0078\u0032"],64);
if _eec !=nil {_dc .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_eec .Error ());};_gfd ,_eec :=_bcdb (_bgc .Attributes ["\u0079\u0032"],64);
if _eec !=nil {_dc .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_eec .Error ());};_agg .Add_m (_dad *_bgc ._fgd ,_bcf *_bgc ._fgd );
_agg .Add_l (_efe *_bgc ._fgd ,_gfd *_bgc ._fgd );if _bgc .Style .FillColor !=""&&_bgc .Style .StrokeColor !=""{_agg .Add_B ();}else if _bgc .Style .FillColor !=""{_agg .Add_f ();}else if _bgc .Style .StrokeColor !=""{_agg .Add_S ();};_agg .Add_h ();_agg .Add_Q ();
};type token struct{_fbb string ;_gfb bool ;};type Path struct{Subpaths []*Subpath ;};func _cgb (_gdbg []*Command )*Path {_gcc :=&Path {};var _ggfg []*Command ;for _cfdf ,_bdec :=range _gdbg {switch _c .ToLower (_bdec .Symbol ){case _ggg ._fba :if len (_ggfg )> 0{_gcc .Subpaths =append (_gcc .Subpaths ,&Subpath {_ggfg });
};_ggfg =[]*Command {_bdec };case _ggg ._ggae :_ggfg =append (_ggfg ,_bdec );_gcc .Subpaths =append (_gcc .Subpaths ,&Subpath {_ggfg });_ggfg =[]*Command {};default:_ggfg =append (_ggfg ,_bdec );if len (_gdbg )==_cfdf +1{_gcc .Subpaths =append (_gcc .Subpaths ,&Subpath {_ggfg });
};};};return _gcc ;};func (_eecd *GraphicSVGStyle )toContentStream (_ecgg *_ff .ContentCreator ){if _eecd ==nil {return ;};if _eecd .FillColor !=""{var _ggcf ,_abd ,_dbed float64 ;if _fe ,_cfb :=_e .ColorMap [_eecd .FillColor ];_cfb {_ebbc ,_cebb ,_egfc ,_ :=_fe .RGBA ();
_ggcf ,_abd ,_dbed =float64 (_ebbc ),float64 (_cebb ),float64 (_egfc );}else {_ggcf ,_abd ,_dbed =_abg (_eecd .FillColor );};_ecgg .Add_rg (_ggcf ,_abd ,_dbed );};if _eecd .StrokeColor !=""{var _abdg ,_gaf ,_cddg float64 ;if _dge ,_gdd :=_e .ColorMap [_eecd .StrokeColor ];
_gdd {_bcca ,_bbf ,_aea ,_ :=_dge .RGBA ();_abdg ,_gaf ,_cddg =float64 (_bcca )/255.0,float64 (_bbf )/255.0,float64 (_aea )/255.0;}else {_abdg ,_gaf ,_cddg =_abg (_eecd .StrokeColor );};_ecgg .Add_RG (_abdg ,_gaf ,_cddg );};if _eecd .StrokeWidth > 0{_ecgg .Add_w (_eecd .StrokeWidth );
};};func _bcfg (_dff []token )([]*Command ,error ){var (_bcfc []*Command ;_ggf []float64 ;);for _ddda :=len (_dff )-1;_ddda >=0;_ddda --{_dddc :=_dff [_ddda ];if _dddc ._gfb {_dag :=_ggg ._debd [_c .ToLower (_dddc ._fbb )];_bebb :=len (_ggf );if _dag ==0&&_bebb ==0{_bfa :=&Command {Symbol :_dddc ._fbb };
_bcfc =append ([]*Command {_bfa },_bcfc ...);}else if _dag !=0&&_bebb %_dag ==0{_ceab :=_bebb /_dag ;for _acf :=0;_acf < _ceab ;_acf ++{_fa :=_dddc ._fbb ;if _fa =="\u006d"&&_acf < _ceab -1{_fa ="\u006c";};if _fa =="\u004d"&&_acf < _ceab -1{_fa ="\u004c";
};_aaf :=&Command {_fa ,_edbd (_ggf [:_dag ])};_bcfc =append ([]*Command {_aaf },_bcfc ...);_ggf =_ggf [_dag :];};}else {_bee :=pathParserError {"I\u006e\u0063\u006f\u0072\u0072\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072\u0020\u006f\u0066\u0020\u0070\u0061r\u0061\u006d\u0065\u0074\u0065\u0072\u0073\u0020\u0066\u006fr\u0020"+_dddc ._fbb };
return nil ,_bee ;};}else {_gacg ,_fga :=_bcdb (_dddc ._fbb ,64);if _fga !=nil {return nil ,_fga ;};_ggf =append (_ggf ,_gacg );};};return _bcfc ,nil ;};func _egeb (_fbe string )(_eaf ,_dbf string ){if _fbe ==""||(_fbe [len (_fbe )-1]>='0'&&_fbe [len (_fbe )-1]<='9'){return _fbe ,"";
};_eaf =_fbe ;for _ ,_fbbf :=range _gc {if _c .Contains (_eaf ,_fbbf ){_dbf =_fbbf ;};_eaf =_c .TrimSuffix (_eaf ,_fbbf );};return ;};type GraphicSVGStyle struct{FillColor string ;StrokeColor string ;StrokeWidth float64 ;};func (_befa *GraphicSVG )SetScaling (xFactor ,yFactor float64 ){_befe :=_befa .Width /_befa .ViewBox .W ;
_egdg :=_befa .Height /_befa .ViewBox .H ;_befa .setDefaultScaling (_b .Max (_befe ,_egdg ));for _ ,_dde :=range _befa .Children {_dde .SetScaling (xFactor ,yFactor );};};func _dabg (_bcg map[string ]string ,_ege float64 )(*GraphicSVGStyle ,error ){_fcag :=_cab ();
_cbf ,_efd :=_bcg ["\u0066\u0069\u006c\u006c"];if _efd {_fcag .FillColor =_cbf ;if _cbf =="\u006e\u006f\u006e\u0065"{_fcag .FillColor ="";};};_geeb ,_aeee :=_bcg ["\u0073\u0074\u0072\u006f\u006b\u0065"];if _aeee {_fcag .StrokeColor =_geeb ;if _geeb =="\u006e\u006f\u006e\u0065"{_fcag .StrokeColor ="";
};};_ddcb ,_caa :=_bcg ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];if _caa {_abc ,_befg :=_bcdb (_ddcb ,64);if _befg !=nil {return nil ,_befg ;};_fcag .StrokeWidth =_abc *_ege ;};return _fcag ,nil ;};func _abg (_bccf string )(_cfg ,_bdce ,_cca float64 ){if (len (_bccf )!=4&&len (_bccf )!=7)||_bccf [0]!='#'{_dc .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_bccf );
return _cfg ,_bdce ,_cca ;};var _fcb ,_baa ,_fef int ;if len (_bccf )==4{var _bge ,_gfcc ,_dbfe int ;_ffba ,_ddf :=_d .Sscanf (_bccf ,"\u0023\u0025\u0031\u0078\u0025\u0031\u0078\u0025\u0031\u0078",&_bge ,&_gfcc ,&_dbfe );if _ddf !=nil {_dc .Log .Debug ("\u0049\u006e\u0076a\u006c\u0069\u0064\u0020h\u0065\u0078\u0020\u0063\u006f\u0064\u0065:\u0020\u0025\u0073\u002c\u0020\u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_bccf ,_ddf );
return _cfg ,_bdce ,_cca ;};if _ffba !=3{_dc .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_bccf );return _cfg ,_bdce ,_cca ;};_fcb =_bge *16+_bge ;_baa =_gfcc *16+_gfcc ;_fef =_dbfe *16+_dbfe ;
}else {_gea ,_aacb :=_d .Sscanf (_bccf ,"\u0023\u0025\u0032\u0078\u0025\u0032\u0078\u0025\u0032\u0078",&_fcb ,&_baa ,&_fef );if _aacb !=nil {_dc .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_bccf );
return _cfg ,_bdce ,_cca ;};if _gea !=3{_dc .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069d\u0020\u0068\u0065\u0078\u0020\u0063\u006f\u0064\u0065\u003a\u0020\u0025\u0073,\u0020\u006e\u0020\u0021\u003d\u0020\u0033 \u0028\u0025\u0064\u0029",_bccf ,_gea );
return _cfg ,_bdce ,_cca ;};};_cgda :=float64 (_fcb )/255.0;_edgb :=float64 (_baa )/255.0;_ggcg :=float64 (_fef )/255.0;return _cgda ,_edgb ,_ggcg ;};type commands struct{_abcc []string ;_debd map[string ]int ;_fba string ;_ggae string ;};func ParseFromStream (source _aa .Reader )(*GraphicSVG ,error ){_aeeg :=_ad .NewDecoder (source );
_aeeg .CharsetReader =_bg .NewReaderLabel ;_ebe ,_ecd :=_gbg (_aeeg );if _ecd !=nil {return nil ,_ecd ;};if _deb :=_ebe .Decode (_aeeg );_deb !=nil &&_deb !=_aa .EOF {return nil ,_deb ;};return _ebe ,nil ;};func (_fdcg *Path )compare (_ada *Path )bool {if len (_fdcg .Subpaths )!=len (_ada .Subpaths ){return false ;
};for _abe ,_edf :=range _fdcg .Subpaths {if !_edf .compare (_ada .Subpaths [_abe ]){return false ;};};return true ;};
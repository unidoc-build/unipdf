//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

//
// Package extractor is used for quickly extracting PDF content through a simple interface.
// Currently offers functionality for extracting textual content.
//
package extractor ;import (_db "bytes";_d "errors";_dg "fmt";_gc "github.com/unidoc/unipdf/v3/common";_dbe "github.com/unidoc/unipdf/v3/common/license";_ce "github.com/unidoc/unipdf/v3/contentstream";_e "github.com/unidoc/unipdf/v3/core";_aa "github.com/unidoc/unipdf/v3/internal/textencoding";_gg "github.com/unidoc/unipdf/v3/internal/transform";_ggb "github.com/unidoc/unipdf/v3/model";_cc "golang.org/x/text/unicode/norm";_bd "golang.org/x/xerrors";_be "image/color";_c "io";_da "math";_f "regexp";_fg "sort";_g "strings";_ca "unicode";_b "unicode/utf8";);func (_cbb *shapesState )clearPath (){_cbb ._gcbg =nil ;_cbb ._dcca =false ;if _baf {_gc .Log .Info ("\u0043\u004c\u0045A\u0052\u003a\u0020\u0073\u0073\u003d\u0025\u0073",_cbb );};};func _ggae (_fdfa _gg .Point )*subpath {return &subpath {_gbab :[]_gg .Point {_fdfa }}};func _beac (_cdfc []pathSection )rulingList {_edfb (_cdfc );if _febdg {_gc .Log .Info ("\u006d\u0061k\u0065\u0053\u0074\u0072\u006f\u006b\u0065\u0052\u0075\u006c\u0069\u006e\u0067\u0073\u003a\u0020\u0025\u0064\u0020\u0073\u0074\u0072ok\u0065\u0073",len (_cdfc ));};var _befd rulingList ;for _ ,_fcfc :=range _cdfc {for _ ,_fcee :=range _fcfc ._faef {if len (_fcee ._gbab )< 2{continue ;};_gdacg :=_fcee ._gbab [0];for _ ,_dbdc :=range _fcee ._gbab [1:]{if _cfce ,_eeebb :=_gadf (_gdacg ,_dbdc ,_fcfc .Color );_eeebb {_befd =append (_befd ,_cfce );};_gdacg =_dbdc ;};};};if _febdg {_gc .Log .Info ("m\u0061\u006b\u0065\u0053tr\u006fk\u0065\u0052\u0075\u006c\u0069n\u0067\u0073\u003a\u0020\u0025\u0073",_befd );};return _befd ;};func (_gagg *imageExtractContext )extractXObjectImage (_eba *_e .PdfObjectName ,_ac _ce .GraphicsState ,_fda *_ggb .PdfPageResources )error {_bda ,_ :=_fda .GetXObjectByName (*_eba );if _bda ==nil {return nil ;};_cb ,_eea :=_gagg ._ged [_bda ];if !_eea {_cbd ,_cgf :=_fda .GetXObjectImageByName (*_eba );if _cgf !=nil {return _cgf ;};if _cbd ==nil {return nil ;};_fdca ,_cgf :=_cbd .ToImage ();if _cgf !=nil {return _cgf ;};_cb =&cachedImage {_bdd :_fdca ,_fgf :_cbd .ColorSpace };_gagg ._ged [_bda ]=_cb ;};_ceb :=_cb ._bdd ;_cfe :=_cb ._fgf ;_cgd ,_acg :=_cfe .ImageToRGB (*_ceb );if _acg !=nil {return _acg ;};_gc .Log .Debug ("@\u0044\u006f\u0020\u0043\u0054\u004d\u003a\u0020\u0025\u0073",_ac .CTM .String ());_bae :=ImageMark {Image :&_cgd ,Width :_ac .CTM .ScalingFactorX (),Height :_ac .CTM .ScalingFactorY (),Angle :_ac .CTM .Angle ()};_bae .X ,_bae .Y =_ac .CTM .Translation ();_gagg ._fd =append (_gagg ._fd ,_bae );_gagg ._eef ++;return nil ;};func (_ebbfg *textTable )subdivide ()*textTable {_ebbfg .logComposite ("\u0073u\u0062\u0064\u0069\u0076\u0069\u0064e");_acfg :=_ebbfg .compositeRowCorridors ();_dcfeg :=_ebbfg .compositeColCorridors ();if _gbca {_gc .Log .Info ("\u0073u\u0062\u0064i\u0076\u0069\u0064\u0065:\u000a\u0009\u0072o\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s=\u0025\u0073\u000a\t\u0063\u006fl\u0043\u006f\u0072\u0072\u0069\u0064o\u0072\u0073=\u0025\u0073",_cddead (_acfg ),_cddead (_dcfeg ));};if len (_acfg )==0||len (_dcfeg )==0{return _ebbfg ;};_agdb (_acfg );_agdb (_dcfeg );if _gbca {_gc .Log .Info ("\u0073\u0075\u0062\u0064\u0069\u0076\u0069\u0064\u0065\u0020\u0066\u0069\u0078\u0065\u0064\u003a\u000a\u0009r\u006f\u0077\u0043\u006f\u0072\u0072\u0069d\u006f\u0072\u0073\u003d\u0025\u0073\u000a\u0009\u0063\u006f\u006cC\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u003d\u0025\u0073",_cddead (_acfg ),_cddead (_dcfeg ));};_bacag ,_cccg :=_gebd (_ebbfg ._ggbac ,_acfg );_bdcec ,_bdded :=_gebd (_ebbfg ._bgbdf ,_dcfeg );_afabf :=make (map[uint64 ]*textPara ,_bdded *_cccg );_cebda :=&textTable {PdfRectangle :_ebbfg .PdfRectangle ,_adbb :_ebbfg ._adbb ,_ggbac :_cccg ,_bgbdf :_bdded ,_gbff :_afabf };if _gbca {_gc .Log .Info ("\u0073\u0075b\u0064\u0069\u0076\u0069\u0064\u0065\u003a\u0020\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u0020\u003d\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u0020\u0063\u0065\u006c\u006c\u0073\u003d\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u000a"+"\u0009\u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s\u003d\u0025\u0073\u000a"+"\u0009\u0063\u006f\u006c\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s\u003d\u0025\u0073\u000a"+"\u0009\u0079\u004f\u0066\u0066\u0073\u0065\u0074\u0073=\u0025\u002b\u0076\u000a"+"\u0009\u0078\u004f\u0066\u0066\u0073\u0065\u0074\u0073\u003d\u0025\u002b\u0076",_ebbfg ._bgbdf ,_ebbfg ._ggbac ,_bdded ,_cccg ,_cddead (_acfg ),_cddead (_dcfeg ),_bacag ,_bdcec );};for _cebfc :=0;_cebfc < _ebbfg ._ggbac ;_cebfc ++{_fefb :=_bacag [_cebfc ];for _efgc :=0;_efgc < _ebbfg ._bgbdf ;_efgc ++{_cgde :=_bdcec [_efgc ];if _gbca {_dg .Printf ("\u0025\u0036\u0064\u002c %\u0032\u0064\u003a\u0020\u0078\u0030\u003d\u0025\u0064\u0020\u0079\u0030\u003d\u0025d\u000a",_efgc ,_cebfc ,_cgde ,_fefb );};_efeac ,_dggg :=_ebbfg ._ggfa [_ggfd (_efgc ,_cebfc )];if !_dggg {continue ;};_abcb :=_efeac .split (_acfg [_cebfc ],_dcfeg [_efgc ]);for _fbcd :=0;_fbcd < _abcb ._ggbac ;_fbcd ++{for _ecag :=0;_ecag < _abcb ._bgbdf ;_ecag ++{_bbfg :=_abcb .get (_ecag ,_fbcd );_cebda .put (_cgde +_ecag ,_fefb +_fbcd ,_bbfg );if _gbca {_dg .Printf ("\u0025\u0038\u0064\u002c\u0020\u0025\u0032\u0064\u003a\u0020\u0025\u0073\u000a",_cgde +_ecag ,_fefb +_fbcd ,_bbfg );};};};};};return _cebda ;};type gridTiling struct{_ggb .PdfRectangle ;_ccccf []float64 ;_gdagc []float64 ;_beab map[float64 ]map[float64 ]gridTile ;};func (_cfdb *textTable )getComposite (_aaedb ,_cdfcg int )(paraList ,_ggb .PdfRectangle ){_gcga ,_cbae :=_cfdb ._ggfa [_ggfd (_aaedb ,_cdfcg )];if _gbca {_dg .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0067\u0065\u0074\u0043\u006f\u006d\u0070o\u0073i\u0074\u0065\u0028\u0025\u0064\u002c\u0025\u0064\u0029\u002d\u003e\u0025\u0073\u000a",_aaedb ,_cdfcg ,_gcga .String ());};if !_cbae {return nil ,_ggb .PdfRectangle {};};return _gcga .parasBBox ();};func (_ggbe *imageExtractContext )processOperand (_cg *_ce .ContentStreamOperation ,_af _ce .GraphicsState ,_dee *_ggb .PdfPageResources )error {if _cg .Operand =="\u0042\u0049"&&len (_cg .Params )==1{_fe ,_ccd :=_cg .Params [0].(*_ce .ContentStreamInlineImage );if !_ccd {return nil ;};if _ggf ,_fdf :=_e .GetBoolVal (_fe .ImageMask );_fdf {if _ggf &&!_ggbe ._bb .IncludeInlineStencilMasks {return nil ;};};return _ggbe .extractInlineImage (_fe ,_af ,_dee );}else if _cg .Operand =="\u0044\u006f"&&len (_cg .Params )==1{_gf ,_bdg :=_e .GetName (_cg .Params [0]);if !_bdg {_gc .Log .Debug ("E\u0052\u0052\u004f\u0052\u003a\u0020\u0054\u0079\u0070\u0065");return _dac ;};_ ,_bdgg :=_dee .GetXObjectByName (*_gf );switch _bdgg {case _ggb .XObjectTypeImage :return _ggbe .extractXObjectImage (_gf ,_af ,_dee );case _ggb .XObjectTypeForm :return _ggbe .extractFormImages (_gf ,_af ,_dee );};};return nil ;};func (_feg *shapesState )moveTo (_aed ,_fceg float64 ){_feg ._dcca =true ;_feg ._dgg =_feg .devicePoint (_aed ,_fceg );if _baf {_gc .Log .Info ("\u006d\u006fv\u0065\u0054\u006f\u003a\u0020\u0025\u002e\u0032\u0066\u002c\u0025\u002e\u0032\u0066\u0020\u0064\u0065\u0076\u0069\u0063\u0065\u003d%.\u0032\u0066",_aed ,_fceg ,_feg ._dgg );};};const _ccag =20;func (_gbc *textObject )showTextAdjusted (_cfdc *_e .PdfObjectArray )error {_gec :=false ;for _ ,_dcbg :=range _cfdc .Elements (){switch _dcbg .(type ){case *_e .PdfObjectFloat ,*_e .PdfObjectInteger :_daf ,_dacc :=_e .GetNumberAsFloat (_dcbg );if _dacc !=nil {_gc .Log .Debug ("\u0045\u0052\u0052\u004fR\u003a\u0020\u0073\u0068\u006f\u0077\u0054\u0065\u0078t\u0041\u0064\u006a\u0075\u0073\u0074\u0065\u0064\u002e\u0020\u0042\u0061\u0064\u0020\u006e\u0075\u006d\u0065r\u0069\u0063\u0061\u006c\u0020a\u0072\u0067\u002e\u0020\u006f\u003d\u0025\u0073\u0020\u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_dcbg ,_cfdc );return _dacc ;};_cfef ,_gda :=-_daf *0.001*_gbc ._ddf ._fbe ,0.0;if _gec {_gda ,_cfef =_cfef ,_gda ;};_fad :=_cdcd (_gg .Point {X :_cfef ,Y :_gda });_gbc ._fgcc .Concat (_fad );case *_e .PdfObjectString :_baca ,_bfd :=_e .GetStringBytes (_dcbg );if !_bfd {_gc .Log .Trace ("s\u0068\u006f\u0077\u0054\u0065\u0078\u0074\u0041\u0064j\u0075\u0073\u0074\u0065\u0064\u003a\u0020Ba\u0064\u0020\u0073\u0074r\u0069\u006e\u0067\u0020\u0061\u0072\u0067\u002e\u0020o=\u0025\u0073 \u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_dcbg ,_cfdc );return _e .ErrTypeError ;};_gbc .renderText (_baca );default:_gc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0073\u0068\u006f\u0077\u0054\u0065\u0078\u0074A\u0064\u006a\u0075\u0073\u0074\u0065\u0064\u002e\u0020\u0055\u006e\u0065\u0078p\u0065\u0063\u0074\u0065\u0064\u0020\u0074\u0079\u0070\u0065\u0020\u0028%T\u0029\u0020\u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_dcbg ,_cfdc );return _e .ErrTypeError ;};};return nil ;};func (_febe paraList )sortReadingOrder (){_gc .Log .Trace ("\u0073\u006fr\u0074\u0052\u0065\u0061\u0064i\u006e\u0067\u004f\u0072\u0064e\u0072\u003a\u0020\u0070\u0061\u0072\u0061\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_febe ));if len (_febe )<=1{return ;};_febe .computeEBBoxes ();_fg .Slice (_febe ,func (_fdabg ,_feccb int )bool {return _fdfc (_febe [_fdabg ],_febe [_feccb ])<=0});_bfgc :=_febe .topoOrder ();_febe .reorder (_bfgc );};func (_fca *stateStack )size ()int {return len (*_fca )};func (_fdag *textObject )setCharSpacing (_acab float64 ){if _fdag ==nil {return ;};_fdag ._ddf ._daec =_acab ;if _abgb {_gc .Log .Info ("\u0073\u0065t\u0043\u0068\u0061\u0072\u0053\u0070\u0061\u0063\u0069\u006e\u0067\u003a\u0020\u0025\u002e\u0032\u0066\u0020\u0073\u0074\u0061\u0074e=\u0025\u0073",_acab ,_fdag ._ddf .String ());};};func (_abfc *textWord )bbox ()_ggb .PdfRectangle {return _abfc .PdfRectangle };func _cdde (_aeeb ,_dcga bounded )float64 {return _aeeb .bbox ().Llx -_dcga .bbox ().Urx };func (_gedg *stateStack )pop ()*textState {if _gedg .empty (){return nil ;};_bgba :=*(*_gedg )[len (*_gedg )-1];*_gedg =(*_gedg )[:len (*_gedg )-1];return &_bgba ;};func _adgg (_gfebf float64 ,_gdcf int )int {if _gdcf ==0{_gdcf =1;};_adfb :=float64 (_gdcf );return int (_da .Round (_gfebf /_adfb )*_adfb );};func (_eaag *shapesState )establishSubpath ()*subpath {_ccde ,_ccgd :=_eaag .lastpointEstablished ();if !_ccgd {_eaag ._gcbg =append (_eaag ._gcbg ,_ggae (_ccde ));};if len (_eaag ._gcbg )==0{return nil ;};_eaag ._dcca =false ;return _eaag ._gcbg [len (_eaag ._gcbg )-1];};func (_gfef paraList )reorder (_eace []int ){_bfc :=make (paraList ,len (_gfef ));for _bgde ,_fcge :=range _eace {_bfc [_bgde ]=_gfef [_fcge ];};copy (_gfef ,_bfc );};func (_ecb *stateStack )top ()*textState {if _ecb .empty (){return nil ;};return (*_ecb )[_ecb .size ()-1];};func (_ag *imageExtractContext )extractInlineImage (_cfa *_ce .ContentStreamInlineImage ,_gea _ce .GraphicsState ,_cdd *_ggb .PdfPageResources )error {_fdc ,_fee :=_cfa .ToImage (_cdd );if _fee !=nil {return _fee ;};_gdc ,_fee :=_cfa .GetColorSpace (_cdd );if _fee !=nil {return _fee ;};if _gdc ==nil {_gdc =_ggb .NewPdfColorspaceDeviceGray ();};_fgfd ,_fee :=_gdc .ImageToRGB (*_fdc );if _fee !=nil {return _fee ;};_ebg :=ImageMark {Image :&_fgfd ,Width :_gea .CTM .ScalingFactorX (),Height :_gea .CTM .ScalingFactorY (),Angle :_gea .CTM .Angle ()};_ebg .X ,_ebg .Y =_gea .CTM .Translation ();_ag ._fd =append (_ag ._fd ,_ebg );_ag ._gca ++;return nil ;};func _fedc (_cgfa _ggb .PdfRectangle ,_fdcb []*textLine )*textPara {return &textPara {PdfRectangle :_cgfa ,_adafb :_fdcb };};const (_fgedc markKind =iota ;_gccc ;_gcbb ;_dbefg ;);func _eegdda (_bdec []float64 ,_bdede ,_gbdgg float64 )[]float64 {_cgdbc ,_daedg :=_bdede ,_gbdgg ;if _daedg < _cgdbc {_cgdbc ,_daedg =_daedg ,_cgdbc ;};_aabeb :=make ([]float64 ,0,len (_bdec )+2);_aabeb =append (_aabeb ,_bdede );for _ ,_febde :=range _bdec {if _febde <=_cgdbc {continue ;}else if _febde >=_daedg {break ;};_aabeb =append (_aabeb ,_febde );};_aabeb =append (_aabeb ,_gbdgg );return _aabeb ;};func _gbe (_efc _ggb .PdfRectangle )textState {return textState {_gee :100,_fgc :RenderModeFill ,_egae :_efc };};func (_gfbf *wordBag )pullWord (_gebf *textWord ,_agb int ,_adga map[int ]map[*textWord ]struct{}){_gfbf .PdfRectangle =_egg (_gfbf .PdfRectangle ,_gebf .PdfRectangle );if _gebf ._gcfg > _gfbf ._eeb {_gfbf ._eeb =_gebf ._gcfg ;};_gfbf ._cgfc [_agb ]=append (_gfbf ._cgfc [_agb ],_gebf );_adga [_agb ][_gebf ]=struct{}{};};func (_ece *shapesState )lastpointEstablished ()(_gg .Point ,bool ){if _ece ._dcca {return _ece ._dgg ,false ;};_abf :=len (_ece ._gcbg );if _abf > 0&&_ece ._gcbg [_abf -1]._cgdfd {return _ece ._gcbg [_abf -1].last (),false ;};return _gg .Point {},true ;};func (_gcea paraList )tables ()[]TextTable {var _eagd []TextTable ;if _gbca {_gc .Log .Info ("\u0070\u0061\u0072\u0061\u0073\u002e\u0074\u0061\u0062\u006c\u0065\u0073\u003a");};for _ ,_dgee :=range _gcea {_fefd :=_dgee ._aecbg ;if _fefd !=nil &&_fefd .isExportable (){_eagd =append (_eagd ,_fefd .toTextTable ());};};return _eagd ;};

// String returns a string describing `ma`.
func (_eefe TextMarkArray )String ()string {_eec :=len (_eefe ._deg );if _eec ==0{return "\u0045\u004d\u0050T\u0059";};_degb :=_eefe ._deg [0];_bec :=_eefe ._deg [_eec -1];return _dg .Sprintf ("\u007b\u0054\u0045\u0058\u0054\u004d\u0041\u0052K\u0041\u0052\u0052AY\u003a\u0020\u0025\u0064\u0020\u0065l\u0065\u006d\u0065\u006e\u0074\u0073\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025s\u000a\u0009\u0020\u006c\u0061\u0073\u0074\u003d%\u0073\u007d",_eec ,_degb ,_bec );};func (_acabd *textLine )pullWord (_ffbe *wordBag ,_edega *textWord ,_afba int ){_acabd .appendWord (_edega );_ffbe .removeWord (_edega ,_afba );};type rectRuling struct{_dbedd rulingKind ;_abdcf markKind ;_be .Color ;_ggb .PdfRectangle ;};

// BBox returns the smallest axis-aligned rectangle that encloses all the TextMarks in `ma`.
func (_ceac *TextMarkArray )BBox ()(_ggb .PdfRectangle ,bool ){var _gdbc _ggb .PdfRectangle ;_feedd :=false ;for _ ,_cce :=range _ceac ._deg {if _cce .Meta ||_fegcg (_cce .Text ){continue ;};if _feedd {_gdbc =_egg (_gdbc ,_cce .BBox );}else {_gdbc =_cce .BBox ;_feedd =true ;};};return _gdbc ,_feedd ;};func (_gbce *wordBag )depthBand (_gbaba ,_ced float64 )[]int {if len (_gbce ._cgfc )==0{return nil ;};return _gbce .depthRange (_gbce .getDepthIdx (_gbaba ),_gbce .getDepthIdx (_ced ));};func (_cdca *textObject )setWordSpacing (_bcce float64 ){if _cdca ==nil {return ;};_cdca ._ddf ._bca =_bcce ;};type fontEntry struct{_gcf *_ggb .PdfFont ;_eae int64 ;};func (_egdg *wordBag )arrangeText ()*textPara {_egdg .sort ();if _bced {_egdg .removeDuplicates ();};var _ffaf []*textLine ;for _ ,_eccf :=range _egdg .depthIndexes (){for !_egdg .empty (_eccf ){_cadg :=_egdg .firstReadingIndex (_eccf );_cbed :=_egdg .firstWord (_cadg );_efcgc :=_cfdf (_egdg ,_cadg );_fabc :=_cbed ._gcfg ;_dfge :=_cbed ._ceceec -_ddbc *_fabc ;_bfdc :=_cbed ._ceceec +_ddbc *_fabc ;_feeb :=_dbaa *_fabc ;_bfee :=_cdba *_fabc ;_ebgba :for {var _egdgb *textWord ;_ggcg :=0;for _ ,_faff :=range _egdg .depthBand (_dfge ,_bfdc ){_eeag :=_egdg .highestWord (_faff ,_dfge ,_bfdc );if _eeag ==nil {continue ;};_bcbd :=_cdde (_eeag ,_efcgc ._cdcf [len (_efcgc ._cdcf )-1]);if _bcbd < -_bfee {break _ebgba ;};if _bcbd > _feeb {continue ;};if _egdgb !=nil &&_edcg (_eeag ,_egdgb )>=0{continue ;};_egdgb =_eeag ;_ggcg =_faff ;};if _egdgb ==nil {break ;};_efcgc .pullWord (_egdg ,_egdgb ,_ggcg );};_efcgc .markWordBoundaries ();_ffaf =append (_ffaf ,_efcgc );};};if len (_ffaf )==0{return nil ;};_fg .Slice (_ffaf ,func (_bcfde ,_daegf int )bool {return _fdfc (_ffaf [_bcfde ],_ffaf [_daegf ])< 0});_fcb :=_fedc (_egdg .PdfRectangle ,_ffaf );if _ffed {_gc .Log .Info ("\u0061\u0072\u0072an\u0067\u0065\u0054\u0065\u0078\u0074\u0020\u0021\u0021\u0021\u0020\u0070\u0061\u0072\u0061\u003d\u0025\u0073",_fcb .String ());if _fefea {for _cfec ,_ebfc :=range _fcb ._adafb {_dg .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_cfec ,_ebfc .String ());if _cba {for _fcd ,_edba :=range _ebfc ._cdcf {_dg .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_fcd ,_edba .String ());for _cacf ,_gfcg :=range _edba ._cffc {_dg .Printf ("\u00251\u0032\u0064\u003a\u0020\u0025\u0073\n",_cacf ,_gfcg .String ());};};};};};};return _fcb ;};type textState struct{_daec float64 ;_bca float64 ;_gee float64 ;_ecd float64 ;_fbe float64 ;_fgc RenderMode ;_ecda float64 ;_dea *_ggb .PdfFont ;_egae _ggb .PdfRectangle ;_egc int ;_baef int ;};type lineRuling struct{_egdff rulingKind ;_abcc markKind ;_be .Color ;_ggbab ,_edgb _gg .Point ;};func (_dba *textObject )setFont (_ceg string ,_bcfd float64 )error {if _dba ==nil {return nil ;};_dba ._ddf ._fbe =_bcfd ;_ebee ,_ccab :=_dba .getFont (_ceg );if _ccab !=nil {return _ccab ;};_dba ._ddf ._dea =_ebee ;if _dba ._fgegc .empty (){_dba ._fgegc .push (_dba ._ddf );}else {_dba ._fgegc .top ()._dea =_dba ._ddf ._dea ;};return nil ;};func _deddb (_cgbgg _ggb .PdfRectangle ,_fbee ,_cfba ,_agba ,_bdbd *ruling )gridTile {_debe :=_cgbgg .Llx ;_cebc :=_cgbgg .Urx ;_daed :=_cgbgg .Lly ;_beba :=_cgbgg .Ury ;return gridTile {PdfRectangle :_cgbgg ,_bbegg :_fbee !=nil &&_fbee .encloses (_daed ,_beba ),_bedf :_cfba !=nil &&_cfba .encloses (_daed ,_beba ),_acef :_agba !=nil &&_agba .encloses (_debe ,_cebc ),_bddg :_bdbd !=nil &&_bdbd .encloses (_debe ,_cebc )};};

// ToTextMark returns the public view of `tm`.
func (_cddd *textMark )ToTextMark ()TextMark {return TextMark {Text :_cddd ._dfag ,Original :_cddd ._eca ,BBox :_cddd ._ceec ,Font :_cddd ._acgab ,FontSize :_cddd ._bcb ,FillColor :_cddd ._feeg ,StrokeColor :_cddd ._deaa ,Orientation :_cddd ._aaff };};func (_dafg *textObject )getCurrentFont ()*_ggb .PdfFont {var _afe *_ggb .PdfFont ;if !_dafg ._fgegc .empty (){_afe =_dafg ._fgegc .top ()._dea ;};if _afe ==nil {_gc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u004e\u006f\u0020\u0066\u006f\u006e\u0074\u0020\u0064\u0065\u0066\u0069\u006e\u0065\u0064\u002e\u0020U\u0073\u0069\u006e\u0067\u0020d\u0065\u0066a\u0075\u006c\u0074\u002e");return _ggb .DefaultFont ();};return _afe ;};type textObject struct{_dgbc *Extractor ;_bfa *_ggb .PdfPageResources ;_gadc _ce .GraphicsState ;_ddf *textState ;_fgegc *stateStack ;_fgcc _gg .Matrix ;_fggc _gg .Matrix ;_bfg []*textMark ;_ede bool ;};func _edfb (_bdeec []pathSection ){if _ebgg < 0.0{return ;};if _febdg {_gc .Log .Info ("\u0067\u0072\u0061\u006e\u0075\u006c\u0061\u0072\u0069\u007a\u0065\u003a\u0020\u0025\u0064 \u0073u\u0062\u0070\u0061\u0074\u0068\u0020\u0073\u0065\u0063\u0074\u0069\u006f\u006e\u0073",len (_bdeec ));};for _cbfbe ,_fdgg :=range _bdeec {for _ccfcd ,_cfafb :=range _fdgg ._faef {for _bagd ,_ccfgf :=range _cfafb ._gbab {_cfafb ._gbab [_bagd ]=_gg .Point {X :_efeab (_ccfgf .X ),Y :_efeab (_ccfgf .Y )};if _febdg {_gace :=_cfafb ._gbab [_bagd ];if !_bcgcc (_ccfgf ,_gace ){_dgacb :=_gg .Point {X :_gace .X -_ccfgf .X ,Y :_gace .Y -_ccfgf .Y };_dg .Printf ("\u0025\u0034d \u002d\u0020\u00254\u0064\u0020\u002d\u0020%4d\u003a %\u002e\u0032\u0066\u0020\u2192\u0020\u0025.2\u0066\u0020\u0028\u0025\u0067\u0029\u000a",_cbfbe ,_ccfcd ,_bagd ,_ccfgf ,_gace ,_dgacb );};};};};};};func (_fadd *shapesState )fill (_aeg *[]pathSection ){_affd :=pathSection {_faef :_fadd ._gcbg ,Color :_fadd ._cgg .getFillColor ()};*_aeg =append (*_aeg ,_affd );if _febdg {_bag :=_affd .bbox ();_dg .Printf ("\u0020 \u0020\u0020\u0046\u0049\u004c\u004c\u003a %\u0032\u0064\u0020\u0066\u0069\u006c\u006c\u0073\u0020\u0028\u0025\u0064\u0020\u006ee\u0077\u0029 \u0073\u0073\u003d%\u0073\u0020\u0063\u006f\u006c\u006f\u0072\u003d\u0025\u0033\u0076\u0020\u0025\u0036\u002e\u0032f\u003d\u00256.\u0032\u0066\u0078%\u0036\u002e\u0032\u0066\u000a",len (*_aeg ),len (_affd ._faef ),_fadd ,_affd .Color ,_bag ,_bag .Width (),_bag .Height ());if _fgebf {for _ebb ,_dge :=range _affd ._faef {_dg .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_ebb ,_dge );if _ebb ==10{break ;};};};};};

// String returns a description of `v`.
func (_dagb *ruling )String ()string {if _dagb ._dced ==_gcbc {return "\u004e\u004f\u0054\u0020\u0052\u0055\u004c\u0049\u004e\u0047";};_abeb ,_efdfc :="\u0078","\u0079";if _dagb ._dced ==_ceab {_abeb ,_efdfc ="\u0079","\u0078";};_gbgd :="";if _dagb ._ceeeb !=0.0{_gbgd =_dg .Sprintf (" \u0077\u0069\u0064\u0074\u0068\u003d\u0025\u002e\u0032\u0066",_dagb ._ceeeb );};return _dg .Sprintf ("\u0025\u00310\u0073\u0020\u0025\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u0020\u002d\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0028\u0025\u0036\u002e\u0032\u0066\u0029\u0020\u0025\u0073\u0020\u0025\u0076\u0025\u0073",_dagb ._dced ,_abeb ,_dagb ._eed ,_efdfc ,_dagb ._ffbc ,_dagb ._ccdb ,_dagb ._ccdb -_dagb ._ffbc ,_dagb ._dafb ,_dagb .Color ,_gbgd );};func (_gcc *shapesState )closePath (){if _gcc ._dcca {_gcc ._gcbg =append (_gcc ._gcbg ,_ggae (_gcc ._dgg ));_gcc ._dcca =false ;}else if len (_gcc ._gcbg )==0{if _baf {_gc .Log .Debug ("\u0063\u006c\u006f\u0073eP\u0061\u0074\u0068\u0020\u0077\u0069\u0074\u0068\u0020\u006e\u006f\u0020\u0070\u0061t\u0068");};_gcc ._dcca =false ;return ;};_gcc ._gcbg [len (_gcc ._gcbg )-1].close ();if _baf {_gc .Log .Info ("\u0063\u006c\u006f\u0073\u0065\u0050\u0061\u0074\u0068\u003a\u0020\u0025\u0073",_gcc );};};func (_fed *textObject )getFillColor ()_be .Color {return _feebc (_fed ._gadc .ColorspaceNonStroking ,_fed ._gadc .ColorNonStroking );};func _acba (_cdgba bounded )float64 {return -_cdgba .bbox ().Lly };func (_adca *textPara )fontsize ()float64 {return _adca ._adafb [0]._fffb };func _ggfe (_aefca string ,_dgdb int )string {if len (_aefca )< _dgdb {return _aefca ;};return _aefca [:_dgdb ];};func (_ddgc *textObject )getFontDirect (_cgc string )(*_ggb .PdfFont ,error ){_aga ,_cfg :=_ddgc .getFontDict (_cgc );if _cfg !=nil {return nil ,_cfg ;};_afgbc ,_cfg :=_ggb .NewPdfFontFromPdfObject (_aga );if _cfg !=nil {_gc .Log .Debug ("\u0067\u0065\u0074\u0046\u006f\u006e\u0074\u0044\u0069\u0072\u0065\u0063\u0074\u003a\u0020\u004e\u0065\u0077Pd\u0066F\u006f\u006e\u0074\u0046\u0072\u006f\u006d\u0050\u0064\u0066\u004f\u0062j\u0065\u0063\u0074\u0020\u0066\u0061\u0069\u006c\u0065\u0064\u002e\u0020\u006e\u0061\u006d\u0065\u003d%\u0023\u0071\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_cgc ,_cfg );};return _afgbc ,_cfg ;};func _aege (_fgd float64 )int {var _edeg int ;if _fgd >=0{_edeg =int (_fgd /_dgge );}else {_edeg =int (_fgd /_dgge )-1;};return _edeg ;};func _cfge (_gbee string )(string ,bool ){_bcfgc :=[]rune (_gbee );if len (_bcfgc )!=1{return "",false ;};_defg ,_beaef :=_dbab [_bcfgc [0]];return _defg ,_beaef ;};func (_deaec paraList )yNeighbours (_cfcda float64 )map[*textPara ][]int {_bfcg :=make ([]event ,2*len (_deaec ));if _cfcda ==0{for _fcec ,_dacge :=range _deaec {_bfcg [2*_fcec ]=event {_dacge .Lly ,true ,_fcec };_bfcg [2*_fcec +1]=event {_dacge .Ury ,false ,_fcec };};}else {for _bdbef ,_cacda :=range _deaec {_bfcg [2*_bdbef ]=event {_cacda .Lly -_cfcda *_cacda .fontsize (),true ,_bdbef };_bfcg [2*_bdbef +1]=event {_cacda .Ury +_cfcda *_cacda .fontsize (),false ,_bdbef };};};return _deaec .eventNeighbours (_bfcg );};var _gbba =TextMark {Text :"\u005b\u0058\u005d",Original :"\u0020",Meta :true ,FillColor :_be .White ,StrokeColor :_be .White };const (_gcbc rulingKind =iota ;_ceab ;_deeb ;);func _bcgcc (_fafb ,_agcgg _gg .Point )bool {return _fafb .X ==_agcgg .X &&_fafb .Y ==_agcgg .Y };func (_ddcb lineRuling )asRuling ()(*ruling ,bool ){_ggaea :=ruling {_dced :_ddcb ._egdff ,Color :_ddcb .Color ,_dafb :_gccc };switch _ddcb ._egdff {case _deeb :_ggaea ._eed =_ddcb .xMean ();_ggaea ._ffbc =_da .Min (_ddcb ._ggbab .Y ,_ddcb ._edgb .Y );_ggaea ._ccdb =_da .Max (_ddcb ._ggbab .Y ,_ddcb ._edgb .Y );case _ceab :_ggaea ._eed =_ddcb .yMean ();_ggaea ._ffbc =_da .Min (_ddcb ._ggbab .X ,_ddcb ._edgb .X );_ggaea ._ccdb =_da .Max (_ddcb ._ggbab .X ,_ddcb ._edgb .X );default:_gc .Log .Error ("\u0062\u0061\u0064\u0020pr\u0069\u006d\u0061\u0072\u0079\u0020\u006b\u0069\u006e\u0064\u003d\u0025\u0064",_ddcb ._egdff );return nil ,false ;};return &_ggaea ,true ;};func (_bacac paraList )merge ()*textPara {_gc .Log .Trace ("\u006d\u0065\u0072\u0067\u0065:\u0020\u0070\u0061\u0072\u0061\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_bacac ));if len (_bacac )==0{return nil ;};_bacac .sortReadingOrder ();_fadbg :=_bacac [0].PdfRectangle ;_eaca :=_bacac [0]._adafb ;for _ ,_abec :=range _bacac [1:]{_fadbg =_egg (_fadbg ,_abec .PdfRectangle );_eaca =append (_eaca ,_abec ._adafb ...);};return _fedc (_fadbg ,_eaca );};func (_feddd rulingList )tidied (_bdaf string )rulingList {_bdef :=_feddd .removeDuplicates ();_bdef .log ("\u0075n\u0069\u0071\u0075\u0065\u0073");_cdag :=_bdef .snapToGroups ();if _cdag ==nil {return nil ;};_cdag .sort ();if _febdg {_gc .Log .Info ("\u0074\u0069\u0064i\u0065\u0064\u003a\u0020\u0025\u0071\u0020\u0076\u0065\u0063\u0073\u003d\u0025\u0064\u0020\u0075\u006e\u0069\u0071\u0075\u0065\u0073\u003d\u0025\u0064\u0020\u0063\u006f\u0061l\u0065\u0073\u0063\u0065\u0064\u003d\u0025\u0064",_bdaf ,len (_feddd ),len (_bdef ),len (_cdag ));};_cdag .log ("\u0063o\u0061\u006c\u0065\u0073\u0063\u0065d");return _cdag ;};func _aeag (_fdabb _ggb .PdfRectangle )rulingKind {_bged :=_fdabb .Width ();_deddc :=_fdabb .Height ();if _bged > _deddc {if _bged >=_cgcc {return _ceab ;};}else {if _deddc >=_cgcc {return _deeb ;};};return _gcbc ;};

// ToText returns the page text as a single string.
// Deprecated: This function is deprecated and will be removed in a future major version. Please use
// Text() instead.
func (_gaf PageText )ToText ()string {return _gaf .Text ()};func (_aaad paraList )writeText (_eecf _c .Writer ){for _dcbb ,_fdfad :=range _aaad {if _fdfad ._cacc {continue ;};_fdfad .writeText (_eecf );if _dcbb !=len (_aaad )-1{if _bccd (_fdfad ,_aaad [_dcbb +1]){_eecf .Write ([]byte ("\u0020"));}else {_eecf .Write ([]byte ("\u000a"));_eecf .Write ([]byte ("\u000a"));};};};_eecf .Write ([]byte ("\u000a"));_eecf .Write ([]byte ("\u000a"));};func (_gfefg rulingList )blocks (_fceb ,_fgcf *ruling )bool {if _fceb ._ffbc > _fgcf ._ccdb ||_fgcf ._ffbc > _fceb ._ccdb {return false ;};_bdgbg :=_da .Max (_fceb ._ffbc ,_fgcf ._ffbc );_bgdce :=_da .Min (_fceb ._ccdb ,_fgcf ._ccdb );if _fceb ._eed > _fgcf ._eed {_fceb ,_fgcf =_fgcf ,_fceb ;};for _ ,_eeac :=range _gfefg {if _fceb ._eed <=_eeac ._eed +_face &&_eeac ._eed <=_fgcf ._eed +_face &&_eeac ._ffbc <=_bgdce &&_bdgbg <=_eeac ._ccdb {return true ;};};return false ;};func (_bffda paraList )findTextTables ()[]*textTable {var _egef []*textTable ;for _ ,_bdea :=range _bffda {if _bdea .taken ()||_bdea .Width ()==0{continue ;};_bafba :=_bdea .isAtom ();if _bafba ==nil {continue ;};_bafba .growTable ();if _bafba ._bgbdf *_bafba ._ggbac < _beaa {continue ;};_bafba .markCells ();_bafba .log ("\u0067\u0072\u006fw\u006e");_egef =append (_egef ,_bafba );};return _egef ;};func (_adf *textObject )setTextRise (_ffb float64 ){if _adf ==nil {return ;};_adf ._ddf ._ecda =_ffb ;};type subpath struct{_gbab []_gg .Point ;_cgdfd bool ;};func (_adbc *textTable )growTable (){_cgabb :=func (_gedc paraList ){_adbc ._ggbac ++;for _egfeb :=0;_egfeb < _adbc ._bgbdf ;_egfeb ++{_dbbda :=_gedc [_egfeb ];_adbc .put (_egfeb ,_adbc ._ggbac -1,_dbbda );};};_cfcd :=func (_eddgd paraList ){_adbc ._bgbdf ++;for _ebffa :=0;_ebffa < _adbc ._ggbac ;_ebffa ++{_dcfgb :=_eddgd [_ebffa ];_adbc .put (_adbc ._bgbdf -1,_ebffa ,_dcfgb );};};if _ggaf {_adbc .log ("\u0067r\u006f\u0077\u0054\u0061\u0062\u006ce");};for _bedbc :=0;;_bedbc ++{_ccfa :=false ;_deaac :=_adbc .getDown ();_dbg :=_adbc .getRight ();if _ggaf {_dg .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_bedbc ,_adbc );_dg .Printf ("\u0020\u0020 \u0020\u0020\u0020 \u0020\u0064\u006f\u0077\u006e\u003d\u0025\u0073\u000a",_deaac );_dg .Printf ("\u0020\u0020 \u0020\u0020\u0020 \u0072\u0069\u0067\u0068\u0074\u003d\u0025\u0073\u000a",_dbg );};if _deaac !=nil &&_dbg !=nil {_cggeg :=_deaac [len (_deaac )-1];if _cggeg !=nil &&!_cggeg ._afcf &&_cggeg ==_dbg [len (_dbg )-1]{_cgabb (_deaac );if _dbg =_adbc .getRight ();_dbg !=nil {_cfcd (_dbg );_adbc .put (_adbc ._bgbdf -1,_adbc ._ggbac -1,_cggeg );};_ccfa =true ;};};if !_ccfa &&_deaac !=nil {_cgabb (_deaac );_ccfa =true ;};if !_ccfa &&_dbg !=nil {_cfcd (_dbg );_ccfa =true ;};if !_ccfa {break ;};};};func _agbed (_cafa _ggb .PdfRectangle )*ruling {return &ruling {_dced :_ceab ,_eed :_cafa .Ury ,_ffbc :_cafa .Llx ,_ccdb :_cafa .Urx };};func (_bgace *textTable )isExportable ()bool {if _bgace ._adbb {return true ;};_abdeg :=func (_edaf int )bool {_cdea :=_bgace .get (0,_edaf );if _cdea ==nil {return false ;};_edeed :=_cdea .text ();_fcbg :=_b .RuneCountInString (_edeed );_gafg :=_agce .MatchString (_edeed );return _fcbg <=1||_gafg ;};for _dbfb :=0;_dbfb < _bgace ._ggbac ;_dbfb ++{if !_abdeg (_dbfb ){return true ;};};return false ;};func _gfcc (_bfcd []_e .PdfObject )(_dafe ,_bdfdc float64 ,_aace error ){if len (_bfcd )!=2{return 0,0,_dg .Errorf ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0070\u0061\u0072\u0061\u006d\u0073\u003a \u0025\u0064",len (_bfcd ));};_fagfa ,_aace :=_e .GetNumbersAsFloat (_bfcd );if _aace !=nil {return 0,0,_aace ;};return _fagfa [0],_fagfa [1],nil ;};func (_gcac *wordBag )firstReadingIndex (_cbbf int )int {_efb :=_gcac .firstWord (_cbbf )._gcfg ;_dedd :=float64 (_cbbf +1)*_dgge ;_geb :=_dedd +_edcb *_efb ;_eafc :=_cbbf ;for _ ,_aggd :=range _gcac .depthBand (_dedd ,_geb ){if _edcg (_gcac .firstWord (_aggd ),_gcac .firstWord (_eafc ))< 0{_eafc =_aggd ;};};return _eafc ;};func _gdag (_ebab []TextMark ,_cdf *int ,_egge string )[]TextMark {_febb :=_gbba ;_febb .Text =_egge ;return _dcdg (_ebab ,_cdf ,_febb );};func (_dfbc *textTable )getDown ()paraList {_ggdd :=make (paraList ,_dfbc ._bgbdf );for _begg :=0;_begg < _dfbc ._bgbdf ;_begg ++{_efbbd :=_dfbc .get (_begg ,_dfbc ._ggbac -1)._dfad ;if _efbbd ==nil ||_efbbd ._afcf {return nil ;};_ggdd [_begg ]=_efbbd ;};for _baegg :=0;_baegg < _dfbc ._bgbdf -1;_baegg ++{if _ggdd [_baegg ]._accg !=_ggdd [_baegg +1]{return nil ;};};return _ggdd ;};func (_fdad rulingList )intersections ()map[int ]intSet {var _baacc ,_fgebc []int ;for _defc ,_cafab :=range _fdad {switch _cafab ._dced {case _deeb :_baacc =append (_baacc ,_defc );case _ceab :_fgebc =append (_fgebc ,_defc );};};if len (_baacc )< _dec +1||len (_fgebc )< _agcc +1{return nil ;};if len (_baacc )+len (_fgebc )> _gecb {_gc .Log .Debug ("\u0069\u006e\u0074\u0065\u0072\u0073e\u0063\u0074\u0069\u006f\u006e\u0073\u003a\u0020\u0054\u004f\u004f\u0020\u004d\u0041\u004e\u0059\u0020\u0072\u0075\u006ci\u006e\u0067\u0073\u0020\u0076\u0065\u0063\u0073\u003d\u0025\u0064\u0020\u003d\u0020%\u0064 \u0078\u0020\u0025\u0064",len (_fdad ),len (_baacc ),len (_fgebc ));return nil ;};_gdabe :=make (map[int ]intSet ,len (_baacc )+len (_fgebc ));for _ ,_aadg :=range _baacc {for _ ,_aefd :=range _fgebc {if _fdad [_aadg ].intersects (_fdad [_aefd ]){if _ ,_aabe :=_gdabe [_aadg ];!_aabe {_gdabe [_aadg ]=make (intSet );};if _ ,_fded :=_gdabe [_aefd ];!_fded {_gdabe [_aefd ]=make (intSet );};_gdabe [_aadg ].add (_aefd );_gdabe [_aefd ].add (_aadg );};};};return _gdabe ;};func (_gfbeb paraList )toTextMarks ()[]TextMark {_edgg :=0;var _edcf []TextMark ;for _dcfgf ,_dcce :=range _gfbeb {if _dcce ._cacc {continue ;};_cgcfa :=_dcce .toTextMarks (&_edgg );_edcf =append (_edcf ,_cgcfa ...);if _dcfgf !=len (_gfbeb )-1{if _bccd (_dcce ,_gfbeb [_dcfgf +1]){_edcf =_gdag (_edcf ,&_edgg ,"\u0020");}else {_edcf =_gdag (_edcf ,&_edgg ,"\u000a");_edcf =_gdag (_edcf ,&_edgg ,"\u000a");};};};_edcf =_gdag (_edcf ,&_edgg ,"\u000a");_edcf =_gdag (_edcf ,&_edgg ,"\u000a");return _edcf ;};func _gacab (_ddef []*textWord ,_bfbe *textWord )[]*textWord {for _fgec ,_dfbaa :=range _ddef {if _dfbaa ==_bfbe {return _fadf (_ddef ,_fgec );};};_gc .Log .Error ("\u0072\u0065\u006d\u006f\u0076e\u0057\u006f\u0072\u0064\u003a\u0020\u0077\u006f\u0072\u0064\u0073\u0020\u0064o\u0065\u0073\u006e\u0027\u0074\u0020\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0020\u0077\u006f\u0072\u0064\u003d\u0025\u0073",_bfbe );return nil ;};func _ggbbe (_geada string ,_daga []rulingList ){_gc .Log .Info ("\u0024\u0024 \u0025\u0064\u0020g\u0072\u0069\u0064\u0073\u0020\u002d\u0020\u0025\u0073",len (_daga ),_geada );for _eefb ,_feee :=range _daga {_dg .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_eefb ,_feee .String ());};};

// TextTable represents a table.
// Cells are ordered top-to-bottom, left-to-right.
// Cells[y] is the (0-offset) y'th row in the table.
// Cells[y][x] is the (0-offset) x'th column in the table.
type TextTable struct{W ,H int ;Cells [][]TableCell ;};func (_dgdc *wordBag )depthRange (_efad ,_faee int )[]int {var _fcae []int ;for _gbec :=range _dgdc ._cgfc {if _efad <=_gbec &&_gbec <=_faee {_fcae =append (_fcae ,_gbec );};};if len (_fcae )==0{return nil ;};_fg .Ints (_fcae );return _fcae ;};func _eacfg (_gcgd []*textMark ,_caeb _ggb .PdfRectangle )[]*textWord {var _aebda []*textWord ;var _bcdc *textWord ;_cfbcc :=func (){if _bcdc !=nil {_deff :=_bcdc .computeText ();if !_fegcg (_deff ){_bcdc ._aeaceg =_deff ;_aebda =append (_aebda ,_bcdc );if _ccee {_gc .Log .Info ("\u0077o\u0072\u0064\u003d\u0025\u0073",_bcdc .String ());for _efagb ,_cddfe :=range _bcdc ._cffc {_dg .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_efagb ,_cddfe .String ());};};};_bcdc =nil ;};};for _ ,_bfdca :=range _gcgd {if _becf &&_bcdc !=nil &&len (_bcdc ._cffc )> 0{_aacdg :=_bcdc ._cffc [len (_bcdc ._cffc )-1];_fgae ,_ebdf :=_cfge (_bfdca ._dfag );_eagfd ,_gbdad :=_cfge (_aacdg ._dfag );if _ebdf &&!_gbdad &&_aacdg .inDiacriticArea (_bfdca ){_bcdc .addDiacritic (_fgae );continue ;};if _gbdad &&!_ebdf &&_bfdca .inDiacriticArea (_aacdg ){_bcdc ._cffc =_bcdc ._cffc [:len (_bcdc ._cffc )-1];_bcdc .appendMark (_bfdca ,_caeb );_bcdc .addDiacritic (_eagfd );continue ;};};_gggd :=_fegcg (_bfdca ._dfag );if _gggd {_cfbcc ();continue ;};if _bcdc ==nil &&!_gggd {_bcdc =_abbe ([]*textMark {_bfdca },_caeb );continue ;};_ceeca :=_bcdc ._gcfg ;_aabc :=_da .Abs (_acb (_caeb ,_bfdca )-_bcdc ._ceceec )/_ceeca ;_faagf :=_cdde (_bfdca ,_bcdc )/_ceeca ;if _faagf >=_gagad ||!(-_gdefb <=_faagf &&_aabc <=_fggb ){_cfbcc ();_bcdc =_abbe ([]*textMark {_bfdca },_caeb );continue ;};_bcdc .appendMark (_bfdca ,_caeb );};_cfbcc ();return _aebda ;};func (_abc *wordBag )blocked (_cdgb *textWord )bool {if _cdgb .Urx < _abc .Llx {_abcf :=_dbae (_cdgb .PdfRectangle );_feac :=_bdcdf (_abc .PdfRectangle );if _abc ._cgcf .blocks (_abcf ,_feac ){if _ebbd {_gc .Log .Info ("\u0062\u006c\u006f\u0063ke\u0064\u0020\u2190\u0078\u003a\u0020\u0025\u0073\u0020\u0025\u0073",_cdgb ,_abc );};return true ;};}else if _abc .Urx < _cdgb .Llx {_bbb :=_dbae (_abc .PdfRectangle );_ggd :=_bdcdf (_cdgb .PdfRectangle );if _abc ._cgcf .blocks (_bbb ,_ggd ){if _ebbd {_gc .Log .Info ("b\u006co\u0063\u006b\u0065\u0064\u0020\u0078\u2192\u0020:\u0020\u0025\u0073\u0020%s",_cdgb ,_abc );};return true ;};};if _cdgb .Ury < _abc .Lly {_bbbg :=_agbed (_cdgb .PdfRectangle );_dabd :=_fagf (_abc .PdfRectangle );if _abc ._gfcb .blocks (_bbbg ,_dabd ){if _ebbd {_gc .Log .Info ("\u0062\u006c\u006f\u0063ke\u0064\u0020\u2190\u0079\u003a\u0020\u0025\u0073\u0020\u0025\u0073",_cdgb ,_abc );};return true ;};}else if _abc .Ury < _cdgb .Lly {_gge :=_agbed (_abc .PdfRectangle );_afgf :=_fagf (_cdgb .PdfRectangle );if _abc ._gfcb .blocks (_gge ,_afgf ){if _ebbd {_gc .Log .Info ("b\u006co\u0063\u006b\u0065\u0064\u0020\u0079\u2192\u0020:\u0020\u0025\u0073\u0020%s",_cdgb ,_abc );};return true ;};};return false ;};func (_cfc *wordBag )empty (_bgbc int )bool {_ ,_dfa :=_cfc ._cgfc [_bgbc ];return !_dfa };func (_gfbff paraList )computeEBBoxes (){if _ccee {_gc .Log .Info ("\u0063o\u006dp\u0075\u0074\u0065\u0045\u0042\u0042\u006f\u0078\u0065\u0073\u003a");};for _ ,_bcac :=range _gfbff {_bcac ._dbea =_bcac .PdfRectangle ;};_fffc :=_gfbff .yNeighbours (0);for _degd ,_cgfb :=range _gfbff {_fbgf :=_cgfb ._dbea ;_aebe ,_aacac :=-1.0e9,+1.0e9;for _ ,_dgaa :=range _fffc [_cgfb ]{_dadg :=_gfbff [_dgaa ]._dbea ;if _dadg .Urx < _fbgf .Llx {_aebe =_da .Max (_aebe ,_dadg .Urx );}else if _fbgf .Urx < _dadg .Llx {_aacac =_da .Min (_aacac ,_dadg .Llx );};};for _defa ,_facg :=range _gfbff {_gbda :=_facg ._dbea ;if _degd ==_defa ||_gbda .Ury > _fbgf .Lly {continue ;};if _aebe <=_gbda .Llx &&_gbda .Llx < _fbgf .Llx {_fbgf .Llx =_gbda .Llx ;}else if _gbda .Urx <=_aacac &&_fbgf .Urx < _gbda .Urx {_fbgf .Urx =_gbda .Urx ;};};if _ccee {_dg .Printf ("\u0025\u0034\u0064\u003a %\u0036\u002e\u0032\u0066\u2192\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0071\u000a",_degd ,_cgfb ._dbea ,_fbgf ,_ggfe (_cgfb .text (),50));};_cgfb ._dbea =_fbgf ;};if _gbeca {for _ ,_cccb :=range _gfbff {_cccb .PdfRectangle =_cccb ._dbea ;};};};func (_cdedf paraList )findGridTables (_dfbf []gridTiling )[]*textTable {if _gbca {_gc .Log .Info ("\u0066i\u006e\u0064\u0047\u0072\u0069\u0064\u0054\u0061\u0062\u006c\u0065s\u003a\u0020\u0025\u0064\u0020\u0070\u0061\u0072\u0061\u0073",len (_cdedf ));for _cbeg ,_eega :=range _cdedf {_dg .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_cbeg ,_eega );};};var _egab []*textTable ;for _gaagc ,_bebab :=range _dfbf {_fgagd ,_egad :=_cdedf .findTableGrid (_bebab );if _fgagd !=nil {_fgagd .log (_dg .Sprintf ("\u0066\u0069\u006e\u0064Ta\u0062\u006c\u0065\u0057\u0069\u0074\u0068\u0047\u0072\u0069\u0064\u0073\u003a\u0020%\u0064",_gaagc ));_egab =append (_egab ,_fgagd );_fgagd .markCells ();};for _facgd :=range _egad {_facgd ._afcf =true ;};};if _gbca {_gc .Log .Info ("\u0066i\u006e\u0064\u0047\u0072i\u0064\u0054\u0061\u0062\u006ce\u0073:\u0020%\u0064\u0020\u0074\u0061\u0062\u006c\u0065s",len (_egab ));};return _egab ;};func _cgccf (_ebce ,_ceae float64 )string {_faa :=!_adfef (_ebce -_ceae );if _faa {return "\u000a";};return "\u0020";};func (_ebcde *wordBag )allWords ()[]*textWord {var _adfcb []*textWord ;for _ ,_aecb :=range _ebcde ._cgfc {_adfcb =append (_adfcb ,_aecb ...);};return _adfcb ;};func (_fgge paraList )lines ()[]*textLine {var _bfce []*textLine ;for _ ,_bfbb :=range _fgge {_bfce =append (_bfce ,_bfbb ._adafb ...);};return _bfce ;};func (_fgdc rulingList )sort (){_fg .Slice (_fgdc ,_fgdc .comp )};

// Marks returns the TextMark collection for a page. It represents all the text on the page.
func (_ea PageText )Marks ()*TextMarkArray {return &TextMarkArray {_deg :_ea ._dcge }};func (_aceg *textTable )compositeColCorridors ()map[int ][]float64 {_bddgf :=make (map[int ][]float64 ,_aceg ._bgbdf );if _gbca {_gc .Log .Info ("\u0063\u006f\u006d\u0070o\u0073\u0069\u0074\u0065\u0043\u006f\u006c\u0043\u006f\u0072r\u0069d\u006f\u0072\u0073\u003a\u0020\u0077\u003d%\u0064\u0020",_aceg ._bgbdf );};for _cecg :=0;_cecg < _aceg ._bgbdf ;_cecg ++{_bddgf [_cecg ]=nil ;};return _bddgf ;};func (_fbgb paraList )xNeighbours (_ecbe float64 )map[*textPara ][]int {_gggba :=make ([]event ,2*len (_fbgb ));if _ecbe ==0{for _cdbb ,_eeaea :=range _fbgb {_gggba [2*_cdbb ]=event {_eeaea .Llx ,true ,_cdbb };_gggba [2*_cdbb +1]=event {_eeaea .Urx ,false ,_cdbb };};}else {for _dceb ,_abecd :=range _fbgb {_gggba [2*_dceb ]=event {_abecd .Llx -_ecbe *_abecd .fontsize (),true ,_dceb };_gggba [2*_dceb +1]=event {_abecd .Urx +_ecbe *_abecd .fontsize (),false ,_dceb };};};return _fbgb .eventNeighbours (_gggba );};func (_dgde gridTiling )log (_acaa string ){if !_gdef {return ;};_gc .Log .Info ("\u0074i\u006ci\u006e\u0067\u003a\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0071",len (_dgde ._ccccf ),len (_dgde ._gdagc ),_acaa );_dg .Printf ("\u0020\u0020\u0020l\u006c\u0078\u003d\u0025\u002e\u0032\u0066\u000a",_dgde ._ccccf );_dg .Printf ("\u0020\u0020\u0020l\u006c\u0079\u003d\u0025\u002e\u0032\u0066\u000a",_dgde ._gdagc );for _dfagf ,_bfae :=range _dgde ._gdagc {_dcab ,_bceeg :=_dgde ._beab [_bfae ];if !_bceeg {continue ;};_dg .Printf ("%\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u000a",_dfagf ,_bfae );for _bfdf ,_afgfg :=range _dgde ._ccccf {_cgba ,_dead :=_dcab [_afgfg ];if !_dead {continue ;};_dg .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_bfdf ,_cgba .String ());};};};func _bdcdf (_cfaeg _ggb .PdfRectangle )*ruling {return &ruling {_dced :_deeb ,_eed :_cfaeg .Llx ,_ffbc :_cfaeg .Lly ,_ccdb :_cfaeg .Ury };};func _ecbb (_ecgff map[int ][]float64 )[]int {_debc :=make ([]int ,len (_ecgff ));_cgacb :=0;for _gffg :=range _ecgff {_debc [_cgacb ]=_gffg ;_cgacb ++;};_fg .Ints (_debc );return _debc ;};func _dacg (_cbcgb ,_fggd _gg .Point )bool {_gfcge :=_da .Abs (_cbcgb .X -_fggd .X );_aggc :=_da .Abs (_cbcgb .Y -_fggd .Y );return _fdage (_gfcge ,_aggc );};type textTable struct{_ggb .PdfRectangle ;_bgbdf ,_ggbac int ;_adbb bool ;_gbff map[uint64 ]*textPara ;_ggfa map[uint64 ]compositeCell ;};type shapesState struct{_agfd _gg .Matrix ;_eefa _gg .Matrix ;_gcbg []*subpath ;_dcca bool ;_dgg _gg .Point ;_cgg *textObject ;};func (_bcec *textWord )appendMark (_edgba *textMark ,_fcab _ggb .PdfRectangle ){_bcec ._cffc =append (_bcec ._cffc ,_edgba );_bcec .PdfRectangle =_egg (_bcec .PdfRectangle ,_edgba .PdfRectangle );if _edgba ._bcb > _bcec ._gcfg {_bcec ._gcfg =_edgba ._bcb ;};_bcec ._ceceec =_fcab .Ury -_bcec .PdfRectangle .Lly ;};

// RenderMode specifies the text rendering mode (Tmode), which determines whether showing text shall cause
// glyph outlines to be  stroked, filled, used as a clipping boundary, or some combination of the three.
// Stroking, filling, and clipping shall have the same effects for a text object as they do for a path object
// (see 8.5.3, "Path-Painting Operators" and 8.5.4, "Clipping Path Operators").
type RenderMode int ;func (_afef *ruling )equals (_cecda *ruling )bool {return _afef ._dced ==_cecda ._dced &&_gbfb (_afef ._eed ,_cecda ._eed )&&_gbfb (_afef ._ffbc ,_cecda ._ffbc )&&_gbfb (_afef ._ccdb ,_cecda ._ccdb );};

// String returns a description of `p`.
func (_cebf *textPara )String ()string {if _cebf ._cacc {return _dg .Sprintf ("\u0025\u0036\u002e\u0032\u0066\u0020\u005b\u0045\u004d\u0050\u0054\u0059\u005d",_cebf .PdfRectangle );};_ffad :="";if _cebf ._aecbg !=nil {_ffad =_dg .Sprintf ("\u005b\u0025\u0064\u0078\u0025\u0064\u005d\u0020",_cebf ._aecbg ._bgbdf ,_cebf ._aecbg ._ggbac );};return _dg .Sprintf ("\u0025\u0036\u002e\u0032f \u0025\u0073\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u0020\u0025\u0071",_cebf .PdfRectangle ,_ffad ,len (_cebf ._adafb ),_ggfe (_cebf .text (),50));};func (_ccagc *textTable )putComposite (_bbfed ,_abea int ,_eecg paraList ,_faaaa _ggb .PdfRectangle ){if len (_eecg )==0{_gc .Log .Error ("\u0074\u0065xt\u0054\u0061\u0062l\u0065\u0029\u0020\u0070utC\u006fmp\u006f\u0073\u0069\u0074\u0065\u003a\u0020em\u0070\u0074\u0079\u0020\u0070\u0061\u0072a\u0073");return ;};_cdgf :=compositeCell {_faaaa ,_eecg };if _gbca {_dg .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0070\u0075\u0074\u0043\u006f\u006d\u0070o\u0073i\u0074\u0065\u0028\u0025\u0064\u002c\u0025\u0064\u0029\u003c\u002d\u0025\u0073\u000a",_bbfed ,_abea ,_cdgf .String ());};_cdgf .updateBBox ();_ccagc ._ggfa [_ggfd (_bbfed ,_abea )]=_cdgf ;};func (_becd *textWord )computeText ()string {_eaac :=make ([]string ,len (_becd ._cffc ));for _dgceb ,_bggb :=range _becd ._cffc {_eaac [_dgceb ]=_bggb ._dfag ;};return _g .Join (_eaac ,"");};func (_abed *textWord )absorb (_fegeg *textWord ){_abed .PdfRectangle =_egg (_abed .PdfRectangle ,_fegeg .PdfRectangle );_abed ._cffc =append (_abed ._cffc ,_fegeg ._cffc ...);};func _deggf (_bacc []pathSection )rulingList {_edfb (_bacc );if _febdg {_gc .Log .Info ("\u006da\u006b\u0065\u0046\u0069l\u006c\u0052\u0075\u006c\u0069n\u0067s\u003a \u0025\u0064\u0020\u0066\u0069\u006c\u006cs",len (_bacc ));};var _bgcg rulingList ;for _ ,_cffb :=range _bacc {for _ ,_gdgd :=range _cffb ._faef {if !_gdgd .isQuadrilateral (){if _febdg {_gc .Log .Error ("!\u0069s\u0051\u0075\u0061\u0064\u0072\u0069\u006c\u0061t\u0065\u0072\u0061\u006c: \u0025\u0073",_gdgd );};continue ;};if _bgfg ,_fegb :=_gdgd .makeRectRuling (_cffb .Color );_fegb {_bgcg =append (_bgcg ,_bgfg );}else {if _ffbd {_gc .Log .Error ("\u0021\u006d\u0061\u006beR\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0025\u0073",_gdgd );};};};};if _febdg {_gc .Log .Info ("\u006d\u0061\u006b\u0065Fi\u006c\u006c\u0052\u0075\u006c\u0069\u006e\u0067\u0073\u003a\u0020\u0025\u0073",_bgcg .String ());};return _bgcg ;};var _acgabg =map[rulingKind ]string {_gcbc :"\u006e\u006f\u006e\u0065",_ceab :"\u0068\u006f\u0072\u0069\u007a\u006f\u006e\u0074\u0061\u006c",_deeb :"\u0076\u0065\u0072\u0074\u0069\u0063\u0061\u006c"};func (_gfeb *subpath )clear (){*_gfeb =subpath {}};var _ebfd =map[markKind ]string {_gccc :"\u0073\u0074\u0072\u006f\u006b\u0065",_gcbb :"\u0066\u0069\u006c\u006c",_dbefg :"\u0061u\u0067\u006d\u0065\u006e\u0074"};func (_ccfb *shapesState )drawRectangle (_dga ,_gbbg ,_aebg ,_dbba float64 ){if _baf {_fba :=_ccfb .devicePoint (_dga ,_gbbg );_gab :=_ccfb .devicePoint (_dga +_aebg ,_gbbg +_dbba );_bgae :=_ggb .PdfRectangle {Llx :_fba .X ,Lly :_fba .Y ,Urx :_gab .X ,Ury :_gab .Y };_gc .Log .Info ("d\u0072a\u0077\u0052\u0065\u0063\u0074\u0061\u006e\u0067l\u0065\u003a\u0020\u00256.\u0032\u0066",_bgae );};_ccfb .newSubPath ();_ccfb .moveTo (_dga ,_gbbg );_ccfb .lineTo (_dga +_aebg ,_gbbg );_ccfb .lineTo (_dga +_aebg ,_gbbg +_dbba );_ccfb .lineTo (_dga ,_gbbg +_dbba );_ccfb .closePath ();};func _edgf (_ffc []*textWord ,_dgac float64 ,_gcfb ,_ecec rulingList )*wordBag {_gefe :=_dgbf (_ffc [0],_dgac ,_gcfb ,_ecec );for _ ,_affde :=range _ffc [1:]{_ebgac :=_aege (_affde ._ceceec );_gefe ._cgfc [_ebgac ]=append (_gefe ._cgfc [_ebgac ],_affde );_gefe .PdfRectangle =_egg (_gefe .PdfRectangle ,_affde .PdfRectangle );};_gefe .sort ();return _gefe ;};func (_afabgf intSet )has (_afeae int )bool {_ ,_dbefe :=_afabgf [_afeae ];return _dbefe };func _fagf (_aagg _ggb .PdfRectangle )*ruling {return &ruling {_dced :_ceab ,_eed :_aagg .Lly ,_ffbc :_aagg .Llx ,_ccdb :_aagg .Urx };};func _bbcc (_cddea ,_ccdd _ggb .PdfRectangle )bool {return _cddea .Llx <=_ccdd .Llx &&_ccdd .Urx <=_cddea .Urx &&_cddea .Lly <=_ccdd .Lly &&_ccdd .Ury <=_cddea .Ury ;};type bounded interface{bbox ()_ggb .PdfRectangle };

// String returns a human readable description of `vecs`.
func (_fbgac rulingList )String ()string {if len (_fbgac )==0{return "\u007b \u0045\u004d\u0050\u0054\u0059\u0020}";};_gegga ,_aagbc :=_fbgac .vertsHorzs ();_cbda :=len (_gegga );_gcae :=len (_aagbc );if _cbda ==0||_gcae ==0{return _dg .Sprintf ("\u007b%\u0064\u0020\u0078\u0020\u0025\u0064}",_cbda ,_gcae );};_cggb :=_ggb .PdfRectangle {Llx :_gegga [0]._eed ,Urx :_gegga [_cbda -1]._eed ,Lly :_aagbc [_gcae -1]._eed ,Ury :_aagbc [0]._eed };return _dg .Sprintf ("\u007b\u0025d\u0020\u0078\u0020%\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u007d",_cbda ,_gcae ,_cggb );};func (_bded *subpath )last ()_gg .Point {return _bded ._gbab [len (_bded ._gbab )-1]};func _aadd (_bee *wordBag ,_gbdg *textWord ,_ggeg float64 )bool {return _gbdg .Llx < _bee .Urx +_ggeg &&_bee .Llx -_ggeg < _gbdg .Urx ;};

// Extractor stores and offers functionality for extracting content from PDF pages.
type Extractor struct{_eb string ;_fb *_ggb .PdfPageResources ;_gd _ggb .PdfRectangle ;_ee map[string ]fontEntry ;_de map[string ]textResult ;_bc int64 ;_ga int ;};func (_cegd *textWord )toTextMarks (_bdccb *int )[]TextMark {var _aggec []TextMark ;for _ ,_fbeg :=range _cegd ._cffc {_aggec =_dcdg (_aggec ,_bdccb ,_fbeg .ToTextMark ());};return _aggec ;};

// PageText represents the layout of text on a device page.
type PageText struct{_agg []*textMark ;_aba string ;_dcge []TextMark ;_bccf []TextTable ;_ccfe _ggb .PdfRectangle ;_daeb []pathSection ;_fdcf []pathSection ;};func (_ecab *textPara )depth ()float64 {if _ecab ._cacc {return -1.0;};if len (_ecab ._adafb )> 0{return _ecab ._adafb [0]._ddga ;};return _ecab ._aecbg .depth ();};func (_bbea *subpath )makeRectRuling (_bcea _be .Color )(*ruling ,bool ){if _ffbd {_gc .Log .Info ("\u006d\u0061\u006beR\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0070\u0061\u0074\u0068\u003d\u0025\u0076",_bbea );};_bfaf :=_bbea ._gbab [:4];_bdfd :=make (map[int ]rulingKind ,len (_bfaf ));for _cccc ,_cffe :=range _bfaf {_bgagf :=_bbea ._gbab [(_cccc +1)%4];_bdfd [_cccc ]=_ceea (_cffe ,_bgagf );if _ffbd {_dg .Printf ("\u0025\u0034\u0064: \u0025\u0073\u0020\u003d\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u002d\u0020\u0025\u0036\u002e\u0032\u0066",_cccc ,_bdfd [_cccc ],_cffe ,_bgagf );};};if _ffbd {_dg .Printf ("\u0020\u0020\u0020\u006b\u0069\u006e\u0064\u0073\u003d\u0025\u002b\u0076\u000a",_bdfd );};var _gbfg ,_efegb []int ;for _cbg ,_bcggg :=range _bdfd {switch _bcggg {case _ceab :_efegb =append (_efegb ,_cbg );case _deeb :_gbfg =append (_gbfg ,_cbg );};};if _ffbd {_dg .Printf ("\u0020\u0020 \u0068\u006f\u0072z\u0073\u003d\u0025\u0064\u0020\u0025\u002b\u0076\u000a",len (_efegb ),_efegb );_dg .Printf ("\u0020\u0020 \u0076\u0065\u0072t\u0073\u003d\u0025\u0064\u0020\u0025\u002b\u0076\u000a",len (_gbfg ),_gbfg );};_cbcff :=(len (_efegb )==2&&len (_gbfg )==2)||(len (_efegb )==2&&len (_gbfg )==0&&_agdffg (_bfaf [_efegb [0]],_bfaf [_efegb [1]]))||(len (_gbfg )==2&&len (_efegb )==0&&_dacg (_bfaf [_gbfg [0]],_bfaf [_gbfg [1]]));if _ffbd {_dg .Printf (" \u0020\u0020\u0068\u006f\u0072\u007as\u003d\u0025\u0064\u0020\u0076\u0065\u0072\u0074\u0073=\u0025\u0064\u0020o\u006b=\u0025\u0074\u000a",len (_efegb ),len (_gbfg ),_cbcff );};if !_cbcff {if _ffbd {_gc .Log .Error ("\u0021!\u006d\u0061\u006b\u0065R\u0065\u0063\u0074\u0052\u0075l\u0069n\u0067:\u0020\u0070\u0061\u0074\u0068\u003d\u0025v",_bbea );_dg .Printf (" \u0020\u0020\u0068\u006f\u0072\u007as\u003d\u0025\u0064\u0020\u0076\u0065\u0072\u0074\u0073=\u0025\u0064\u0020o\u006b=\u0025\u0074\u000a",len (_efegb ),len (_gbfg ),_cbcff );};return &ruling {},false ;};if len (_gbfg )==0{for _beag ,_dgcba :=range _bdfd {if _dgcba !=_ceab {_gbfg =append (_gbfg ,_beag );};};};if len (_efegb )==0{for _dace ,_dcfe :=range _bdfd {if _dcfe !=_deeb {_efegb =append (_efegb ,_dace );};};};if _ffbd {_gc .Log .Info ("\u006da\u006b\u0065R\u0065\u0063\u0074\u0052u\u006c\u0069\u006eg\u003a\u0020\u0068\u006f\u0072\u007a\u0073\u003d\u0025d \u0076\u0065\u0072t\u0073\u003d%\u0064\u0020\u0070\u006f\u0069\u006et\u0073\u003d%\u0064\u000a"+"\u0009\u0020\u0068o\u0072\u007a\u0073\u003d\u0025\u002b\u0076\u000a"+"\u0009\u0020\u0076e\u0072\u0074\u0073\u003d\u0025\u002b\u0076\u000a"+"\t\u0070\u006f\u0069\u006e\u0074\u0073\u003d\u0025\u002b\u0076",len (_efegb ),len (_gbfg ),len (_bfaf ),_efegb ,_gbfg ,_bfaf );};var _baed ,_cefd ,_afcga ,_eagf _gg .Point ;if _bfaf [_efegb [0]].Y > _bfaf [_efegb [1]].Y {_afcga ,_eagf =_bfaf [_efegb [0]],_bfaf [_efegb [1]];}else {_afcga ,_eagf =_bfaf [_efegb [1]],_bfaf [_efegb [0]];};if _bfaf [_gbfg [0]].X > _bfaf [_gbfg [1]].X {_baed ,_cefd =_bfaf [_gbfg [0]],_bfaf [_gbfg [1]];}else {_baed ,_cefd =_bfaf [_gbfg [1]],_bfaf [_gbfg [0]];};_efgb :=_ggb .PdfRectangle {Llx :_baed .X ,Urx :_cefd .X ,Lly :_eagf .Y ,Ury :_afcga .Y };if _efgb .Llx > _efgb .Urx {_efgb .Llx ,_efgb .Urx =_efgb .Urx ,_efgb .Llx ;};if _efgb .Lly > _efgb .Ury {_efgb .Lly ,_efgb .Ury =_efgb .Ury ,_efgb .Lly ;};_dbeb :=rectRuling {PdfRectangle :_efgb ,_dbedd :_aeag (_efgb ),Color :_bcea };if _dbeb ._dbedd ==_gcbc {if _ffbd {_gc .Log .Error ("\u006da\u006b\u0065\u0052\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006eg\u003a\u0020\u006b\u0069\u006e\u0064\u003d\u006e\u0069\u006c");};return nil ,false ;};_dgef ,_faad :=_dbeb .asRuling ();if !_faad {if _ffbd {_gc .Log .Error ("\u006da\u006b\u0065\u0052\u0065c\u0074\u0052\u0075\u006c\u0069n\u0067:\u0020!\u0069\u0073\u0052\u0075\u006c\u0069\u006eg");};return nil ,false ;};if _febdg {_dg .Printf ("\u0020\u0020\u0020\u0072\u003d\u0025\u0073\u000a",_dgef .String ());};return _dgef ,true ;};func (_dcfgba *textTable )depth ()float64 {_fbgcg :=1e10;for _gdfa :=0;_gdfa < _dcfgba ._bgbdf ;_gdfa ++{_eccd :=_dcfgba .get (_gdfa ,0);if _eccd ==nil ||_eccd ._cacc {continue ;};_fbgcg =_da .Min (_fbgcg ,_eccd .depth ());};return _fbgcg ;};func (_egfc *textMark )inDiacriticArea (_bcdd *textMark )bool {_bace :=_egfc .Llx -_bcdd .Llx ;_cfebf :=_egfc .Urx -_bcdd .Urx ;_aacc :=_egfc .Lly -_bcdd .Lly ;return _da .Abs (_bace +_cfebf )< _egfc .Width ()*_eage &&_da .Abs (_aacc )< _egfc .Height ()*_eage ;};func _fdfd (_ecegc []TextMark ,_afeb *int )[]TextMark {_cgdd :=_ecegc [len (_ecegc )-1];_bdgc :=[]rune (_cgdd .Text );if len (_bdgc )==1{_ecegc =_ecegc [:len (_ecegc )-1];_degf :=_ecegc [len (_ecegc )-1];*_afeb =_degf .Offset +len (_degf .Text );}else {_fgbc :=_afab (_cgdd .Text );*_afeb +=len (_fgbc )-len (_cgdd .Text );_cgdd .Text =_fgbc ;};return _ecegc ;};var _agce =_f .MustCompile ("\u005e\u005c\u0073\u002a\u0028\u005c\u0064\u002b\u005c\u002e\u003f|\u005b\u0049\u0069\u0076\u005d\u002b\u0029\u005c\u0073\u002a\\\u0029\u003f\u0024");func (_cad *textObject )renderText (_eeae []byte )error {if _cad ._ede {_gc .Log .Debug ("\u0072\u0065\u006e\u0064\u0065r\u0054\u0065\u0078\u0074\u003a\u0020\u0049\u006e\u0076\u0061\u006c\u0069\u0064 \u0066\u006f\u006e\u0074\u002e\u0020\u004e\u006f\u0074\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u002e");return nil ;};_abdg :=_cad .getCurrentFont ();_fef :=_abdg .BytesToCharcodes (_eeae );_cbc ,_adg ,_bgfb :=_abdg .CharcodesToStrings (_fef );if _bgfb > 0{_gc .Log .Debug ("\u0072\u0065nd\u0065\u0072\u0054e\u0078\u0074\u003a\u0020num\u0043ha\u0072\u0073\u003d\u0025\u0064\u0020\u006eum\u004d\u0069\u0073\u0073\u0065\u0073\u003d%\u0064",_adg ,_bgfb );};_cad ._ddf ._egc +=_adg ;_cad ._ddf ._baef +=_bgfb ;_gbae :=_cad ._ddf ;_gagc :=_gbae ._fbe ;_fcf :=_gbae ._gee /100.0;_bbd ,_gcb :=_abdg .GetRuneMetrics (' ');if !_gcb {_bbd ,_gcb =_abdg .GetCharMetrics (32);};if !_gcb {_bbd ,_ =_ggb .DefaultFont ().GetRuneMetrics (' ');};_aea :=_bbd .Wx *_afc ;_gc .Log .Trace ("\u0073p\u0061\u0063e\u0057\u0069\u0064t\u0068\u003d\u0025\u002e\u0032\u0066\u0020t\u0065\u0078\u0074\u003d\u0025\u0071 \u0066\u006f\u006e\u0074\u003d\u0025\u0073\u0020\u0066\u006f\u006et\u0053\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066",_aea ,_cbc ,_abdg ,_gagc );_bbe :=_gg .NewMatrix (_gagc *_fcf ,0,0,_gagc ,0,_gbae ._ecda );if _abgb {_gc .Log .Info ("\u0072\u0065\u006e\u0064\u0065\u0072T\u0065\u0078\u0074\u003a\u0020\u0025\u0064\u0020\u0063\u006f\u0064\u0065\u0073=\u0025\u002b\u0076\u0020\u0074\u0065\u0078t\u0073\u003d\u0025\u0071",len (_fef ),_fef ,_cbc );};_gc .Log .Trace ("\u0072\u0065\u006e\u0064\u0065\u0072T\u0065\u0078\u0074\u003a\u0020\u0025\u0064\u0020\u0063\u006f\u0064\u0065\u0073=\u0025\u002b\u0076\u0020\u0072\u0075\u006ee\u0073\u003d\u0025\u0071",len (_fef ),_fef ,len (_cbc ));_aeb :=_cad .getFillColor ();_cdbe :=_cad .getStrokeColor ();for _dfb ,_dbef :=range _cbc {_feag :=[]rune (_dbef );if len (_feag )==1&&_feag [0]=='\x00'{continue ;};_aaee :=_fef [_dfb ];_deef :=_cad ._gadc .CTM .Mult (_cad ._fgcc ).Mult (_bbe );_acfc :=0.0;if len (_feag )==1&&_feag [0]==32{_acfc =_gbae ._bca ;};_bfe ,_ded :=_abdg .GetCharMetrics (_aaee );if !_ded {_gc .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u004e\u006f \u006d\u0065\u0074r\u0069\u0063\u0020\u0066\u006f\u0072\u0020\u0063\u006fde\u003d\u0025\u0064 \u0072\u003d0\u0078\u0025\u0030\u0034\u0078\u003d%\u002b\u0071 \u0025\u0073",_aaee ,_feag ,_feag ,_abdg );return _dg .Errorf ("\u006e\u006f\u0020\u0063\u0068\u0061\u0072\u0020\u006d\u0065\u0074\u0072\u0069\u0063\u0073:\u0020f\u006f\u006e\u0074\u003d\u0025\u0073\u0020\u0063\u006f\u0064\u0065\u003d\u0025\u0064",_abdg .String (),_aaee );};_gbcf :=_gg .Point {X :_bfe .Wx *_afc ,Y :_bfe .Wy *_afc };_age :=_gg .Point {X :(_gbcf .X *_gagc +_acfc )*_fcf };_ebac :=_gg .Point {X :(_gbcf .X *_gagc +_gbae ._daec +_acfc )*_fcf };if _abgb {_gc .Log .Info ("\u0074\u0066\u0073\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0063\u003d\u0025\u002e\u0032f\u0020t\u0077\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0068\u003d\u0025\u002e\u0032\u0066",_gagc ,_gbae ._daec ,_gbae ._bca ,_fcf );_gc .Log .Info ("\u0064x\u002c\u0064\u0079\u003d%\u002e\u0033\u0066\u0020\u00740\u003d%\u002e3\u0066\u0020\u0074\u003d\u0025\u002e\u0033f",_gbcf ,_age ,_ebac );};_ddcc :=_cdcd (_age );_efab :=_cdcd (_ebac );_fcc :=_cad ._gadc .CTM .Mult (_cad ._fgcc ).Mult (_ddcc );if _adeac {_gc .Log .Info ("e\u006e\u0064\u003a\u000a\tC\u0054M\u003d\u0025\u0073\u000a\u0009 \u0074\u006d\u003d\u0025\u0073\u000a"+"\u0009\u0020t\u0064\u003d\u0025s\u0020\u0078\u006c\u0061\u0074\u003d\u0025\u0073\u000a"+"\u0009t\u0064\u0030\u003d\u0025s\u000a\u0009\u0020\u0020\u2192 \u0025s\u0020x\u006c\u0061\u0074\u003d\u0025\u0073",_cad ._gadc .CTM ,_cad ._fgcc ,_efab ,_egdc (_cad ._gadc .CTM .Mult (_cad ._fgcc ).Mult (_efab )),_ddcc ,_fcc ,_egdc (_fcc ));};_deb ,_deeg :=_cad .newTextMark (_aa .ExpandLigatures (_feag ),_deef ,_egdc (_fcc ),_da .Abs (_aea *_deef .ScalingFactorX ()),_abdg ,_cad ._ddf ._daec ,_aeb ,_cdbe );if !_deeg {_gc .Log .Debug ("\u0054\u0065\u0078\u0074\u0020\u006d\u0061\u0072\u006b\u0020\u006f\u0075\u0074\u0073\u0069d\u0065 \u0070\u0061\u0067\u0065\u002e\u0020\u0053\u006b\u0069\u0070\u0070\u0069\u006e\u0067");continue ;};if _abdg ==nil {_gc .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u004e\u006f\u0020\u0066\u006f\u006e\u0074\u002e");}else if _abdg .Encoder ()==nil {_gc .Log .Debug ("E\u0052\u0052\u004f\u0052\u003a\u0020N\u006f\u0020\u0065\u006e\u0063\u006f\u0064\u0069\u006eg\u002e\u0020\u0066o\u006et\u003d\u0025\u0073",_abdg );}else {if _bgfe ,_bdggb :=_abdg .Encoder ().CharcodeToRune (_aaee );_bdggb {_deb ._eca =string (_bgfe );};};_gc .Log .Trace ("i\u003d\u0025\u0064\u0020\u0063\u006fd\u0065\u003d\u0025\u0064\u0020\u006d\u0061\u0072\u006b=\u0025\u0073\u0020t\u0072m\u003d\u0025\u0073",_dfb ,_aaee ,_deb ,_deef );_cad ._bfg =append (_cad ._bfg ,&_deb );_cad ._fgcc .Concat (_efab );};return nil ;};func (_edggd *textPara )toTextMarks (_adef *int )[]TextMark {if _edggd ._aecbg ==nil {return _edggd .toCellTextMarks (_adef );};var _ebd []TextMark ;for _ceeg :=0;_ceeg < _edggd ._aecbg ._ggbac ;_ceeg ++{for _bgac :=0;_bgac < _edggd ._aecbg ._bgbdf ;_bgac ++{_ddba :=_edggd ._aecbg .get (_bgac ,_ceeg );if _ddba ==nil {_ebd =_gdag (_ebd ,_adef ,"\u0009");}else {_cabge :=_ddba .toCellTextMarks (_adef );_ebd =append (_ebd ,_cabge ...);};_ebd =_gdag (_ebd ,_adef ,"\u0020");};if _ceeg < _edggd ._aecbg ._ggbac -1{_ebd =_gdag (_ebd ,_adef ,"\u000a");};};return _ebd ;};func _cddead (_eegb map[int ][]float64 )string {_fdbcb :=_ecbb (_eegb );_dgeg :=make ([]string ,len (_eegb ));for _ebda ,_fbab :=range _fdbcb {_dgeg [_ebda ]=_dg .Sprintf ("\u0025\u0064\u003a\u0020\u0025\u002e\u0032\u0066",_fbab ,_eegb [_fbab ]);};return _dg .Sprintf ("\u007b\u0025\u0073\u007d",_g .Join (_dgeg ,"\u002c\u0020"));};func (_ffda pathSection )bbox ()_ggb .PdfRectangle {_baac :=_ffda ._faef [0]._gbab [0];_gfea :=_ggb .PdfRectangle {Llx :_baac .X ,Urx :_baac .X ,Lly :_baac .Y ,Ury :_baac .Y };_aec :=func (_gffc _gg .Point ){if _gffc .X < _gfea .Llx {_gfea .Llx =_gffc .X ;}else if _gffc .X > _gfea .Urx {_gfea .Urx =_gffc .X ;};if _gffc .Y < _gfea .Lly {_gfea .Lly =_gffc .Y ;}else if _gffc .Y > _gfea .Ury {_gfea .Ury =_gffc .Y ;};};for _ ,_bcff :=range _ffda ._faef [0]._gbab [1:]{_aec (_bcff );};for _ ,_deec :=range _ffda ._faef [1:]{for _ ,_gdab :=range _deec ._gbab {_aec (_gdab );};};return _gfea ;};func (_cfae *textObject )getStrokeColor ()_be .Color {return _feebc (_cfae ._gadc .ColorspaceStroking ,_cfae ._gadc .ColorStroking );};func (_afdb *compositeCell )updateBBox (){for _ ,_effef :=range _afdb .paraList {_afdb .PdfRectangle =_egg (_afdb .PdfRectangle ,_effef .PdfRectangle );};};func (_cffa rulingList )sortStrict (){_fg .Slice (_cffa ,func (_gbbgd ,_bafeg int )bool {_cadea ,_afcde :=_cffa [_gbbgd ],_cffa [_bafeg ];_bfege ,_eaab :=_cadea ._dced ,_afcde ._dced ;if _bfege !=_eaab {return _bfege > _eaab ;};_degbeb ,_dbage :=_cadea ._eed ,_afcde ._eed ;if !_adfef (_degbeb -_dbage ){return _degbeb < _dbage ;};_degbeb ,_dbage =_cadea ._ffbc ,_afcde ._ffbc ;if _degbeb !=_dbage {return _degbeb < _dbage ;};return _cadea ._ccdb < _afcde ._ccdb ;});};func (_ega *textObject )moveText (_gba ,_aca float64 ){_ega .moveLP (_gba ,_aca )};func (_gcfa paraList )topoOrder ()[]int {if _ead {_gc .Log .Info ("\u0074\u006f\u0070\u006f\u004f\u0072\u0064\u0065\u0072\u003a");};_dcdd :=len (_gcfa );_caeff :=make ([]bool ,_dcdd );_agd :=make ([]int ,0,_dcdd );_fbgeb :=_gcfa .llyOrdering ();var _fcgb func (_bgfff int );_fcgb =func (_fega int ){_caeff [_fega ]=true ;for _efeg :=0;_efeg < _dcdd ;_efeg ++{if !_caeff [_efeg ]{if _gcfa .readBefore (_fbgeb ,_fega ,_efeg ){_fcgb (_efeg );};};};_agd =append (_agd ,_fega );};for _dfg :=0;_dfg < _dcdd ;_dfg ++{if !_caeff [_dfg ]{_fcgb (_dfg );};};return _eaeb (_agd );};type textMark struct{_ggb .PdfRectangle ;_aaff int ;_dfag string ;_eca string ;_acgab *_ggb .PdfFont ;_bcb float64 ;_aecc float64 ;_ffcc _gg .Matrix ;_fdbc _gg .Point ;_ceec _ggb .PdfRectangle ;_feeg _be .Color ;_deaa _be .Color ;};

// String returns a human readable description of `path`.
func (_ebacf *subpath )String ()string {_ecg :=_ebacf ._gbab ;_cdcbg :=len (_ecg );if _cdcbg <=5{return _dg .Sprintf ("\u0025d\u003a\u0020\u0025\u0036\u002e\u0032f",_cdcbg ,_ecg );};return _dg .Sprintf ("\u0025d\u003a\u0020\u0025\u0036.\u0032\u0066\u0020\u0025\u0036.\u0032f\u0020.\u002e\u002e\u0020\u0025\u0036\u002e\u0032f",_cdcbg ,_ecg [0],_ecg [1],_ecg [_cdcbg -1]);};func (_dbbbf *wordBag )removeDuplicates (){if _afaa {_gc .Log .Info ("r\u0065m\u006f\u0076\u0065\u0044\u0075\u0070\u006c\u0069c\u0061\u0074\u0065\u0073: \u0025\u0071",_dbbbf .text ());};for _ ,_cbag :=range _dbbbf .depthIndexes (){if len (_dbbbf ._cgfc [_cbag ])==0{continue ;};_fbf :=_dbbbf ._cgfc [_cbag ][0];_bdcc :=_adcf *_fbf ._gcfg ;_ffbf :=_fbf ._ceceec ;for _ ,_dfga :=range _dbbbf .depthBand (_ffbf ,_ffbf +_bdcc ){_agbe :=map[*textWord ]struct{}{};_dgcc :=_dbbbf ._cgfc [_dfga ];for _ ,_afcg :=range _dgcc {if _ ,_beff :=_agbe [_afcg ];_beff {continue ;};for _ ,_ddgcg :=range _dgcc {if _ ,_fgbd :=_agbe [_ddgcg ];_fgbd {continue ;};if _ddgcg !=_afcg &&_ddgcg ._aeaceg ==_afcg ._aeaceg &&_da .Abs (_ddgcg .Llx -_afcg .Llx )< _bdcc &&_da .Abs (_ddgcg .Urx -_afcg .Urx )< _bdcc &&_da .Abs (_ddgcg .Lly -_afcg .Lly )< _bdcc &&_da .Abs (_ddgcg .Ury -_afcg .Ury )< _bdcc {_agbe [_ddgcg ]=struct{}{};};};};if len (_agbe )> 0{_agdf :=0;for _ ,_bebc :=range _dgcc {if _ ,_cbca :=_agbe [_bebc ];!_cbca {_dgcc [_agdf ]=_bebc ;_agdf ++;};};_dbbbf ._cgfc [_dfga ]=_dgcc [:len (_dgcc )-len (_agbe )];if len (_dbbbf ._cgfc [_dfga ])==0{delete (_dbbbf ._cgfc ,_dfga );};};};};};func (_ddab *textPara )toCellTextMarks (_agcb *int )[]TextMark {var _agca []TextMark ;for _dbda ,_dafc :=range _ddab ._adafb {_cfafe :=_dafc .toTextMarks (_agcb );_fege :=_ccce &&_dafc .endsInHyphen ()&&_dbda !=len (_ddab ._adafb )-1;if _fege {_cfafe =_fdfd (_cfafe ,_agcb );};_agca =append (_agca ,_cfafe ...);if !(_fege ||_dbda ==len (_ddab ._adafb )-1){_agca =_gdag (_agca ,_agcb ,_cgccf (_dafc ._ddga ,_ddab ._adafb [_dbda +1]._ddga ));};};return _agca ;};func (_ebabf *textPara )bbox ()_ggb .PdfRectangle {return _ebabf .PdfRectangle };func (_cefde *textTable )put (_eece ,_gegge int ,_ecaa *textPara ){_cefde ._gbff [_ggfd (_eece ,_gegge )]=_ecaa ;};func (_eeeff *textTable )reduce ()*textTable {_baeb :=make ([]int ,0,_eeeff ._ggbac );_dbgd :=make ([]int ,0,_eeeff ._bgbdf );for _eabab :=0;_eabab < _eeeff ._ggbac ;_eabab ++{if !_eeeff .emptyRow (_eabab ){_baeb =append (_baeb ,_eabab );};};for _dggbd :=0;_dggbd < _eeeff ._bgbdf ;_dggbd ++{if !_eeeff .emptyColumn (_dggbd ){_dbgd =append (_dbgd ,_dggbd );};};if len (_baeb )==_eeeff ._ggbac &&len (_dbgd )==_eeeff ._bgbdf {return _eeeff ;};_dcceg :=textTable {_adbb :_eeeff ._adbb ,_bgbdf :len (_dbgd ),_ggbac :len (_baeb ),_gbff :make (map[uint64 ]*textPara ,len (_dbgd )*len (_baeb ))};if _gbca {_gc .Log .Info ("\u0072\u0065\u0064\u0075ce\u003a\u0020\u0025\u0064\u0078\u0025\u0064\u0020\u002d\u003e\u0020\u0025\u0064\u0078%\u0064",_eeeff ._bgbdf ,_eeeff ._ggbac ,len (_dbgd ),len (_baeb ));_gc .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0043\u006f\u006c\u0073\u003a\u0020\u0025\u002b\u0076",_dbgd );_gc .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0052\u006f\u0077\u0073\u003a\u0020\u0025\u002b\u0076",_baeb );};for _bgcf ,_acaf :=range _baeb {for _ffeg ,_debdd :=range _dbgd {_ecbc :=_eeeff .get (_debdd ,_acaf );if _ecbc ==nil {continue ;};if _gbca {_dg .Printf ("\u0020 \u0025\u0032\u0064\u002c \u0025\u0032\u0064\u0020\u0028%\u0032d\u002c \u0025\u0032\u0064\u0029\u0020\u0025\u0071\n",_ffeg ,_bgcf ,_debdd ,_acaf ,_ggfe (_ecbc .text (),50));};_dcceg .put (_ffeg ,_bgcf ,_ecbc );};};return &_dcceg ;};func (_ebcdd rulingList )toTilings ()(rulingList ,[]gridTiling ){_ebcdd .log ("\u0074o\u0054\u0069\u006c\u0069\u006e\u0067s");if len (_ebcdd )==0{return nil ,nil ;};_ebcdd =_ebcdd .tidied ("\u0061\u006c\u006c");_ebcdd .log ("\u0074\u0069\u0064\u0069\u0065\u0064");_ebeb :=_ebcdd .toGrids ();_deda :=make ([]gridTiling ,len (_ebeb ));for _abde ,_deae :=range _ebeb {_deda [_abde ]=_deae .asTiling ();};return _ebcdd ,_deda ;};type ruling struct{_dced rulingKind ;_dafb markKind ;_be .Color ;_eed float64 ;_ffbc float64 ;_ccdb float64 ;_ceeeb float64 ;};type rulingList []*ruling ;func _eabf (_gbade []rulingList )(rulingList ,rulingList ){var _ddgae rulingList ;for _ ,_ceegc :=range _gbade {_ddgae =append (_ddgae ,_ceegc ...);};return _ddgae .vertsHorzs ();};func (_gaece rulingList )bbox ()_ggb .PdfRectangle {var _gecce _ggb .PdfRectangle ;if len (_gaece )==0{_gc .Log .Error ("r\u0075\u006c\u0069\u006e\u0067\u004ci\u0073\u0074\u002e\u0062\u0062\u006f\u0078\u003a\u0020n\u006f\u0020\u0072u\u006ci\u006e\u0067\u0073");return _ggb .PdfRectangle {};};if _gaece [0]._dced ==_ceab {_gecce .Llx ,_gecce .Urx =_gaece .secMinMax ();_gecce .Lly ,_gecce .Ury =_gaece .primMinMax ();}else {_gecce .Llx ,_gecce .Urx =_gaece .primMinMax ();_gecce .Lly ,_gecce .Ury =_gaece .secMinMax ();};return _gecce ;};func (_daa gridTile )numBorders ()int {_cfeg :=0;if _daa ._bbegg {_cfeg ++;};if _daa ._bedf {_cfeg ++;};if _daa ._acef {_cfeg ++;};if _daa ._bddg {_cfeg ++;};return _cfeg ;};func (_afgc *PageText )computeViews (){var _aebc rulingList ;if _bcd {_dbf :=_beac (_afgc ._daeb );_aebc =append (_aebc ,_dbf ...);};if _beg {_baee :=_deggf (_afgc ._fdcf );_aebc =append (_aebc ,_baee ...);};_aebc ,_dfbb :=_aebc .toTilings ();var _eda paraList ;_dgcb :=len (_afgc ._agg );for _fdgf :=0;_fdgf < 360&&_dgcb > 0;_fdgf +=90{_fdgb :=make ([]*textMark ,0,len (_afgc ._agg )-_dgcb );for _ ,_ecbg :=range _afgc ._agg {if _ecbg ._aaff ==_fdgf {_fdgb =append (_fdgb ,_ecbg );};};if len (_fdgb )> 0{_bdgb :=_bbae (_fdgb ,_afgc ._ccfe ,_aebc ,_dfbb );_eda =append (_eda ,_bdgb ...);_dgcb -=len (_fdgb );};};_cda :=new (_db .Buffer );_eda .writeText (_cda );_afgc ._aba =_cda .String ();_afgc ._dcge =_eda .toTextMarks ();_afgc ._bccf =_eda .tables ();if _gbca {_gc .Log .Info ("\u0063\u006f\u006dpu\u0074\u0065\u0056\u0069\u0065\u0077\u0073\u003a\u0020\u0074\u0061\u0062\u006c\u0065\u0073\u003d\u0025\u0064",len (_afgc ._bccf ));};};func (_bceg *shapesState )cubicTo (_fedd ,_aaed ,_dgcbg ,_faf ,_egbfg ,_gef float64 ){if _baf {_gc .Log .Info ("\u0063\u0075\u0062\u0069\u0063\u0054\u006f\u003a");};_bceg .addPoint (_egbfg ,_gef );};

// TextMark represents extracted text on a page with information regarding both textual content,
// formatting (font and size) and positioning.
// It is the smallest unit of text on a PDF page, typically a single character.
//
// getBBox() in test_text.go shows how to compute bounding boxes of substrings of extracted text.
// The following code extracts the text on PDF page `page` into `text` then finds the bounding box
// `bbox` of substring `term` in `text`.
//
//     ex, _ := New(page)
//     // handle errors
//     pageText, _, _, err := ex.ExtractPageText()
//     // handle errors
//     text := pageText.Text()
//     textMarks := pageText.Marks()
//
//     	start := strings.Index(text, term)
//      end := start + len(term)
//      spanMarks, err := textMarks.RangeOffset(start, end)
//      // handle errors
//      bbox, ok := spanMarks.BBox()
//      // handle errors
type TextMark struct{

// Text is the extracted text.
Text string ;

// Original is the text in the PDF. It has not been decoded like `Text`.
Original string ;

// BBox is the bounding box of the text.
BBox _ggb .PdfRectangle ;

// Font is the font the text was drawn with.
Font *_ggb .PdfFont ;

// FontSize is the font size the text was drawn with.
FontSize float64 ;

// Offset is the offset of the start of TextMark.Text in the extracted text. If you do this
//   text, textMarks := pageText.Text(), pageText.Marks()
//   marks := textMarks.Elements()
// then marks[i].Offset is the offset of marks[i].Text in text.
Offset int ;

// Meta is set true for spaces and line breaks that we insert in the extracted text. We insert
// spaces (line breaks) when we see characters that are over a threshold horizontal (vertical)
//  distance  apart. See wordJoiner (lineJoiner) in PageText.computeViews().
Meta bool ;

// FillColor is the fill color of the text.
// The color is nil for spaces and line breaks (i.e. the Meta field is true).
FillColor _be .Color ;

// StrokeColor is the stroke color of the text.
// The color is nil for spaces and line breaks (i.e. the Meta field is true).
StrokeColor _be .Color ;

// Orientation is the text orientation
Orientation int ;};func _affg (_efcd ,_bbgf *textPara )bool {return _bbecc (_efcd ._dbea ,_bbgf ._dbea )};func (_defdg *textWord )addDiacritic (_ecae string ){_aggag :=_defdg ._cffc [len (_defdg ._cffc )-1];_aggag ._dfag +=_ecae ;_aggag ._dfag =_cc .NFKC .String (_aggag ._dfag );};func _afab (_efff string )string {_cfgd :=[]rune (_efff );return string (_cfgd [:len (_cfgd )-1])};func _dbdg (_cbdf string )bool {if _b .RuneCountInString (_cbdf )< _bdc {return false ;};_bfef ,_adaa :=_b .DecodeLastRuneInString (_cbdf );if _adaa <=0||!_ca .Is (_ca .Hyphen ,_bfef ){return false ;};_bfef ,_adaa =_b .DecodeLastRuneInString (_cbdf [:len (_cbdf )-_adaa ]);return _adaa > 0&&!_ca .IsSpace (_bfef );};func (_bedb *ruling )gridIntersecting (_bafd *ruling )bool {return _gbfb (_bedb ._ffbc ,_bafd ._ffbc )&&_gbfb (_bedb ._ccdb ,_bafd ._ccdb );};func _dbae (_bedd _ggb .PdfRectangle )*ruling {return &ruling {_dced :_deeb ,_eed :_bedd .Urx ,_ffbc :_bedd .Lly ,_ccdb :_bedd .Ury };};

// Tables returns the tables extracted from the page.
func (_gcg PageText )Tables ()[]TextTable {if _gbca {_gc .Log .Info ("\u0054\u0061\u0062\u006c\u0065\u0073\u003a\u0020\u0025\u0064",len (_gcg ._bccf ));};return _gcg ._bccf ;};func (_caf *textObject )showText (_dfed []byte )error {return _caf .renderText (_dfed )};type textWord struct{_ggb .PdfRectangle ;_ceceec float64 ;_aeaceg string ;_cffc []*textMark ;_gcfg float64 ;_cecf bool ;};func _ggbdaf (_ceef *PageText )error {_agab :=_dbe .GetLicenseKey ();if _agab !=nil &&_agab .IsLicensed ()||_cec {return nil ;};_dg .Printf ("\u0055\u006e\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0064\u0020c\u006f\u0070\u0079\u0020\u006f\u0066\u0020\u0055\u006e\u0069P\u0044\u0046\u000a");_dg .Println ("-\u0020\u0047\u0065\u0074\u0020\u0061\u0020\u0066\u0072e\u0065\u0020\u0074\u0072\u0069\u0061\u006c l\u0069\u0063\u0065\u006es\u0065\u0020\u006f\u006e\u0020\u0068\u0074\u0074\u0070s:\u002f\u002fu\u006e\u0069\u0064\u006f\u0063\u002e\u0069\u006f");return _d .New ("\u0075\u006e\u0069\u0070d\u0066\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0020c\u006fd\u0065\u0020\u0072\u0065\u0071\u0075\u0069r\u0065\u0064");};

// TextMarkArray is a collection of TextMarks.
type TextMarkArray struct{_deg []TextMark };func (_gcacb *textPara )text ()string {_efbb :=new (_db .Buffer );_gcacb .writeText (_efbb );return _efbb .String ();};func _eaeb (_bbaa []int )[]int {_gbfe :=make ([]int ,len (_bbaa ));for _fbca ,_cdeb :=range _bbaa {_gbfe [len (_bbaa )-1-_fbca ]=_cdeb ;};return _gbfe ;};

// String returns a description of `w`.
func (_dfea *textWord )String ()string {return _dg .Sprintf ("\u0025\u002e2\u0066\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\"%\u0073\u0022",_dfea ._ceceec ,_dfea .PdfRectangle ,_dfea ._gcfg ,_dfea ._aeaceg );};func (_cddg *textObject )moveTextSetLeading (_bgag ,_adde float64 ){_cddg ._ddf ._ecd =-_adde ;_cddg .moveLP (_bgag ,_adde );};

// NewFromContents creates a new extractor from contents and page resources.
func NewFromContents (contents string ,resources *_ggb .PdfPageResources )(*Extractor ,error ){_ad :=&Extractor {_eb :contents ,_fb :resources ,_ee :map[string ]fontEntry {},_de :map[string ]textResult {}};return _ad ,nil ;};func _dgbf (_ddfa *textWord ,_agfb float64 ,_agad ,_fdfb rulingList )*wordBag {_bbed :=_aege (_ddfa ._ceceec );_fgfb :=[]*textWord {_ddfa };_cabg :=wordBag {_cgfc :map[int ][]*textWord {_bbed :_fgfb },PdfRectangle :_ddfa .PdfRectangle ,_eeb :_ddfa ._gcfg ,_dca :_agfb ,_cgcf :_agad ,_gfcb :_fdfb };return &_cabg ;};func _dcdg (_acc []TextMark ,_ebaa *int ,_ffcff TextMark )[]TextMark {_ffcff .Offset =*_ebaa ;_acc =append (_acc ,_ffcff );*_ebaa +=len (_ffcff .Text );return _acc ;};func _aabdg (_fabbe map[float64 ]map[float64 ]gridTile )[]float64 {_egee :=make ([]float64 ,0,len (_fabbe ));_dcadd :=make (map[float64 ]struct{},len (_fabbe ));for _ ,_dggff :=range _fabbe {for _fbgc :=range _dggff {if _ ,_bgbe :=_dcadd [_fbgc ];_bgbe {continue ;};_egee =append (_egee ,_fbgc );_dcadd [_fbgc ]=struct{}{};};};_fg .Float64s (_egee );return _egee ;};

// String returns a description of `t`.
func (_cedc *textTable )String ()string {return _dg .Sprintf ("\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u0020\u0025\u0074",_cedc ._bgbdf ,_cedc ._ggbac ,_cedc ._adbb );};func (_bgaf rulingList )log (_cafc string ){if !_febdg {return ;};_gc .Log .Info ("\u0023\u0023\u0023\u0020\u0025\u0031\u0030\u0073\u003a\u0020\u0076\u0065c\u0073\u003d\u0025\u0073",_cafc ,_bgaf .String ());for _gfgd ,_deggd :=range _bgaf {_dg .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_gfgd ,_deggd .String ());};};type pathSection struct{_faef []*subpath ;_be .Color ;};func _bccd (_gabd ,_aabd *textPara )bool {if _gabd ._cacc ||_aabd ._cacc {return true ;};return _adfef (_gabd .depth ()-_aabd .depth ());};func _efeab (_abebd float64 )float64 {return _ebgg *_da .Round (_abebd /_ebgg )};func (_cabfd *textPara )isAtom ()*textTable {_fgde :=_cabfd ;_ddfab :=_cabfd ._accg ;_abdef :=_cabfd ._dfad ;if !(_ddfab !=nil &&!_ddfab ._afcf &&_abdef !=nil &&!_abdef ._afcf ){return nil ;};_gfdc :=_ddfab ._dfad ;if !(_gfdc !=nil &&!_gfdc ._afcf &&_gfdc ==_abdef ._accg ){return nil ;};return _geeae (_fgde ,_ddfab ,_abdef ,_gfdc );};func _bbecc (_dff ,_ccbcd _ggb .PdfRectangle )bool {return _ccbcd .Llx <=_dff .Urx &&_dff .Llx <=_ccbcd .Urx ;};func _gecc (_cef *_ce .ContentStreamOperation )(float64 ,error ){if len (_cef .Params )!=1{_ddc :=_d .New ("\u0069n\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0070\u0061r\u0061m\u0065t\u0065\u0072\u0020\u0063\u006f\u0075\u006et");_gc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0025\u0023\u0071\u0020\u0073\u0068\u006f\u0075\u006c\u0064\u0020h\u0061\u0076\u0065\u0020\u0025\u0064\u0020i\u006e\u0070\u0075\u0074\u0020\u0070\u0061\u0072\u0061\u006d\u0073,\u0020\u0067\u006f\u0074\u0020\u0025\u0064\u0020\u0025\u002b\u0076",_cef .Operand ,1,len (_cef .Params ),_cef .Params );return 0.0,_ddc ;};return _e .GetNumberAsFloat (_cef .Params [0]);};func (_fcg *stateStack )empty ()bool {return len (*_fcg )==0};func (_cadc *wordBag )firstWord (_cbddf int )*textWord {return _cadc ._cgfc [_cbddf ][0]};const _eaa =10;func (_fbaa *textTable )log (_gdfg string ){if !_gbca {return ;};_gc .Log .Info ("~\u007e\u007e\u0020\u0025\u0073\u003a \u0025\u0064\u0020\u0078\u0020\u0025d\u0020\u0067\u0072\u0069\u0064\u003d\u0025t\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0025\u0036\u002e2\u0066",_gdfg ,_fbaa ._bgbdf ,_fbaa ._ggbac ,_fbaa ._adbb ,_fbaa .PdfRectangle );for _fgfgd :=0;_fgfgd < _fbaa ._ggbac ;_fgfgd ++{for _fbgcf :=0;_fbgcf < _fbaa ._bgbdf ;_fbgcf ++{_ebba :=_fbaa .get (_fbgcf ,_fgfgd );if _ebba ==nil {continue ;};_dg .Printf ("%\u0034\u0064\u0020\u00252d\u003a \u0025\u0036\u002e\u0032\u0066 \u0025\u0071\u0020\u0025\u0064\u000a",_fbgcf ,_fgfgd ,_ebba .PdfRectangle ,_ggfe (_ebba .text (),50),_b .RuneCountInString (_ebba .text ()));};};};type compositeCell struct{_ggb .PdfRectangle ;paraList ;};

// New returns an Extractor instance for extracting content from the input PDF page.
func New (page *_ggb .PdfPage )(*Extractor ,error ){_dc ,_fga :=page .GetAllContentStreams ();if _fga !=nil {return nil ,_fga ;};_ba ,_fga :=page .GetMediaBox ();if _fga !=nil {return nil ,_dg .Errorf ("\u0065\u0078\u0074r\u0061\u0063\u0074\u006fr\u0020\u0072\u0065\u0071\u0075\u0069\u0072e\u0073\u0020\u006d\u0065\u0064\u0069\u0061\u0042\u006f\u0078\u002e\u0020\u0025\u0076",_fga );};_ff :=&Extractor {_eb :_dc ,_fb :page .Resources ,_gd :*_ba ,_ee :map[string ]fontEntry {},_de :map[string ]textResult {}};if _ff ._gd .Llx > _ff ._gd .Urx {_gc .Log .Info ("\u004d\u0065\u0064\u0069\u0061\u0042o\u0078\u0020\u0068\u0061\u0073\u0020\u0058\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073\u0020r\u0065\u0076\u0065\u0072\u0073\u0065\u0064\u002e\u0020\u0025\u002e\u0032\u0066\u0020F\u0069x\u0069\u006e\u0067\u002e",_ff ._gd );_ff ._gd .Llx ,_ff ._gd .Urx =_ff ._gd .Urx ,_ff ._gd .Llx ;};if _ff ._gd .Lly > _ff ._gd .Ury {_gc .Log .Info ("\u004d\u0065\u0064\u0069\u0061\u0042o\u0078\u0020\u0068\u0061\u0073\u0020\u0059\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073\u0020r\u0065\u0076\u0065\u0072\u0073\u0065\u0064\u002e\u0020\u0025\u002e\u0032\u0066\u0020F\u0069x\u0069\u006e\u0067\u002e",_ff ._gd );_ff ._gd .Lly ,_ff ._gd .Ury =_ff ._gd .Ury ,_ff ._gd .Lly ;};return _ff ,nil ;};func (_cbeb *shapesState )newSubPath (){_cbeb .clearPath ();if _baf {_gc .Log .Info ("\u006e\u0065\u0077\u0053\u0075\u0062\u0050\u0061\u0074h\u003a\u0020\u0025\u0073",_cbeb );};};type event struct{_afge float64 ;_dbdd bool ;_geef int ;};func _befa (_aegb ,_cfgc _ggb .PdfRectangle )bool {return _aegb .Lly <=_cfgc .Ury &&_cfgc .Lly <=_aegb .Ury ;};func _agec (_beea ,_gebff _ggb .PdfRectangle )(_ggb .PdfRectangle ,bool ){if !_dcgc (_beea ,_gebff ){return _ggb .PdfRectangle {},false ;};return _ggb .PdfRectangle {Llx :_da .Max (_beea .Llx ,_gebff .Llx ),Urx :_da .Min (_beea .Urx ,_gebff .Urx ),Lly :_da .Max (_beea .Lly ,_gebff .Lly ),Ury :_da .Min (_beea .Ury ,_gebff .Ury )},true ;};

// String returns a description of `k`.
func (_cfda rulingKind )String ()string {_bbfb ,_adeb :=_acgabg [_cfda ];if !_adeb {return _dg .Sprintf ("\u004e\u006ft\u0020\u0061\u0020r\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0025\u0064",_cfda );};return _bbfb ;};func (_ccff compositeCell )hasLines (_dgf []*textLine )bool {for _ecf ,_eacg :=range _dgf {_faefg :=_dcgc (_ccff .PdfRectangle ,_eacg .PdfRectangle );if _gbca {_dg .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u005e\u005e\u005e\u0069\u006e\u0074\u0065\u0072\u0073e\u0063t\u0073\u003d\u0025\u0074\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064\u000a",_faefg ,_ecf ,len (_dgf ));_dg .Printf ("\u0020\u0020\u0020\u0020  \u005e\u005e\u005e\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u003d\u0025s\u000a",_ccff );_dg .Printf ("\u0020 \u0020 \u0020\u0020\u0020\u006c\u0069\u006e\u0065\u003d\u0025\u0073\u000a",_eacg );};if _faefg {return true ;};};return false ;};func (_fagd rulingList )toGrids ()[]rulingList {if _febdg {_gc .Log .Info ("t\u006f\u0047\u0072\u0069\u0064\u0073\u003a\u0020\u0025\u0073",_fagd );};_fcbf :=_fagd .intersections ();if _febdg {_gc .Log .Info ("\u0074\u006f\u0047r\u0069\u0064\u0073\u003a \u0076\u0065\u0063\u0073\u003d\u0025\u0064 \u0069\u006e\u0074\u0065\u0072\u0073\u0065\u0063\u0074\u0073\u003d\u0025\u0064\u0020",len (_fagd ),len (_fcbf ));for _ ,_aebd :=range _ccdf (_fcbf ){_dg .Printf ("\u00254\u0064\u003a\u0020\u0025\u002b\u0076\n",_aebd ,_fcbf [_aebd ]);};};_ccgf :=make (map[int ]intSet ,len (_fagd ));for _fgfbf :=range _fagd {_geggb :=_fagd .connections (_fcbf ,_fgfbf );if len (_geggb )> 0{_ccgf [_fgfbf ]=_geggb ;};};if _febdg {_gc .Log .Info ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u0063\u006fn\u006e\u0065\u0063\u0074s=\u0025\u0064",len (_ccgf ));for _ ,_bbeb :=range _ccdf (_ccgf ){_dg .Printf ("\u00254\u0064\u003a\u0020\u0025\u002b\u0076\n",_bbeb ,_ccgf [_bbeb ]);};};_agcbd :=_cegb (len (_fagd ),func (_edfg ,_gabg int )bool {_afcd ,_abdb :=len (_ccgf [_edfg ]),len (_ccgf [_gabg ]);if _afcd !=_abdb {return _afcd > _abdb ;};return _fagd .comp (_edfg ,_gabg );});if _febdg {_gc .Log .Info ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u006f\u0072d\u0065\u0072\u0069\u006eg=\u0025\u0076",_agcbd );};_begd :=[][]int {{_agcbd [0]}};_adcd :for _ ,_bgcgc :=range _agcbd [1:]{for _babe ,_dgfd :=range _begd {for _ ,_ddaf :=range _dgfd {if _ccgf [_ddaf ].has (_bgcgc ){_begd [_babe ]=append (_dgfd ,_bgcgc );continue _adcd ;};};};_begd =append (_begd ,[]int {_bgcgc });};if _febdg {_gc .Log .Info ("\u0074o\u0047r\u0069\u0064\u0073\u003a\u0020i\u0067\u0072i\u0064\u0073\u003d\u0025\u0076",_begd );};_fg .SliceStable (_begd ,func (_cbaga ,_acec int )bool {return len (_begd [_cbaga ])> len (_begd [_acec ])});for _ ,_dfdd :=range _begd {_fg .Slice (_dfdd ,func (_acea ,_cfag int )bool {return _fagd .comp (_dfdd [_acea ],_dfdd [_cfag ])});};_dadgf :=make ([]rulingList ,len (_begd ));for _defd ,_ddcbd :=range _begd {_gbeb :=make (rulingList ,len (_ddcbd ));for _gaba ,_bebd :=range _ddcbd {_gbeb [_gaba ]=_fagd [_bebd ];};_dadgf [_defd ]=_gbeb ;};if _febdg {_gc .Log .Info ("\u0074o\u0047r\u0069\u0064\u0073\u003a\u0020g\u0072\u0069d\u0073\u003d\u0025\u002b\u0076",_dadgf );};var _ecfe []rulingList ;for _ ,_gdgb :=range _dadgf {if _aceea ,_aeae :=_gdgb .isActualGrid ();_aeae {_gdgb =_aceea ;_gdgb =_gdgb .snapToGroups ();_ecfe =append (_ecfe ,_gdgb );};};if _febdg {_ggbbe ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u0061\u0063t\u0075\u0061\u006c\u0047ri\u0064\u0073",_ecfe );_gc .Log .Info ("\u0074\u006f\u0047\u0072\u0069\u0064\u0073\u003a\u0020\u0067\u0072\u0069\u0064\u0073\u003d%\u0064 \u0061\u0063\u0074\u0075\u0061\u006c\u0047\u0072\u0069\u0064\u0073\u003d\u0025\u0064",len (_dadgf ),len (_ecfe ));};return _ecfe ;};func (_efdf compositeCell )split (_fgfg ,_feagc []float64 )*textTable {_fcce :=len (_fgfg )+1;_fedg :=len (_feagc )+1;if _gbca {_gc .Log .Info ("\u0063\u006f\u006d\u0070\u006f\u0073\u0069t\u0065\u0043\u0065l\u006c\u002e\u0073\u0070l\u0069\u0074\u003a\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u000a\u0009\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u003d\u0025\u0073\u000a"+"\u0009\u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073=\u0025\u0036\u002e\u0032\u0066\u000a\t\u0063\u006f\u006c\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u003d%\u0036\u002e\u0032\u0066",_fedg ,_fcce ,_efdf ,_fgfg ,_feagc );_dg .Printf ("\u0020\u0020\u0020\u0020\u0025\u0064\u0020\u0070\u0061\u0072\u0061\u0073\u000a",len (_efdf .paraList ));for _ggbb ,_gaag :=range _efdf .paraList {_dg .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_ggbb ,_gaag .String ());};_dg .Printf ("\u0020\u0020\u0020\u0020\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u000a",len (_efdf .lines ()));for _gdbd ,_aced :=range _efdf .lines (){_dg .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_gdbd ,_aced );};};_fgfg =_eegdda (_fgfg ,_efdf .Ury ,_efdf .Lly );_feagc =_eegdda (_feagc ,_efdf .Llx ,_efdf .Urx );_cgbc :=make (map[uint64 ]*textPara ,_fedg *_fcce );_cbbg :=textTable {_bgbdf :_fedg ,_ggbac :_fcce ,_gbff :_cgbc };_fbdg :=_efdf .paraList ;_fg .Slice (_fbdg ,func (_dccbd ,_fdbe int )bool {_dgae ,_fcbd :=_fbdg [_dccbd ],_fbdg [_fdbe ];_affda ,_bfaa :=_dgae .Lly ,_fcbd .Lly ;if _affda !=_bfaa {return _affda < _bfaa ;};return _dgae .Llx < _fcbd .Llx ;});_dcgd :=make (map[uint64 ]_ggb .PdfRectangle ,_fedg *_fcce );for _dfd ,_gfag :=range _fgfg [1:]{_bad :=_fgfg [_dfd ];for _gdccb ,_bgca :=range _feagc [1:]{_ebad :=_feagc [_gdccb ];_dcgd [_ggfd (_gdccb ,_dfd )]=_ggb .PdfRectangle {Llx :_ebad ,Urx :_bgca ,Lly :_gfag ,Ury :_bad };};};if _gbca {_gc .Log .Info ("\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u0043\u0065l\u006c\u002e\u0073\u0070\u006c\u0069\u0074\u003a\u0020\u0072e\u0063\u0074\u0073");_dg .Printf ("\u0020\u0020\u0020\u0020");for _eegdd :=0;_eegdd < _fedg ;_eegdd ++{_dg .Printf ("\u0025\u0033\u0030\u0064\u002c\u0020",_eegdd );};_dg .Println ();for _fabgc :=0;_fabgc < _fcce ;_fabgc ++{_dg .Printf ("\u0020\u0020\u0025\u0032\u0064\u003a",_fabgc );for _bfag :=0;_bfag < _fedg ;_bfag ++{_dg .Printf ("\u00256\u002e\u0032\u0066\u002c\u0020",_dcgd [_ggfd (_bfag ,_fabgc )]);};_dg .Println ();};};_gbfda :=func (_ggabe *textLine )(int ,int ){for _caecg :=0;_caecg < _fcce ;_caecg ++{for _ebcc :=0;_ebcc < _fedg ;_ebcc ++{if _bbcc (_dcgd [_ggfd (_ebcc ,_caecg )],_ggabe .PdfRectangle ){return _ebcc ,_caecg ;};};};return -1,-1;};_afabg :=make (map[uint64 ][]*textLine ,_fedg *_fcce );for _ ,_fgfdf :=range _fbdg .lines (){_dcad ,_bdcd :=_gbfda (_fgfdf );if _dcad < 0{continue ;};_afabg [_ggfd (_dcad ,_bdcd )]=append (_afabg [_ggfd (_dcad ,_bdcd )],_fgfdf );};for _afdg :=0;_afdg < len (_fgfg )-1;_afdg ++{_fag :=_fgfg [_afdg ];_fcef :=_fgfg [_afdg +1];for _fdafc :=0;_fdafc < len (_feagc )-1;_fdafc ++{_dfff :=_feagc [_fdafc ];_ggef :=_feagc [_fdafc +1];_cabgb :=_ggb .PdfRectangle {Llx :_dfff ,Urx :_ggef ,Lly :_fcef ,Ury :_fag };_efaf :=_afabg [_ggfd (_fdafc ,_afdg )];if len (_efaf )==0{continue ;};_efec :=_fedc (_cabgb ,_efaf );_cbbg .put (_fdafc ,_afdg ,_efec );};};return &_cbbg ;};func (_aeacb *ruling )alignsPrimary (_bega *ruling )bool {return _aeacb ._dced ==_bega ._dced &&_da .Abs (_aeacb ._eed -_bega ._eed )< _face *0.5;};func _agadd (_ecce ,_gcce int )int {if _ecce > _gcce {return _ecce ;};return _gcce ;};func (_edce *textLine )appendWord (_bgad *textWord ){_edce ._cdcf =append (_edce ._cdcf ,_bgad );_edce .PdfRectangle =_egg (_edce .PdfRectangle ,_bgad .PdfRectangle );if _bgad ._gcfg > _edce ._fffb {_edce ._fffb =_bgad ._gcfg ;};if _bgad ._ceceec > _edce ._ddga {_edce ._ddga =_bgad ._ceceec ;};};

// String returns a description of `tm`.
func (_fcfac *textMark )String ()string {return _dg .Sprintf ("\u0025\u002e\u0032f \u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\u0022\u0025\u0073\u0022",_fcfac .PdfRectangle ,_fcfac ._bcb ,_fcfac ._dfag );};func (_dd *imageExtractContext )extractContentStreamImages (_fbg string ,_ef *_ggb .PdfPageResources )error {_fdg :=_ce .NewContentStreamParser (_fbg );_cca ,_fge :=_fdg .Parse ();if _fge !=nil {return _fge ;};if _dd ._ged ==nil {_dd ._ged =map[*_e .PdfObjectStream ]*cachedImage {};};if _dd ._bb ==nil {_dd ._bb =&ImageExtractOptions {};};_cd :=_ce .NewContentStreamProcessor (*_cca );_cd .AddHandler (_ce .HandlerConditionEnumAllOperands ,"",_dd .processOperand );return _cd .Process (_ef );};func (_fdacf paraList )addNeighbours (){_gedf :=func (_ccaag []int ,_edeb *textPara )([]*textPara ,[]*textPara ){_edef :=make ([]*textPara ,0,len (_ccaag )-1);_dcggf :=make ([]*textPara ,0,len (_ccaag )-1);for _ ,_eeebc :=range _ccaag {_gdfc :=_fdacf [_eeebc ];if _gdfc .Urx <=_edeb .Llx {_edef =append (_edef ,_gdfc );}else if _gdfc .Llx >=_edeb .Urx {_dcggf =append (_dcggf ,_gdfc );};};return _edef ,_dcggf ;};_efcdf :=func (_cgae []int ,_beacc *textPara )([]*textPara ,[]*textPara ){_ggec :=make ([]*textPara ,0,len (_cgae )-1);_bbecf :=make ([]*textPara ,0,len (_cgae )-1);for _ ,_egda :=range _cgae {_fbdcd :=_fdacf [_egda ];if _fbdcd .Ury <=_beacc .Lly {_bbecf =append (_bbecf ,_fbdcd );}else if _fbdcd .Lly >=_beacc .Ury {_ggec =append (_ggec ,_fbdcd );};};return _ggec ,_bbecf ;};_bgdd :=_fdacf .yNeighbours (_daba );for _ ,_dcgba :=range _fdacf {_gebgg :=_bgdd [_dcgba ];if len (_gebgg )==0{continue ;};_ebdg ,_fcgf :=_gedf (_gebgg ,_dcgba );if len (_ebdg )==0&&len (_fcgf )==0{continue ;};if len (_ebdg )> 0{_fede :=_ebdg [0];for _ ,_ccfgfb :=range _ebdg [1:]{if _ccfgfb .Urx >=_fede .Urx {_fede =_ccfgfb ;};};for _ ,_fbbg :=range _ebdg {if _fbbg !=_fede &&_fbbg .Urx > _fede .Llx {_fede =nil ;break ;};};if _fede !=nil &&_befa (_dcgba .PdfRectangle ,_fede .PdfRectangle ){_dcgba ._bff =_fede ;};};if len (_fcgf )> 0{_ecaab :=_fcgf [0];for _ ,_gcggg :=range _fcgf [1:]{if _gcggg .Llx <=_ecaab .Llx {_ecaab =_gcggg ;};};for _ ,_cbbe :=range _fcgf {if _cbbe !=_ecaab &&_cbbe .Llx < _ecaab .Urx {_ecaab =nil ;break ;};};if _ecaab !=nil &&_befa (_dcgba .PdfRectangle ,_ecaab .PdfRectangle ){_dcgba ._accg =_ecaab ;};};};_bgdd =_fdacf .xNeighbours (_gcede );for _ ,_gggc :=range _fdacf {_gffa :=_bgdd [_gggc ];if len (_gffa )==0{continue ;};_aaaff ,_cggg :=_efcdf (_gffa ,_gggc );if len (_aaaff )==0&&len (_cggg )==0{continue ;};if len (_cggg )> 0{_dfgb :=_cggg [0];for _ ,_abafa :=range _cggg [1:]{if _abafa .Ury >=_dfgb .Ury {_dfgb =_abafa ;};};for _ ,_ggag :=range _cggg {if _ggag !=_dfgb &&_ggag .Ury > _dfgb .Lly {_dfgb =nil ;break ;};};if _dfgb !=nil &&_bbecc (_gggc .PdfRectangle ,_dfgb .PdfRectangle ){_gggc ._dfad =_dfgb ;};};if len (_aaaff )> 0{_deaeg :=_aaaff [0];for _ ,_daac :=range _aaaff [1:]{if _daac .Lly <=_deaeg .Lly {_deaeg =_daac ;};};for _ ,_fadac :=range _aaaff {if _fadac !=_deaeg &&_fadac .Lly < _deaeg .Ury {_deaeg =nil ;break ;};};if _deaeg !=nil &&_bbecc (_gggc .PdfRectangle ,_deaeg .PdfRectangle ){_gggc ._fabga =_deaeg ;};};};for _ ,_fgfea :=range _fdacf {if _fgfea ._bff !=nil &&_fgfea ._bff ._accg !=_fgfea {_fgfea ._bff =nil ;};if _fgfea ._fabga !=nil &&_fgfea ._fabga ._dfad !=_fgfea {_fgfea ._fabga =nil ;};if _fgfea ._accg !=nil &&_fgfea ._accg ._bff !=_fgfea {_fgfea ._accg =nil ;};if _fgfea ._dfad !=nil &&_fgfea ._dfad ._fabga !=_fgfea {_fgfea ._dfad =nil ;};};};

// Elements returns the TextMarks in `ma`.
func (_gdaf *TextMarkArray )Elements ()[]TextMark {return _gdaf ._deg };func (_dcbgf *textMark )bbox ()_ggb .PdfRectangle {return _dcbgf .PdfRectangle };func (_bfbg *wordBag )maxDepth ()float64 {return _bfbg ._dca -_bfbg .Lly };

// ApplyArea processes the page text only within the specified area `bbox`.
// Each time ApplyArea is called, it updates the result set in `pt`.
// Can be called multiple times in a row with different bounding boxes.
func (_afcb *PageText )ApplyArea (bbox _ggb .PdfRectangle ){_efag :=make ([]*textMark ,0,len (_afcb ._agg ));for _ ,_abg :=range _afcb ._agg {if _dcgc (_abg .bbox (),bbox ){_efag =append (_efag ,_abg );};};var _dbag paraList ;_baeg :=len (_efag );for _dbb :=0;_dbb < 360&&_baeg > 0;_dbb +=90{_fce :=make ([]*textMark ,0,len (_efag )-_baeg );for _ ,_gff :=range _efag {if _gff ._aaff ==_dbb {_fce =append (_fce ,_gff );};};if len (_fce )> 0{_abag :=_bbae (_fce ,_afcb ._ccfe ,nil ,nil );_dbag =append (_dbag ,_abag ...);_baeg -=len (_fce );};};_cbe :=new (_db .Buffer );_dbag .writeText (_cbe );_afcb ._aba =_cbe .String ();_afcb ._dcge =_dbag .toTextMarks ();_afcb ._bccf =_dbag .tables ();};

// RangeOffset returns the TextMarks in `ma` that overlap text[start:end] in the extracted text.
// These are tm: `start` <= tm.Offset + len(tm.Text) && tm.Offset < `end` where
// `start` and `end` are offsets in the extracted text.
// NOTE: TextMarks can contain multiple characters. e.g. "ffi" for the ﬃ ligature so the first and
// last elements of the returned TextMarkArray may only partially overlap text[start:end].
func (_gbgb *TextMarkArray )RangeOffset (start ,end int )(*TextMarkArray ,error ){if _gbgb ==nil {return nil ,_d .New ("\u006da\u003d\u003d\u006e\u0069\u006c");};if end < start {return nil ,_dg .Errorf ("\u0065\u006e\u0064\u0020\u003c\u0020\u0073\u0074\u0061\u0072\u0074\u002e\u0020\u0052\u0061n\u0067\u0065\u004f\u0066\u0066\u0073\u0065\u0074\u0020\u006e\u006f\u0074\u0020d\u0065\u0066\u0069\u006e\u0065\u0064\u002e\u0020\u0073\u0074\u0061\u0072t=\u0025\u0064\u0020\u0065\u006e\u0064\u003d\u0025\u0064\u0020",start ,end );};_cfac :=len (_gbgb ._deg );if _cfac ==0{return _gbgb ,nil ;};if start < _gbgb ._deg [0].Offset {start =_gbgb ._deg [0].Offset ;};if end > _gbgb ._deg [_cfac -1].Offset +1{end =_gbgb ._deg [_cfac -1].Offset +1;};_eag :=_fg .Search (_cfac ,func (_cbfga int )bool {return _gbgb ._deg [_cbfga ].Offset +len (_gbgb ._deg [_cbfga ].Text )-1>=start });if !(0<=_eag &&_eag < _cfac ){_debb :=_dg .Errorf ("\u004f\u0075\u0074\u0020\u006f\u0066\u0020\u0072\u0061\u006e\u0067\u0065\u002e\u0020\u0073\u0074\u0061\u0072\u0074\u003d%\u0064\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020\u006c\u0065\u006e\u003d\u0025\u0064\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025\u0076\u000a\u0009 \u006c\u0061\u0073\u0074\u003d%\u0076",start ,_eag ,_cfac ,_gbgb ._deg [0],_gbgb ._deg [_cfac -1]);return nil ,_debb ;};_cdcab :=_fg .Search (_cfac ,func (_agge int )bool {return _gbgb ._deg [_agge ].Offset > end -1});if !(0<=_cdcab &&_cdcab < _cfac ){_cbcf :=_dg .Errorf ("\u004f\u0075\u0074\u0020\u006f\u0066\u0020r\u0061\u006e\u0067e\u002e\u0020\u0065n\u0064\u003d%\u0064\u0020\u0069\u0045\u006e\u0064=\u0025d \u006c\u0065\u006e\u003d\u0025\u0064\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025\u0076\u000a\u0009\u0020\u006c\u0061\u0073\u0074\u003d\u0025\u0076",end ,_cdcab ,_cfac ,_gbgb ._deg [0],_gbgb ._deg [_cfac -1]);return nil ,_cbcf ;};if _cdcab <=_eag {return nil ,_dg .Errorf ("\u0069\u0045\u006e\u0064\u0020\u003c=\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003a\u0020\u0073\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020\u0065\u006ed\u003d\u0025\u0064\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020i\u0045n\u0064\u003d\u0025\u0064",start ,end ,_eag ,_cdcab );};return &TextMarkArray {_deg :_gbgb ._deg [_eag :_cdcab ]},nil ;};func (_caca *textTable )computeBbox ()_ggb .PdfRectangle {var _edee _ggb .PdfRectangle ;_bacf :=false ;for _dgefd :=0;_dgefd < _caca ._ggbac ;_dgefd ++{for _fgfa :=0;_fgfa < _caca ._bgbdf ;_fgfa ++{_gfae :=_caca .get (_fgfa ,_dgefd );if _gfae ==nil {continue ;};if !_bacf {_edee =_gfae .PdfRectangle ;_bacf =true ;}else {_edee =_egg (_edee ,_gfae .PdfRectangle );};};};return _edee ;};func (_effa paraList )findTables (_bgfbf []gridTiling )[]*textTable {_effa .addNeighbours ();_fg .Slice (_effa ,func (_dcddd ,_gbffb int )bool {return _bbfe (_effa [_dcddd ],_effa [_gbffb ])< 0});var _efbd []*textTable ;if _bbdfg {_bbce :=_effa .findGridTables (_bgfbf );_efbd =append (_efbd ,_bbce ...);};if _dcgb {_ddec :=_effa .findTextTables ();_efbd =append (_efbd ,_ddec ...);};return _efbd ;};func (_fgfed *wordBag )sort (){for _ ,_gfbb :=range _fgfed ._cgfc {_fg .Slice (_gfbb ,func (_eac ,_fdab int )bool {return _edcg (_gfbb [_eac ],_gfbb [_fdab ])< 0});};};func (_efafg gridTile )contains (_fbbea _ggb .PdfRectangle )bool {if _efafg .numBorders ()< 3{return false ;};if _efafg ._bbegg &&_fbbea .Llx < _efafg .Llx -_ffcfg {return false ;};if _efafg ._bedf &&_fbbea .Urx > _efafg .Urx +_ffcfg {return false ;};if _efafg ._acef &&_fbbea .Lly < _efafg .Lly -_ffcfg {return false ;};if _efafg ._bddg &&_fbbea .Ury > _efafg .Ury +_ffcfg {return false ;};return true ;};var (_dbab =map[rune ]string {0x0060:"\u0300",0x02CB:"\u0300",0x0027:"\u0301",0x00B4:"\u0301",0x02B9:"\u0301",0x02CA:"\u0301",0x005E:"\u0302",0x02C6:"\u0302",0x007E:"\u0303",0x02DC:"\u0303",0x00AF:"\u0304",0x02C9:"\u0304",0x02D8:"\u0306",0x02D9:"\u0307",0x00A8:"\u0308",0x00B0:"\u030a",0x02DA:"\u030a",0x02BA:"\u030b",0x02DD:"\u030b",0x02C7:"\u030c",0x02C8:"\u030d",0x0022:"\u030e",0x02BB:"\u0312",0x02BC:"\u0313",0x0486:"\u0313",0x055A:"\u0313",0x02BD:"\u0314",0x0485:"\u0314",0x0559:"\u0314",0x02D4:"\u031d",0x02D5:"\u031e",0x02D6:"\u031f",0x02D7:"\u0320",0x02B2:"\u0321",0x00B8:"\u0327",0x02CC:"\u0329",0x02B7:"\u032b",0x02CD:"\u0331",0x005F:"\u0332",0x204E:"\u0359"};);func _egg (_bfda ,_abe _ggb .PdfRectangle )_ggb .PdfRectangle {return _ggb .PdfRectangle {Llx :_da .Min (_bfda .Llx ,_abe .Llx ),Lly :_da .Min (_bfda .Lly ,_abe .Lly ),Urx :_da .Max (_bfda .Urx ,_abe .Urx ),Ury :_da .Max (_bfda .Ury ,_abe .Ury )};};func _agdffg (_geba ,_eccfg _gg .Point )bool {_gcedf :=_da .Abs (_geba .X -_eccfg .X );_abgg :=_da .Abs (_geba .Y -_eccfg .Y );return _fdage (_abgg ,_gcedf );};func (_gfgf *wordBag )minDepth ()float64 {return _gfgf ._dca -(_gfgf .Ury -_gfgf ._eeb )};func (_ebbb *textPara )taken ()bool {return _ebbb ==nil ||_ebbb ._afcf };func (_aaac *ruling )alignsSec (_gcfbf *ruling )bool {const _efba =_face +1.0;return _aaac ._ffbc -_efba <=_gcfbf ._ccdb &&_gcfbf ._ffbc -_efba <=_aaac ._ccdb ;};func (_fdfdf rectRuling )asRuling ()(*ruling ,bool ){_eeef :=ruling {_dced :_fdfdf ._dbedd ,Color :_fdfdf .Color ,_dafb :_gcbb };switch _fdfdf ._dbedd {case _deeb :_eeef ._eed =0.5*(_fdfdf .Llx +_fdfdf .Urx );_eeef ._ffbc =_fdfdf .Lly ;_eeef ._ccdb =_fdfdf .Ury ;_bdcg ,_bede :=_fdfdf .checkWidth (_fdfdf .Llx ,_fdfdf .Urx );if !_bede {if _ffbd {_gc .Log .Error ("\u0072\u0065\u0063\u0074\u0052\u0075l\u0069\u006e\u0067\u002e\u0061\u0073\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0072\u0075\u006c\u0069\u006e\u0067V\u0065\u0072\u0074\u0020\u0021\u0063\u0068\u0065\u0063\u006b\u0057\u0069\u0064\u0074h\u0020v\u003d\u0025\u002b\u0076",_fdfdf );};return nil ,false ;};_eeef ._ceeeb =_bdcg ;case _ceab :_eeef ._eed =0.5*(_fdfdf .Lly +_fdfdf .Ury );_eeef ._ffbc =_fdfdf .Llx ;_eeef ._ccdb =_fdfdf .Urx ;_ccdbg ,_acff :=_fdfdf .checkWidth (_fdfdf .Lly ,_fdfdf .Ury );if !_acff {if _ffbd {_gc .Log .Error ("\u0072\u0065\u0063\u0074\u0052\u0075l\u0069\u006e\u0067\u002e\u0061\u0073\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0072\u0075\u006c\u0069\u006e\u0067H\u006f\u0072\u007a\u0020\u0021\u0063\u0068\u0065\u0063\u006b\u0057\u0069\u0064\u0074h\u0020v\u003d\u0025\u002b\u0076",_fdfdf );};return nil ,false ;};_eeef ._ceeeb =_ccdbg ;default:_gc .Log .Error ("\u0062\u0061\u0064\u0020pr\u0069\u006d\u0061\u0072\u0079\u0020\u006b\u0069\u006e\u0064\u003d\u0025\u0064",_fdfdf ._dbedd );return nil ,false ;};return &_eeef ,true ;};func (_fgba *textTable )markCells (){for _feca :=0;_feca < _fgba ._ggbac ;_feca ++{for _ggbda :=0;_ggbda < _fgba ._bgbdf ;_ggbda ++{_aedd :=_fgba .get (_ggbda ,_feca );if _aedd !=nil {_aedd ._afcf =true ;};};};};func _fada (_agfdb ,_bdgcf int )int {if _agfdb < _bdgcf {return _agfdb ;};return _bdgcf ;};func (_bdggf *textTable )newTablePara ()*textPara {_dbac :=_bdggf .computeBbox ();_fcac :=&textPara {PdfRectangle :_dbac ,_dbea :_dbac ,_aecbg :_bdggf };if _gbca {_gc .Log .Info ("\u006e\u0065w\u0054\u0061\u0062l\u0065\u0050\u0061\u0072\u0061\u003a\u0020\u0025\u0073",_fcac );};return _fcac ;};func _dccb (_ffae *Extractor ,_fbbd *_ggb .PdfPageResources ,_abdc _ce .GraphicsState ,_ceba *textState ,_fec *stateStack )*textObject {return &textObject {_dgbc :_ffae ,_bfa :_fbbd ,_gadc :_abdc ,_fgegc :_fec ,_ddf :_ceba ,_fgcc :_gg .IdentityMatrix (),_fggc :_gg .IdentityMatrix ()};};func (_dcfg *subpath )removeDuplicates (){if len (_dcfg ._gbab )==0{return ;};_cabd :=[]_gg .Point {_dcfg ._gbab [0]};for _ ,_ffdg :=range _dcfg ._gbab [1:]{if !_bcgcc (_ffdg ,_cabd [len (_cabd )-1]){_cabd =append (_cabd ,_ffdg );};};_dcfg ._gbab =_cabd ;};func (_bfbf rulingList )augmentGrid ()(rulingList ,rulingList ){_faeba ,_fdce :=_bfbf .vertsHorzs ();if len (_faeba )==0||len (_fdce )==0{return _faeba ,_fdce ;};_affb ,_acae :=_faeba ,_fdce ;_fbdc :=_faeba .bbox ();_acd :=_fdce .bbox ();if _febdg {_gc .Log .Info ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0047\u0072\u0069\u0064\u003a\u0020b\u0062\u006f\u0078\u0056\u003d\u0025\u0036\u002e\u0032\u0066",_fbdc );_gc .Log .Info ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0047\u0072\u0069\u0064\u003a\u0020b\u0062\u006f\u0078\u0048\u003d\u0025\u0036\u002e\u0032\u0066",_acd );};var _bbgb ,_bccg ,_fdac ,_bfbbe *ruling ;if _acd .Llx < _fbdc .Llx -_faeb {_bbgb =&ruling {_dafb :_dbefg ,_dced :_deeb ,_eed :_acd .Llx ,_ffbc :_fbdc .Lly ,_ccdb :_fbdc .Ury };_faeba =append (rulingList {_bbgb },_faeba ...);};if _acd .Urx > _fbdc .Urx +_faeb {_bccg =&ruling {_dafb :_dbefg ,_dced :_deeb ,_eed :_acd .Urx ,_ffbc :_fbdc .Lly ,_ccdb :_fbdc .Ury };_faeba =append (_faeba ,_bccg );};if _fbdc .Lly < _acd .Lly -_faeb {_fdac =&ruling {_dafb :_dbefg ,_dced :_ceab ,_eed :_fbdc .Lly ,_ffbc :_acd .Llx ,_ccdb :_acd .Urx };_fdce =append (rulingList {_fdac },_fdce ...);};if _fbdc .Ury > _acd .Ury +_faeb {_bfbbe =&ruling {_dafb :_dbefg ,_dced :_ceab ,_eed :_fbdc .Ury ,_ffbc :_acd .Llx ,_ccdb :_acd .Urx };_fdce =append (_fdce ,_bfbbe );};if len (_faeba )+len (_fdce )==len (_bfbf ){return _affb ,_acae ;};_agbg :=append (_faeba ,_fdce ...);_bfbf .log ("u\u006e\u0061\u0075\u0067\u006d\u0065\u006e\u0074\u0065\u0064");_agbg .log ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0065d");return _faeba ,_fdce ;};

// ExtractText processes and extracts all text data in content streams and returns as a string.
// It takes into account character encodings in the PDF file, which are decoded by
// CharcodeBytesToUnicode.
// Characters that can't be decoded are replaced with MissingCodeRune ('\ufffd' = �).
func (_dab *Extractor )ExtractText ()(string ,error ){_cab ,_ ,_ ,_afd :=_dab .ExtractTextWithStats ();return _cab ,_afd ;};func _bffa (_caga ,_bfeb _gg .Point )rulingKind {_decg :=_da .Abs (_caga .X -_bfeb .X );_bcddc :=_da .Abs (_caga .Y -_bfeb .Y );return _dfbd (_decg ,_bcddc ,_cgcc );};func _efe (_egcd *wordBag ,_eeeb float64 ,_gdeg ,_aaef rulingList )[]*wordBag {var _feda []*wordBag ;for _ ,_geg :=range _egcd .depthIndexes (){_acce :=false ;for !_egcd .empty (_geg ){_decd :=_egcd .firstReadingIndex (_geg );_fefg :=_egcd .firstWord (_decd );_gdbcb :=_dgbf (_fefg ,_eeeb ,_gdeg ,_aaef );_egcd .removeWord (_fefg ,_decd );if _edcc {_gc .Log .Info ("\u0066\u0069\u0072\u0073\u0074\u0057\u006f\u0072\u0064\u0020\u005e\u005e^\u005e\u0020\u0025\u0073",_fefg .String ());};for _dadd :=true ;_dadd ;_dadd =_acce {_acce =false ;_gadafd :=_egag *_gdbcb ._eeb ;_abcec :=_fbcf *_gdbcb ._eeb ;_bdbc :=_gbeg *_gdbcb ._eeb ;if _edcc {_gc .Log .Info ("\u0070a\u0072a\u0057\u006f\u0072\u0064\u0073\u0020\u0064\u0065\u0070\u0074\u0068 \u0025\u002e\u0032\u0066 \u002d\u0020\u0025\u002e\u0032f\u0020\u006d\u0061\u0078\u0049\u006e\u0074\u0072\u0061\u0044\u0065\u0070\u0074\u0068\u0047\u0061\u0070\u003d\u0025\u002e\u0032\u0066\u0020\u006d\u0061\u0078\u0049\u006e\u0074\u0072\u0061R\u0065\u0061\u0064\u0069\u006e\u0067\u0047\u0061p\u003d\u0025\u002e\u0032\u0066",_gdbcb .minDepth (),_gdbcb .maxDepth (),_bdbc ,_abcec );};if _egcd .scanBand ("\u0076\u0065\u0072\u0074\u0069\u0063\u0061\u006c",_gdbcb ,_dbefb (_aadd ,0),_gdbcb .minDepth ()-_bdbc ,_gdbcb .maxDepth ()+_bdbc ,_edbf ,false ,false )> 0{_acce =true ;};if _egcd .scanBand ("\u0068\u006f\u0072\u0069\u007a\u006f\u006e\u0074\u0061\u006c",_gdbcb ,_dbefb (_aadd ,_abcec ),_gdbcb .minDepth (),_gdbcb .maxDepth (),_begf ,false ,false )> 0{_acce =true ;};if _acce {continue ;};_feaf :=_egcd .scanBand ("",_gdbcb ,_dbefb (_fefe ,_gadafd ),_gdbcb .minDepth (),_gdbcb .maxDepth (),_egff ,true ,false );if _feaf > 0{_caag :=(_gdbcb .maxDepth ()-_gdbcb .minDepth ())/_gdbcb ._eeb ;if (_feaf > 1&&float64 (_feaf )> 0.3*_caag )||_feaf <=10{if _egcd .scanBand ("\u006f\u0074\u0068e\u0072",_gdbcb ,_dbefb (_fefe ,_gadafd ),_gdbcb .minDepth (),_gdbcb .maxDepth (),_egff ,false ,true )> 0{_acce =true ;};};};};_feda =append (_feda ,_gdbcb );};};return _feda ;};

// ExtractTextWithStats works like ExtractText but returns the number of characters in the output
// (`numChars`) and the number of characters that were not decoded (`numMisses`).
func (_baa *Extractor )ExtractTextWithStats ()(_ccc string ,_fgeg int ,_efa int ,_cece error ){_cecd ,_fgeg ,_efa ,_cece :=_baa .ExtractPageText ();if _cece !=nil {return "",_fgeg ,_efa ,_cece ;};return _cecd .Text (),_fgeg ,_efa ,nil ;};func (_fbbed *textTable )compositeRowCorridors ()map[int ][]float64 {_dfdb :=make (map[int ][]float64 ,_fbbed ._ggbac );if _gbca {_gc .Log .Info ("c\u006f\u006d\u0070\u006f\u0073\u0069t\u0065\u0052\u006f\u0077\u0043\u006f\u0072\u0072\u0069d\u006f\u0072\u0073:\u0020h\u003d\u0025\u0064",_fbbed ._ggbac );};for _aeacg :=1;_aeacg < _fbbed ._ggbac ;_aeacg ++{var _fafa []compositeCell ;for _fcadg :=0;_fcadg < _fbbed ._bgbdf ;_fcadg ++{if _ebbe ,_fafac :=_fbbed ._ggfa [_ggfd (_fcadg ,_aeacg )];_fafac {_fafa =append (_fafa ,_ebbe );};};if len (_fafa )==0{continue ;};_bbcf :=_bcgc (_fafa );_dfdb [_aeacg ]=_bbcf ;if _gbca {_dg .Printf ("\u0020\u0020\u0020\u0025\u0032\u0064\u003a\u0020\u00256\u002e\u0032\u0066\u000a",_aeacg ,_bbcf );};};return _dfdb ;};func (_cebd *wordBag )absorb (_egcb *wordBag ){_caab :=_egcb .makeRemovals ();for _ddce ,_agcg :=range _egcb ._cgfc {for _ ,_dedg :=range _agcg {_cebd .pullWord (_dedg ,_ddce ,_caab );};};_egcb .applyRemovals (_caab );};

// PageImages represents extracted images on a PDF page with spatial information:
// display position and size.
type PageImages struct{Images []ImageMark ;};

// String returns a description of `b`.
func (_geec *wordBag )String ()string {var _ffcf []string ;for _ ,_agaa :=range _geec .depthIndexes (){_abfe :=_geec ._cgfc [_agaa ];for _ ,_baeeb :=range _abfe {_ffcf =append (_ffcf ,_baeeb ._aeaceg );};};return _dg .Sprintf ("\u0025.\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065=\u0025\u002e\u0032\u0066\u0020\u0025\u0064\u0020\u0025\u0071",_geec .PdfRectangle ,_geec ._eeb ,len (_ffcf ),_ffcf );};func (_cedf rectRuling )checkWidth (_agbb ,_gbad float64 )(float64 ,bool ){_ccae :=_gbad -_agbb ;_eccbd :=_ccae <=_face ;return _ccae ,_eccbd ;};func (_cbagb rulingList )connections (_gfd map[int ]intSet ,_aaddc int )intSet {_acacd :=make (intSet );_defe :=make (intSet );var _gebg func (int );_gebg =func (_gdggg int ){if !_defe .has (_gdggg ){_defe .add (_gdggg );for _afae :=range _cbagb {if _gfd [_afae ].has (_gdggg ){_acacd .add (_afae );};};for _dbcf :=range _cbagb {if _acacd .has (_dbcf ){_gebg (_dbcf );};};};};_gebg (_aaddc );return _acacd ;};func _gbfb (_bfaaf ,_ccea float64 )bool {return _da .Abs (_bfaaf -_ccea )<=_faeb };func (_ebf *textObject )getFont (_dcgg string )(*_ggb .PdfFont ,error ){if _ebf ._dgbc ._ee !=nil {_ebf ._dgbc ._bc ++;_cegg ,_efcf :=_ebf ._dgbc ._ee [_dcgg ];if _efcf {_cegg ._eae =_ebf ._dgbc ._bc ;return _cegg ._gcf ,nil ;};};_dag ,_bgbd :=_ebf .getFontDirect (_dcgg );if _bgbd !=nil {return nil ,_bgbd ;};if _ebf ._dgbc ._ee !=nil {_ffdf :=fontEntry {_dag ,_ebf ._dgbc ._bc };if len (_ebf ._dgbc ._ee )>=_eaa {var _fgb []string ;for _bba :=range _ebf ._dgbc ._ee {_fgb =append (_fgb ,_bba );};_fg .Slice (_fgb ,func (_cdbc ,_afea int )bool {return _ebf ._dgbc ._ee [_fgb [_cdbc ]]._eae < _ebf ._dgbc ._ee [_fgb [_afea ]]._eae ;});delete (_ebf ._dgbc ._ee ,_fgb [0]);};_ebf ._dgbc ._ee [_dcgg ]=_ffdf ;};return _dag ,nil ;};

// ExtractPageImages returns the image contents of the page extractor, including data
// and position, size information for each image.
// A set of options to control page image extraction can be passed in. The options
// parameter can be nil for the default options. By default, inline stencil masks
// are not extracted.
func (_ge *Extractor )ExtractPageImages (options *ImageExtractOptions )(*PageImages ,error ){_def :=&imageExtractContext {_bb :options };_bdf :=_def .extractContentStreamImages (_ge ._eb ,_ge ._fb );if _bdf !=nil {return nil ,_bdf ;};return &PageImages {Images :_def ._fd },nil ;};type wordBag struct{_ggb .PdfRectangle ;_eeb float64 ;_cgcf ,_gfcb rulingList ;_dca float64 ;_cgfc map[int ][]*textWord ;};func (_cfea *textObject )moveLP (_fdbd ,_agf float64 ){_cfea ._fggc .Concat (_gg .NewMatrix (1,0,0,1,_fdbd ,_agf ));_cfea ._fgcc =_cfea ._fggc ;};func (_agcgc rulingList )removeDuplicates ()rulingList {if len (_agcgc )==0{return nil ;};_agcgc .sort ();_gegg :=rulingList {_agcgc [0]};for _ ,_bbfee :=range _agcgc [1:]{if _bbfee .equals (_gegg [len (_gegg )-1]){continue ;};_gegg =append (_gegg ,_bbfee );};return _gegg ;};func _ceea (_fcad ,_cabb _gg .Point )rulingKind {_affded :=_da .Abs (_fcad .X -_cabb .X );_ffdb :=_da .Abs (_fcad .Y -_cabb .Y );return _dfbd (_affded ,_ffdb ,_dedb );};func (_bccgd intSet )del (_deggb int ){delete (_bccgd ,_deggb )};func (_bcge *textTable )emptyRow (_fgbbf int )bool {for _dbcaa :=0;_dbcaa < _bcge ._bgbdf ;_dbcaa ++{_bcbdb :=_bcge .get (_dbcaa ,_fgbbf );if _bcbdb !=nil &&_bcbdb .text ()!=""{return false ;};};return true ;};func _ggfd (_ccad ,_ggaef int )uint64 {return uint64 (_ccad )*0x1000000+uint64 (_ggaef )};func (_edbab *subpath )isQuadrilateral ()bool {if len (_edbab ._gbab )< 4||len (_edbab ._gbab )> 5{return false ;};if len (_edbab ._gbab )==5{_dfcf :=_edbab ._gbab [0];_bdcb :=_edbab ._gbab [4];if _dfcf .X !=_bdcb .X ||_dfcf .Y !=_bdcb .Y {return false ;};};return true ;};func _gfgg (_edgd map[float64 ]map[float64 ]gridTile )[]float64 {_cgabd :=make ([]float64 ,0,len (_edgd ));for _fgag :=range _edgd {_cgabd =append (_cgabd ,_fgag );};_fg .Float64s (_cgabd );_efafc :=len (_cgabd );for _gggaf :=0;_gggaf < _efafc /2;_gggaf ++{_cgabd [_gggaf ],_cgabd [_efafc -1-_gggaf ]=_cgabd [_efafc -1-_gggaf ],_cgabd [_gggaf ];};return _cgabd ;};

// String returns a string describing the current state of the textState stack.
func (_fbc *stateStack )String ()string {_daeg :=[]string {_dg .Sprintf ("\u002d\u002d\u002d\u002d f\u006f\u006e\u0074\u0020\u0073\u0074\u0061\u0063\u006b\u003a\u0020\u0025\u0064",len (*_fbc ))};for _cgfe ,_gbf :=range *_fbc {_caff :="\u003c\u006e\u0069l\u003e";if _gbf !=nil {_caff =_gbf .String ();};_daeg =append (_daeg ,_dg .Sprintf ("\u0009\u0025\u0032\u0064\u003a\u0020\u0025\u0073",_cgfe ,_caff ));};return _g .Join (_daeg ,"\u000a");};func (_abfb *textObject )newTextMark (_fdeg string ,_aacd _gg .Matrix ,_eggg _gg .Point ,_gbdc float64 ,_caec *_ggb .PdfFont ,_cceeg float64 ,_afee ,_gbgc _be .Color )(textMark ,bool ){_efcg :=_aacd .Angle ();_dded :=_adgg (_efcg ,_eegd );var _gbecg float64 ;if _dded %180!=90{_gbecg =_aacd .ScalingFactorY ();}else {_gbecg =_aacd .ScalingFactorX ();};_cfcc :=_egdc (_aacd );_adb :=_ggb .PdfRectangle {Llx :_cfcc .X ,Lly :_cfcc .Y ,Urx :_eggg .X ,Ury :_eggg .Y };switch _dded %360{case 90:_adb .Urx -=_gbecg ;case 180:_adb .Ury -=_gbecg ;case 270:_adb .Urx +=_gbecg ;case 0:_adb .Ury +=_gbecg ;default:_dded =0;_adb .Ury +=_gbecg ;};if _adb .Llx > _adb .Urx {_adb .Llx ,_adb .Urx =_adb .Urx ,_adb .Llx ;};if _adb .Lly > _adb .Ury {_adb .Lly ,_adb .Ury =_adb .Ury ,_adb .Lly ;};_bccc ,_acgg :=_agec (_adb ,_abfb ._dgbc ._gd );if !_acgg {_gc .Log .Debug ("\u0054\u0065\u0078\u0074\u0020m\u0061\u0072\u006b\u0020\u006f\u0075\u0074\u0073\u0069\u0064\u0065\u0020\u0070a\u0067\u0065\u002e\u0020\u0062\u0062\u006f\u0078\u003d\u0025\u0067\u0020\u006d\u0065\u0064\u0069\u0061\u0042\u006f\u0078\u003d\u0025\u0067\u0020\u0074\u0065\u0078\u0074\u003d\u0025q",_adb ,_abfb ._dgbc ._gd ,_fdeg );};_adb =_bccc ;_bgbcc :=_adb ;_adff :=_abfb ._dgbc ._gd ;switch _dded %360{case 90:_adff .Urx ,_adff .Ury =_adff .Ury ,_adff .Urx ;_bgbcc =_ggb .PdfRectangle {Llx :_adff .Urx -_adb .Ury ,Urx :_adff .Urx -_adb .Lly ,Lly :_adb .Llx ,Ury :_adb .Urx };case 180:_bgbcc =_ggb .PdfRectangle {Llx :_adff .Urx -_adb .Llx ,Urx :_adff .Urx -_adb .Urx ,Lly :_adff .Ury -_adb .Lly ,Ury :_adff .Ury -_adb .Ury };case 270:_adff .Urx ,_adff .Ury =_adff .Ury ,_adff .Urx ;_bgbcc =_ggb .PdfRectangle {Llx :_adb .Ury ,Urx :_adb .Lly ,Lly :_adff .Ury -_adb .Llx ,Ury :_adff .Ury -_adb .Urx };};if _bgbcc .Llx > _bgbcc .Urx {_bgbcc .Llx ,_bgbcc .Urx =_bgbcc .Urx ,_bgbcc .Llx ;};if _bgbcc .Lly > _bgbcc .Ury {_bgbcc .Lly ,_bgbcc .Ury =_bgbcc .Ury ,_bgbcc .Lly ;};_dfaag :=textMark {_dfag :_fdeg ,PdfRectangle :_bgbcc ,_ceec :_adb ,_acgab :_caec ,_bcb :_gbecg ,_aecc :_cceeg ,_ffcc :_aacd ,_fdbc :_eggg ,_aaff :_dded ,_feeg :_afee ,_deaa :_gbgc };if _adeac {_gc .Log .Info ("n\u0065\u0077\u0054\u0065\u0078\u0074M\u0061\u0072\u006b\u003a\u0020\u0073t\u0061\u0072\u0074\u003d\u0025\u002e\u0032f\u0020\u0065\u006e\u0064\u003d\u0025\u002e\u0032\u0066\u0020%\u0073",_cfcc ,_eggg ,_dfaag .String ());};return _dfaag ,_acgg ;};func _edcg (_gadaf ,_gfce bounded )float64 {return _gadaf .bbox ().Llx -_gfce .bbox ().Llx };type textPara struct{_ggb .PdfRectangle ;_dbea _ggb .PdfRectangle ;_adafb []*textLine ;_aecbg *textTable ;_afcf bool ;_cacc bool ;_bff *textPara ;_accg *textPara ;_fabga *textPara ;_dfad *textPara ;};func (_ggaa rulingList )primMinMax ()(float64 ,float64 ){_cfcb ,_agbf :=_ggaa [0]._eed ,_ggaa [0]._eed ;for _ ,_accgb :=range _ggaa [1:]{if _accgb ._eed < _cfcb {_cfcb =_accgb ._eed ;}else if _accgb ._eed > _agbf {_agbf =_accgb ._eed ;};};return _cfcb ,_agbf ;};func (_eaf *shapesState )quadraticTo (_edg ,_adag ,_fggca ,_aeea float64 ){if _baf {_gc .Log .Info ("\u0071\u0075\u0061d\u0072\u0061\u0074\u0069\u0063\u0054\u006f\u003a");};_eaf .addPoint (_fggca ,_aeea );};func (_cafea paraList )extractTables (_dcbd []gridTiling )paraList {if _gbca {_gc .Log .Debug ("\u0065\u0078\u0074r\u0061\u0063\u0074\u0054\u0061\u0062\u006c\u0065\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_cafea ));};if len (_cafea )< _beaa {return _cafea ;};_bcaf :=_cafea .findTables (_dcbd );if _gbca {_gc .Log .Info ("c\u006f\u006d\u0062\u0069\u006e\u0065d\u0020\u0074\u0061\u0062\u006c\u0065s\u0020\u0025\u0064\u0020\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d",len (_bcaf ));for _addb ,_ceeae :=range _bcaf {_ceeae .log (_dg .Sprintf ("c\u006f\u006d\u0062\u0069\u006e\u0065\u0064\u0020\u0025\u0064",_addb ));};};return _cafea .applyTables (_bcaf );};func (_fdgfd compositeCell )parasBBox ()(paraList ,_ggb .PdfRectangle ){return _fdgfd .paraList ,_fdgfd .PdfRectangle ;};func _adfef (_dcee float64 )bool {return _da .Abs (_dcee )< _fabg };

// String returns a description of `k`.
func (_bgagc markKind )String ()string {_dfae ,_agaf :=_ebfd [_bgagc ];if !_agaf {return _dg .Sprintf ("\u004e\u006f\u0074\u0020\u0061\u0020\u006d\u0061\u0072k\u003a\u0020\u0025\u0064",_bgagc );};return _dfae ;};const (RenderModeStroke RenderMode =1<<iota ;RenderModeFill ;RenderModeClip ;);func (_cafe *textPara )writeText (_ddff _c .Writer ){if _cafe ._aecbg ==nil {_cafe .writeCellText (_ddff );return ;};for _aecf :=0;_aecf < _cafe ._aecbg ._ggbac ;_aecf ++{for _bgc :=0;_bgc < _cafe ._aecbg ._bgbdf ;_bgc ++{_fabf :=_cafe ._aecbg .get (_bgc ,_aecf );if _fabf ==nil {_ddff .Write ([]byte ("\u0009"));}else {_fabf .writeCellText (_ddff );};_ddff .Write ([]byte ("\u0020"));};if _aecf < _cafe ._aecbg ._ggbac -1{_ddff .Write ([]byte ("\u000a"));};};};func _gebd (_gecdb int ,_abaf map[int ][]float64 )([]int ,int ){_agcf :=make ([]int ,_gecdb );_befab :=0;for _ggfb :=0;_ggfb < _gecdb ;_ggfb ++{_agcf [_ggfb ]=_befab ;_befab +=len (_abaf [_ggfb ])+1;};return _agcf ,_befab ;};

// String returns a human readable description of `s`.
func (_dbbbg intSet )String ()string {var _cfece []int ;for _dccf :=range _dbbbg {if _dbbbg .has (_dccf ){_cfece =append (_cfece ,_dccf );};};_fg .Ints (_cfece );return _dg .Sprintf ("\u0025\u002b\u0076",_cfece );};func _bcgc (_fbdf []compositeCell )[]float64 {var _cacd []*textLine ;_dbfd :=0;for _ ,_fegd :=range _fbdf {_dbfd +=len (_fegd .paraList );_cacd =append (_cacd ,_fegd .lines ()...);};_fg .Slice (_cacd ,func (_agbga ,_daae int )bool {_afda ,_gfdgf :=_cacd [_agbga ],_cacd [_daae ];_fgad ,_fegf :=_afda ._ddga ,_gfdgf ._ddga ;if !_adfef (_fgad -_fegf ){return _fgad < _fegf ;};return _afda .Llx < _gfdgf .Llx ;});if _gbca {_dg .Printf ("\u0020\u0020\u0020 r\u006f\u0077\u0042\u006f\u0072\u0064\u0065\u0072\u0073:\u0020%\u0064 \u0070a\u0072\u0061\u0073\u0020\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u000a",_dbfd ,len (_cacd ));for _dggb ,_cfgadf :=range _cacd {_dg .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_dggb ,_cfgadf );};};var _ccafg []float64 ;_ggddb :=_cacd [0];var _ccfc [][]*textLine ;_egdcc :=[]*textLine {_ggddb };for _cebcc ,_ffdga :=range _cacd [1:]{if _ffdga .Ury < _ggddb .Lly {_defec :=0.5*(_ffdga .Ury +_ggddb .Lly );if _gbca {_dg .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u003c\u0020\u0025\u0036.\u0032f\u0020\u0062\u006f\u0072\u0064\u0065\u0072\u003d\u0025\u0036\u002e\u0032\u0066\u000a"+"\u0009\u0020\u0071\u003d\u0025\u0073\u000a\u0009\u0020p\u003d\u0025\u0073\u000a",_cebcc ,_ffdga .Ury ,_ggddb .Lly ,_defec ,_ggddb ,_ffdga );};_ccafg =append (_ccafg ,_defec );_ccfc =append (_ccfc ,_egdcc );_egdcc =nil ;};_egdcc =append (_egdcc ,_ffdga );if _ffdga .Lly < _ggddb .Lly {_ggddb =_ffdga ;};};if len (_egdcc )> 0{_ccfc =append (_ccfc ,_egdcc );};if _gbca {_dg .Printf (" \u0020\u0020\u0020\u0020\u0020\u0020 \u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064o\u0072\u0073\u003d%\u0036.\u0032\u0066\u000a",_ccafg );};if _gbca {_gc .Log .Info ("\u0072\u006f\u0077\u003d\u0025\u0064",len (_fbdf ));for _fddd ,_bgeb :=range _fbdf {_dg .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_fddd ,_bgeb );};_gc .Log .Info ("\u0067r\u006f\u0075\u0070\u0073\u003d\u0025d",len (_ccfc ));for _cdee ,_bbdg :=range _ccfc {_dg .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0064\u000a",_cdee ,len (_bbdg ));for _dadae ,_ggfg :=range _bbdg {_dg .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_dadae ,_ggfg );};};};_cdfe :=true ;for _faaa ,_aedg :=range _ccfc {_aeabg :=true ;for _dacbf ,_fdedg :=range _fbdf {if _gbca {_dg .Printf ("\u0020\u0020\u0020\u007e\u007e\u007e\u0067\u0072\u006f\u0075\u0070\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064\u0020\u0063\u0065\u006cl\u0020\u0025\u0064\u0020\u006ff\u0020\u0025d\u0020\u0025\u0073\u000a",_faaa ,len (_ccfc ),_dacbf ,len (_fbdf ),_fdedg );};if !_fdedg .hasLines (_aedg ){if _gbca {_dg .Printf ("\u0020\u0020\u0020\u0021\u0021\u0021\u0067\u0072\u006f\u0075\u0070\u0020\u0025d\u0020\u006f\u0066\u0020\u0025\u0064 \u0063\u0065\u006c\u006c\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064 \u004f\u0055\u0054\u000a",_faaa ,len (_ccfc ),_dacbf ,len (_fbdf ));};_aeabg =false ;break ;};};if !_aeabg {_cdfe =false ;break ;};};if !_cdfe {if _gbca {_gc .Log .Info ("\u0072\u006f\u0077\u0020\u0063o\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u0020\u0064\u006f\u006e\u0027\u0074 \u0073\u0070\u0061\u006e\u0020\u0061\u006c\u006c\u0020\u0063\u0065\u006c\u006c\u0073\u0020\u0069\u006e\u0020\u0072\u006f\u0077\u002e\u0020\u0069\u0067\u006e\u006f\u0072\u0069\u006eg");};_ccafg =nil ;};if _gbca &&_ccafg !=nil {_dg .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u002a\u002a*\u0072\u006f\u0077\u0043\u006f\u0072\u0072i\u0064\u006f\u0072\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u000a",_ccafg );};return _ccafg ;};func (_bacg paraList )log (_aagb string ){if !_ead {return ;};_gc .Log .Info ("%\u0038\u0073\u003a\u0020\u0025\u0064 \u0070\u0061\u0072\u0061\u0073\u0020=\u003d\u003d\u003d\u003d\u003d\u003d\u002d-\u002d\u002d\u002d\u002d\u002d\u003d\u003d\u003d\u003d\u003d=\u003d",_aagb ,len (_bacg ));for _bcgg ,_bgg :=range _bacg {if _bgg ==nil {continue ;};_baeff :=_bgg .text ();_abef :="\u0020\u0020";if _bgg ._aecbg !=nil {_abef =_dg .Sprintf ("\u005b%\u0064\u0078\u0025\u0064\u005d",_bgg ._aecbg ._bgbdf ,_bgg ._aecbg ._ggbac );};_dg .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0025s\u0020\u0025\u0071\u000a",_bcgg ,_bgg .PdfRectangle ,_abef ,_ggfe (_baeff ,50));};};

// String returns a human readable description of `ss`.
func (_afb *shapesState )String ()string {return _dg .Sprintf ("\u007b\u0025\u0064\u0020su\u0062\u0070\u0061\u0074\u0068\u0073\u0020\u0066\u0072\u0065\u0073\u0068\u003d\u0025t\u007d",len (_afb ._gcbg ),_afb ._dcca );};

// String returns a string describing `tm`.
func (_dcfc TextMark )String ()string {_gagd :=_dcfc .BBox ;var _cff string ;if _dcfc .Font !=nil {_cff =_dcfc .Font .String ();if len (_cff )> 50{_cff =_cff [:50]+"\u002e\u002e\u002e";};};var _aff string ;if _dcfc .Meta {_aff ="\u0020\u002a\u004d\u002a";};return _dg .Sprintf ("\u007b\u0054\u0065\u0078t\u004d\u0061\u0072\u006b\u003a\u0020\u0025\u0064\u0020%\u0071\u003d\u0025\u0030\u0032\u0078\u0020\u0028\u0025\u0036\u002e\u0032\u0066\u002c\u0020\u0025\u0036\u002e2\u0066\u0029\u0020\u0028\u00256\u002e\u0032\u0066\u002c\u0020\u0025\u0036\u002e\u0032\u0066\u0029\u0020\u0025\u0073\u0025\u0073\u007d",_dcfc .Offset ,_dcfc .Text ,[]rune (_dcfc .Text ),_gagd .Llx ,_gagd .Lly ,_gagd .Urx ,_gagd .Ury ,_cff ,_aff );};func (_dffg compositeCell )String ()string {_ggba :="";if len (_dffg .paraList )> 0{_ggba =_ggfe (_dffg .paraList .merge ().text (),50);};return _dg .Sprintf ("\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0064\u0020\u0070\u0061\u0072a\u0073\u0020\u0025\u0071",_dffg .PdfRectangle ,len (_dffg .paraList ),_ggba );};func (_abca rulingList )findPrimSec (_ccfg ,_ddee float64 )*ruling {for _ ,_cagc :=range _abca {if _adfef (_cagc ._eed -_ccfg )&&_cagc ._ffbc -_faeb <=_ddee &&_ddee <=_cagc ._ccdb +_faeb {return _cagc ;};};return nil ;};func (_dffgb rulingList )vertsHorzs ()(rulingList ,rulingList ){var _cgcd ,_fafff rulingList ;for _ ,_aaggg :=range _dffgb {switch _aaggg ._dced {case _deeb :_cgcd =append (_cgcd ,_aaggg );case _ceab :_fafff =append (_fafff ,_aaggg );};};return _cgcd ,_fafff ;};func (_adcgc *textTable )logComposite (_geadd string ){if !_gbca {return ;};_gc .Log .Info ("\u007e~\u007eP\u0061\u0072\u0061\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0073",_adcgc ._bgbdf ,_adcgc ._ggbac ,_geadd );_dg .Printf ("\u0025\u0035\u0073 \u007c","");for _gacf :=0;_gacf < _adcgc ._bgbdf ;_gacf ++{_dg .Printf ("\u0025\u0033\u0064 \u007c",_gacf );};_dg .Println ("");_dg .Printf ("\u0025\u0035\u0073 \u002b","");for _acdfg :=0;_acdfg < _adcgc ._bgbdf ;_acdfg ++{_dg .Printf ("\u0025\u0033\u0073 \u002b","\u002d\u002d\u002d");};_dg .Println ("");for _fcfb :=0;_fcfb < _adcgc ._ggbac ;_fcfb ++{_dg .Printf ("\u0025\u0035\u0064 \u007c",_fcfb );for _efcc :=0;_efcc < _adcgc ._bgbdf ;_efcc ++{_gcgg ,_ :=_adcgc ._ggfa [_ggfd (_efcc ,_fcfb )].parasBBox ();_dg .Printf ("\u0025\u0033\u0064 \u007c",len (_gcgg ));};_dg .Println ("");};_gc .Log .Info ("\u007e~\u007eT\u0065\u0078\u0074\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0073",_adcgc ._bgbdf ,_adcgc ._ggbac ,_geadd );_dg .Printf ("\u0025\u0035\u0073 \u007c","");for _afebb :=0;_afebb < _adcgc ._bgbdf ;_afebb ++{_dg .Printf ("\u0025\u0031\u0032\u0064\u0020\u007c",_afebb );};_dg .Println ("");_dg .Printf ("\u0025\u0035\u0073 \u002b","");for _abafg :=0;_abafg < _adcgc ._bgbdf ;_abafg ++{_dg .Print ("\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d-\u002d\u002d\u002d\u002b");};_dg .Println ("");for _bgce :=0;_bgce < _adcgc ._ggbac ;_bgce ++{_dg .Printf ("\u0025\u0035\u0064 \u007c",_bgce );for _cbde :=0;_cbde < _adcgc ._bgbdf ;_cbde ++{_fbde ,_ :=_adcgc ._ggfa [_ggfd (_cbde ,_bgce )].parasBBox ();_egfbe :="";_bcbb :=_fbde .merge ();if _bcbb !=nil {_egfbe =_bcbb .text ();};_egfbe =_dg .Sprintf ("\u0025\u0071",_ggfe (_egfbe ,12));_egfbe =_egfbe [1:len (_egfbe )-1];_dg .Printf ("\u0025\u0031\u0032\u0073\u0020\u007c",_egfbe );};_dg .Println ("");};};func (_aecg *shapesState )devicePoint (_agcd ,_bde float64 )_gg .Point {_afdc :=_aecg ._eefa .Mult (_aecg ._agfd );_agcd ,_bde =_afdc .Transform (_agcd ,_bde );return _gg .NewPoint (_agcd ,_bde );};func _dfaa (_edd []*wordBag )[]*wordBag {if len (_edd )<=1{return _edd ;};if _ffed {_gc .Log .Info ("\u006d\u0065\u0072\u0067\u0065\u0057\u006f\u0072\u0064B\u0061\u0067\u0073\u003a");};_fg .Slice (_edd ,func (_aab ,_ccbc int )bool {_ccec ,_bgdg :=_edd [_aab ],_edd [_ccbc ];_fadb :=_ccec .Width ()*_ccec .Height ();_ffg :=_bgdg .Width ()*_bgdg .Height ();if _fadb !=_ffg {return _fadb > _ffg ;};if _ccec .Height ()!=_bgdg .Height (){return _ccec .Height ()> _bgdg .Height ();};return _aab < _ccbc ;});var _fdd []*wordBag ;_edec :=make (intSet );for _abb :=0;_abb < len (_edd );_abb ++{if _edec .has (_abb ){continue ;};_aeab :=_edd [_abb ];for _cde :=_abb +1;_cde < len (_edd );_cde ++{if _edec .has (_abb ){continue ;};_egbg :=_edd [_cde ];_fabb :=_aeab .PdfRectangle ;_fabb .Llx -=_aeab ._eeb ;if _bbcc (_fabb ,_egbg .PdfRectangle ){_aeab .absorb (_egbg );_edec .add (_cde );};};_fdd =append (_fdd ,_aeab );};if len (_edd )!=len (_fdd )+len (_edec ){_gc .Log .Error ("\u006d\u0065\u0072ge\u0057\u006f\u0072\u0064\u0042\u0061\u0067\u0073\u003a \u0025d\u2192%\u0064 \u0061\u0062\u0073\u006f\u0072\u0062\u0065\u0064\u003d\u0025\u0064",len (_edd ),len (_fdd ),len (_edec ));};return _fdd ;};func _egdc (_fccd _gg .Matrix )_gg .Point {_cade ,_cbfg :=_fccd .Translation ();return _gg .Point {X :_cade ,Y :_cbfg };};func (_ggbd gridTiling )complete ()bool {for _ ,_geab :=range _ggbd ._beab {for _ ,_eeaa :=range _geab {if !_eeaa .complete (){return false ;};};};return true ;};type gridTile struct{_ggb .PdfRectangle ;_bddg ,_bbegg ,_acef ,_bedf bool ;};func (_ecc *wordBag )depthIndexes ()[]int {if len (_ecc ._cgfc )==0{return nil ;};_agbc :=make ([]int ,len (_ecc ._cgfc ));_cdec :=0;for _acee :=range _ecc ._cgfc {_agbc [_cdec ]=_acee ;_cdec ++;};_fg .Ints (_agbc );return _agbc ;};var (_dac =_d .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");_cf =_d .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072"););func _gadf (_badc ,_acfe _gg .Point ,_bedc _be .Color )(*ruling ,bool ){_ddcaf :=lineRuling {_ggbab :_badc ,_edgb :_acfe ,_egdff :_bffa (_badc ,_acfe ),Color :_bedc };if _ddcaf ._egdff ==_gcbc {return nil ,false ;};return _ddcaf .asRuling ();};func (_gfdg *textTable )toTextTable ()TextTable {if _gbca {_gc .Log .Info ("t\u006fT\u0065\u0078\u0074\u0054\u0061\u0062\u006c\u0065:\u0020\u0025\u0064\u0020x \u0025\u0064",_gfdg ._bgbdf ,_gfdg ._ggbac );};_bdce :=make ([][]TableCell ,_gfdg ._ggbac );for _fagb :=0;_fagb < _gfdg ._ggbac ;_fagb ++{_bdce [_fagb ]=make ([]TableCell ,_gfdg ._bgbdf );for _cecee :=0;_cecee < _gfdg ._bgbdf ;_cecee ++{_ddfb :=_gfdg .get (_cecee ,_fagb );if _ddfb ==nil {continue ;};if _gbca {_dg .Printf ("\u0025\u0034\u0064 \u0025\u0032\u0064\u003a\u0020\u0025\u0073\u000a",_cecee ,_fagb ,_ddfb );};_bdce [_fagb ][_cecee ].Text =_ddfb .text ();_egffe :=0;_bdce [_fagb ][_cecee ].Marks ._deg =_ddfb .toTextMarks (&_egffe );};};return TextTable {W :_gfdg ._bgbdf ,H :_gfdg ._ggbac ,Cells :_bdce };};func (_dbdcf paraList )eventNeighbours (_afff []event )map[*textPara ][]int {_fg .Slice (_afff ,func (_dbga ,_cbbea int )bool {_ggfgc ,_aefdb :=_afff [_dbga ],_afff [_cbbea ];_bgdef ,_dgbca :=_ggfgc ._afge ,_aefdb ._afge ;if _bgdef !=_dgbca {return _bgdef < _dgbca ;};if _ggfgc ._dbdd !=_aefdb ._dbdd {return _ggfgc ._dbdd ;};return _dbga < _cbbea ;});_afec :=make (map[int ]intSet );_bgddf :=make (intSet );for _ ,_bggg :=range _afff {if _bggg ._dbdd {_afec [_bggg ._geef ]=make (intSet );for _bdfb :=range _bgddf {if _bdfb !=_bggg ._geef {_afec [_bggg ._geef ].add (_bdfb );_afec [_bdfb ].add (_bggg ._geef );};};_bgddf .add (_bggg ._geef );}else {_bgddf .del (_bggg ._geef );};};_decbc :=map[*textPara ][]int {};for _dfgg ,_geecg :=range _afec {_gbadeb :=_dbdcf [_dfgg ];if len (_geecg )==0{_decbc [_gbadeb ]=nil ;continue ;};_fdfe :=make ([]int ,len (_geecg ));_ccdg :=0;for _edcgc :=range _geecg {_fdfe [_ccdg ]=_edcgc ;_ccdg ++;};_decbc [_gbadeb ]=_fdfe ;};return _decbc ;};func (_gbd *stateStack )push (_ada *textState ){_eeab :=*_ada ;*_gbd =append (*_gbd ,&_eeab )};type textLine struct{_ggb .PdfRectangle ;_ddga float64 ;_cdcf []*textWord ;_fffb float64 ;};func (_beae rulingList )splitSec ()[]rulingList {_fg .Slice (_beae ,func (_ddea ,_gdegg int )bool {_eecaf ,_eabfe :=_beae [_ddea ],_beae [_gdegg ];if _eecaf ._ffbc !=_eabfe ._ffbc {return _eecaf ._ffbc < _eabfe ._ffbc ;};return _eecaf ._ccdb < _eabfe ._ccdb ;});_aeace :=make (map[*ruling ]struct{},len (_beae ));_bafb :=func (_gdff *ruling )rulingList {_eacb :=rulingList {_gdff };_aeace [_gdff ]=struct{}{};for _ ,_egeb :=range _beae {if _ ,_ffba :=_aeace [_egeb ];_ffba {continue ;};for _ ,_bcaa :=range _eacb {if _egeb .alignsSec (_bcaa ){_eacb =append (_eacb ,_egeb );_aeace [_egeb ]=struct{}{};break ;};};};return _eacb ;};_caddd :=[]rulingList {_bafb (_beae [0])};for _ ,_ccba :=range _beae [1:]{if _ ,_ggaad :=_aeace [_ccba ];_ggaad {continue ;};_caddd =append (_caddd ,_bafb (_ccba ));};return _caddd ;};type paraList []*textPara ;func (_bcg *wordBag )makeRemovals ()map[int ]map[*textWord ]struct{}{_gcbe :=make (map[int ]map[*textWord ]struct{},len (_bcg ._cgfc ));for _aad :=range _bcg ._cgfc {_gcbe [_aad ]=make (map[*textWord ]struct{});};return _gcbe ;};type imageExtractContext struct{_fd []ImageMark ;_gca int ;_eef int ;_gag int ;_ged map[*_e .PdfObjectStream ]*cachedImage ;_bb *ImageExtractOptions ;};func _bbae (_fcgd []*textMark ,_bbca _ggb .PdfRectangle ,_cag rulingList ,_aeef []gridTiling )paraList {_gc .Log .Trace ("\u006d\u0061\u006b\u0065\u0054\u0065\u0078\u0074\u0050\u0061\u0067\u0065\u003a \u0025\u0064\u0020\u0065\u006c\u0065m\u0065\u006e\u0074\u0073\u0020\u0070\u0061\u0067\u0065\u0053\u0069\u007a\u0065=\u0025\u002e\u0032\u0066",len (_fcgd ),_bbca );if len (_fcgd )==0{return nil ;};_ebae :=_eacfg (_fcgd ,_bbca );if len (_ebae )==0{return nil ;};_cag .log ("\u006d\u0061\u006be\u0054\u0065\u0078\u0074\u0050\u0061\u0067\u0065");_bgdc ,_dcgf :=_cag .vertsHorzs ();_gdbg :=_edgf (_ebae ,_bbca .Ury ,_bgdc ,_dcgf );_eccb :=_efe (_gdbg ,_bbca .Ury ,_bgdc ,_dcgf );_eccb =_dfaa (_eccb );_ddd :=make (paraList ,0,len (_eccb ));for _ ,_edag :=range _eccb {_ffac :=_edag .arrangeText ();if _ffac !=nil {_ddd =append (_ddd ,_ffac );};};if len (_ddd )>=_beaa {_ddd =_ddd .extractTables (_aeef );};_ddd .sortReadingOrder ();_ddd .log ("\u0073\u006f\u0072te\u0064\u0020\u0069\u006e\u0020\u0072\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u006f\u0072\u0064\u0065\u0072");return _ddd ;};type stateStack []*textState ;func (_bbfa *wordBag )text ()string {_ecgf :=_bbfa .allWords ();_fece :=make ([]string ,len (_ecgf ));for _dgba ,_gdcc :=range _ecgf {_fece [_dgba ]=_gdcc ._aeaceg ;};return _g .Join (_fece ,"\u0020");};func (_dacce *shapesState )stroke (_ceed *[]pathSection ){_dbed :=pathSection {_faef :_dacce ._gcbg ,Color :_dacce ._cgg .getStrokeColor ()};*_ceed =append (*_ceed ,_dbed );if _febdg {_dg .Printf ("\u0020 \u0020\u0020S\u0054\u0052\u004fK\u0045\u003a\u0020\u0025\u0064\u0020\u0073t\u0072\u006f\u006b\u0065\u0073\u0020s\u0073\u003d\u0025\u0073\u0020\u0063\u006f\u006c\u006f\u0072\u003d%\u002b\u0076\u0020\u0025\u0036\u002e\u0032\u0066\u000a",len (*_ceed ),_dacce ,_dacce ._cgg .getStrokeColor (),_dbed .bbox ());if _fgebf {for _fcga ,_fecd :=range _dacce ._gcbg {_dg .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_fcga ,_fecd );if _fcga ==10{break ;};};};};};func _gagf (_badcd float64 )bool {return _da .Abs (_badcd )< _face };func _cegb (_eaggb int ,_bgcfa func (int ,int )bool )[]int {_bcfg :=make ([]int ,_eaggb );for _faag :=range _bcfg {_bcfg [_faag ]=_faag ;};_fg .Slice (_bcfg ,func (_fdde ,_afcdeg int )bool {return _bgcfa (_bcfg [_fdde ],_bcfg [_afcdeg ])});return _bcfg ;};func (_dcedf rulingList )secMinMax ()(float64 ,float64 ){_fgbb ,_agafg :=_dcedf [0]._ffbc ,_dcedf [0]._ccdb ;for _ ,_bdag :=range _dcedf [1:]{if _bdag ._ffbc < _fgbb {_fgbb =_bdag ._ffbc ;};if _bdag ._ccdb > _agafg {_agafg =_bdag ._ccdb ;};};return _fgbb ,_agafg ;};func (_cfbc rulingList )merge ()*ruling {_abgbb :=_cfbc [0]._eed ;_dafd :=_cfbc [0]._ffbc ;_gfga :=_cfbc [0]._ccdb ;for _ ,_dfffd :=range _cfbc [1:]{_abgbb +=_dfffd ._eed ;if _dfffd ._ffbc < _dafd {_dafd =_dfffd ._ffbc ;};if _dfffd ._ccdb > _gfga {_gfga =_dfffd ._ccdb ;};};_ecfa :=&ruling {_dced :_cfbc [0]._dced ,_dafb :_cfbc [0]._dafb ,Color :_cfbc [0].Color ,_eed :_abgbb /float64 (len (_cfbc )),_ffbc :_dafd ,_ccdb :_gfga };if _abae {_gc .Log .Info ("\u006de\u0072g\u0065\u003a\u0020\u0025\u0032d\u0020\u0076e\u0063\u0073\u0020\u0025\u0073",len (_cfbc ),_ecfa );for _bggc ,_ebdd :=range _cfbc {_dg .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_bggc ,_ebdd );};};return _ecfa ;};func (_afaef *ruling )intersects (_aebga *ruling )bool {_bfeeb :=(_afaef ._dced ==_deeb &&_aebga ._dced ==_ceab )||(_aebga ._dced ==_deeb &&_afaef ._dced ==_ceab );_caddc :=func (_feec ,_bgcb *ruling )bool {return _feec ._ffbc -_faeb <=_bgcb ._eed &&_bgcb ._eed <=_feec ._ccdb +_faeb ;};_aada :=_caddc (_afaef ,_aebga );_fcdb :=_caddc (_aebga ,_afaef );if _febdg {_dg .Printf ("\u0020\u0020\u0020\u0020\u0069\u006e\u0074\u0065\u0072\u0073\u0065\u0063\u0074\u0073\u003a\u0020\u0020\u006fr\u0074\u0068\u006f\u0067\u006f\u006e\u0061l\u003d\u0025\u0074\u0020\u006f\u0031\u003d\u0025\u0074\u0020\u006f2\u003d\u0025\u0074\u0020\u2192\u0020\u0025\u0074\u000a"+"\u0020\u0020\u0020 \u0020\u0020\u0020\u0076\u003d\u0025\u0073\u000a"+" \u0020\u0020\u0020\u0020\u0020\u0077\u003d\u0025\u0073\u000a",_bfeeb ,_aada ,_fcdb ,_bfeeb &&_aada &&_fcdb ,_afaef ,_aebga );};return _bfeeb &&_aada &&_fcdb ;};func (_agfc rulingList )asTiling ()gridTiling {if _gdef {_gc .Log .Info ("r\u0075\u006ci\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0076\u0065\u0063s\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u002b\u002b\u002b\u0020\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d",len (_agfc ));};for _fbed ,_bdeb :=range _agfc [1:]{_efdb :=_agfc [_fbed ];if _efdb .alignsPrimary (_bdeb )&&_efdb .alignsSec (_bdeb ){_gc .Log .Error ("a\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0044\u0075\u0070\u006c\u0069\u0063\u0061\u0074\u0065 \u0072\u0075\u006c\u0069\u006e\u0067\u0073\u002e\u000a\u0009v=\u0025\u0073\u000a\t\u0077=\u0025\u0073",_bdeb ,_efdb );};};_agfc .sortStrict ();_agfc .log ("\u0073n\u0061\u0070\u0070\u0065\u0064");_efda ,_adcg :=_agfc .vertsHorzs ();_ceege :=_efda .primaries ();_debd :=_adcg .primaries ();_feagcf :=len (_ceege )-1;_bcgb :=len (_debd )-1;if _feagcf ==0||_bcgb ==0{return gridTiling {};};_ggaff :=_ggb .PdfRectangle {Llx :_ceege [0],Urx :_ceege [_feagcf ],Lly :_debd [0],Ury :_debd [_bcgb ]};if _gdef {_gc .Log .Info ("\u0072\u0075l\u0069\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0076\u0065\u0072\u0074s=\u0025\u0064",len (_efda ));for _ddgbe ,_gbabc :=range _efda {_dg .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_ddgbe ,_gbabc );};_gc .Log .Info ("\u0072\u0075l\u0069\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0068\u006f\u0072\u007as=\u0025\u0064",len (_adcg ));for _aabb ,_eaagb :=range _adcg {_dg .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_aabb ,_eaagb );};_gc .Log .Info ("\u0072\u0075\u006c\u0069\u006eg\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067:\u0020\u0020\u0077\u0078\u0068\u003d\u0025\u0064\u0078\u0025\u0064\u000a\u0009\u006c\u006c\u0078\u003d\u0025\u002e\u0032\u0066\u000a\u0009\u006c\u006c\u0079\u003d\u0025\u002e\u0032f",_feagcf ,_bcgb ,_ceege ,_debd );};_dgea :=make ([]gridTile ,_feagcf *_bcgb );for _afbb :=_bcgb -1;_afbb >=0;_afbb --{_afefa :=_debd [_afbb ];_gfac :=_debd [_afbb +1];for _abdba :=0;_abdba < _feagcf ;_abdba ++{_adcad :=_ceege [_abdba ];_acdc :=_ceege [_abdba +1];_befe :=_efda .findPrimSec (_adcad ,_afefa );_gbebf :=_efda .findPrimSec (_acdc ,_afefa );_accb :=_adcg .findPrimSec (_afefa ,_adcad );_aaaf :=_adcg .findPrimSec (_gfac ,_adcad );_dbca :=_ggb .PdfRectangle {Llx :_adcad ,Urx :_acdc ,Lly :_afefa ,Ury :_gfac };_gebe :=_deddb (_dbca ,_befe ,_gbebf ,_accb ,_aaaf );_dgea [_afbb *_feagcf +_abdba ]=_gebe ;if _gdef {_dg .Printf ("\u0020\u0020\u0078\u003d\u0025\u0032\u0064\u0020\u0079\u003d\u0025\u0032\u0064\u003a\u0020%\u0073 \u0025\u0036\u002e\u0032\u0066\u0020\u0078\u0020\u0025\u0036\u002e\u0032\u0066\u000a",_abdba ,_afbb ,_gebe .String (),_gebe .Width (),_gebe .Height ());};};};if _gdef {_gc .Log .Info ("r\u0075\u006c\u0069\u006e\u0067\u004c\u0069\u0073\u0074.\u0061\u0073\u0054\u0069\u006c\u0069\u006eg:\u0020\u0063\u006f\u0061l\u0065\u0073\u0063\u0065\u0020\u0068\u006f\u0072\u0069zo\u006e\u0074a\u006c\u002e\u0020\u0025\u0036\u002e\u0032\u0066",_ggaff );};_bgffa :=make ([]map[float64 ]gridTile ,_bcgb );for _fabbc :=_bcgb -1;_fabbc >=0;_fabbc --{if _gdef {_dg .Printf ("\u0020\u0020\u0079\u003d\u0025\u0032\u0064\u000a",_fabbc );};_bgffa [_fabbc ]=make (map[float64 ]gridTile ,_feagcf );for _bfbbc :=0;_bfbbc < _feagcf ;_bfbbc ++{_acdf :=_dgea [_fabbc *_feagcf +_bfbbc ];if _gdef {_dg .Printf ("\u0020\u0020\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_bfbbc ,_acdf );};if !_acdf ._bbegg {continue ;};_bcdf :=_bfbbc ;for _bcca :=_bfbbc +1;!_acdf ._bedf &&_bcca < _feagcf ;_bcca ++{_ggdcb :=_dgea [_fabbc *_feagcf +_bcca ];_acdf .Urx =_ggdcb .Urx ;_acdf ._bddg =_acdf ._bddg ||_ggdcb ._bddg ;_acdf ._acef =_acdf ._acef ||_ggdcb ._acef ;_acdf ._bedf =_ggdcb ._bedf ;if _gdef {_dg .Printf ("\u0020 \u0020%\u0034\u0064\u003a\u0020\u0025s\u0020\u2192 \u0025\u0073\u000a",_bcca ,_ggdcb ,_acdf );};_bcdf =_bcca ;};if _gdef {_dg .Printf (" \u0020 \u0025\u0032\u0064\u0020\u002d\u0020\u0025\u0032d\u0020\u2192\u0020\u0025s\n",_bfbbc ,_bcdf ,_acdf );};_bfbbc =_bcdf ;_bgffa [_fabbc ][_acdf .Llx ]=_acdf ;};};_gfaf :=make (map[float64 ]map[float64 ]gridTile ,_bcgb );_bfcf :=make (map[float64 ]map[float64 ]struct{},_bcgb );for _gcge :=_bcgb -1;_gcge >=0;_gcge --{_egfe :=_dgea [_gcge *_feagcf ].Lly ;_gfaf [_egfe ]=make (map[float64 ]gridTile ,_feagcf );_bfcf [_egfe ]=make (map[float64 ]struct{},_feagcf );};if _gdef {_gc .Log .Info ("\u0072u\u006c\u0069n\u0067\u004c\u0069s\u0074\u002e\u0061\u0073\u0054\u0069\u006ci\u006e\u0067\u003a\u0020\u0063\u006fa\u006c\u0065\u0073\u0063\u0065\u0020\u0076\u0065\u0072\u0074\u0069c\u0061\u006c\u002e\u0020\u0025\u0036\u002e\u0032\u0066",_ggaff );};for _dcdf :=_bcgb -1;_dcdf >=0;_dcdf --{_aebcg :=_dgea [_dcdf *_feagcf ].Lly ;_afcfd :=_bgffa [_dcdf ];if _gdef {_dg .Printf ("\u0020\u0020\u0079\u003d\u0025\u0032\u0064\u000a",_dcdf );};for _ ,_bgcd :=range _efed (_afcfd ){if _ ,_bdac :=_bfcf [_aebcg ][_bgcd ];_bdac {continue ;};_acag :=_afcfd [_bgcd ];if _gdef {_dg .Printf (" \u0020\u0020\u0020\u0020\u0076\u0030\u003d\u0025\u0073\u000a",_acag .String ());};for _acaga :=_dcdf -1;_acaga >=0;_acaga --{if _acag ._acef {break ;};_cefdb :=_bgffa [_acaga ];_gcccg ,_cdac :=_cefdb [_bgcd ];if !_cdac {break ;};if _gcccg .Urx !=_acag .Urx {break ;};_acag ._acef =_gcccg ._acef ;_acag .Lly =_gcccg .Lly ;if _gdef {_dg .Printf ("\u0020\u0020\u0020\u0020  \u0020\u0020\u0076\u003d\u0025\u0073\u0020\u0076\u0030\u003d\u0025\u0073\u000a",_gcccg .String (),_acag .String ());};_bfcf [_gcccg .Lly ][_gcccg .Llx ]=struct{}{};};if _dcdf ==0{_acag ._acef =true ;};if _acag .complete (){_gfaf [_aebcg ][_bgcd ]=_acag ;};};};_cgab :=gridTiling {PdfRectangle :_ggaff ,_ccccf :_aabdg (_gfaf ),_gdagc :_gfgg (_gfaf ),_beab :_gfaf };_cgab .log ("\u0043r\u0065\u0061\u0074\u0065\u0064");return _cgab ;};func (_dad *Extractor )extractPageText (_ace string ,_cbdg *_ggb .PdfPageResources ,_dcf _gg .Matrix ,_cea int )(*PageText ,int ,int ,error ){_gc .Log .Trace ("\u0065x\u0074\u0072\u0061\u0063t\u0050\u0061\u0067\u0065\u0054e\u0078t\u003a \u006c\u0065\u0076\u0065\u006c\u003d\u0025d",_cea );_cgdf :=&PageText {_ccfe :_dad ._gd };_ade :=_gbe (_dad ._gd );var _caa stateStack ;_fdfg :=_dccb (_dad ,_cbdg ,_ce .GraphicsState {},&_ade ,&_caa );_cfad :=shapesState {_eefa :_dcf ,_agfd :_gg .IdentityMatrix (),_cgg :_fdfg };var _gfb bool ;if _cea > _ccag {_fa :=_d .New ("\u0066\u006f\u0072\u006d s\u0074\u0061\u0063\u006b\u0020\u006f\u0076\u0065\u0072\u0066\u006c\u006f\u0077");_gc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a \u0065\u0078\u0074\u0072\u0061\u0063\u0074\u0050\u0061\u0067\u0065\u0054\u0065\u0078\u0074\u002e\u0020\u0072\u0065\u0063u\u0072\u0073\u0069\u006f\u006e\u0020\u006c\u0065\u0076\u0065\u006c\u003d\u0025\u0064 \u0065r\u0072\u003d\u0025\u0076",_cea ,_fa );return _cgdf ,_ade ._egc ,_ade ._baef ,_fa ;};_dgd :=_ce .NewContentStreamParser (_ace );_ffd ,_eg :=_dgd .Parse ();if _eg !=nil {_gc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020e\u0078\u0074\u0072a\u0063\u0074\u0050\u0061g\u0065\u0054\u0065\u0078\u0074\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0066\u0061\u0069\u006c\u0065\u0064\u002e\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_eg );return _cgdf ,_ade ._egc ,_ade ._baef ,_eg ;};_bgd :=_ce .NewContentStreamProcessor (*_ffd );_bgd .AddHandler (_ce .HandlerConditionEnumAllOperands ,"",func (_aac *_ce .ContentStreamOperation ,_cgb _ce .GraphicsState ,_bea *_ggb .PdfPageResources )error {_gad :=_aac .Operand ;if _gdee {_gc .Log .Info ("\u0026&\u0026\u0020\u006f\u0070\u003d\u0025s",_aac );};switch _gad {case "\u0071":if _baf {_gc .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_cfad ._agfd );};_caa .push (&_ade );case "\u0051":if !_caa .empty (){_ade =*_caa .top ();if len (_caa )>=2{_caa .pop ();};};_cfad ._agfd =_cgb .CTM ;if _baf {_gc .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_cfad ._agfd );};case "\u0042\u0054":if _gfb {_gc .Log .Debug ("\u0042\u0054\u0020\u0063\u0061\u006c\u006c\u0065\u0064\u0020\u0077\u0068\u0069\u006c\u0065 \u0069n\u0020\u0061\u0020\u0074\u0065\u0078\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074");_cgdf ._agg =append (_cgdf ._agg ,_fdfg ._bfg ...);};_gfb =true ;_ed :=_cgb ;_ed .CTM =_dcf .Mult (_ed .CTM );_fdfg =_dccb (_dad ,_bea ,_ed ,&_ade ,&_caa );_cfad ._cgg =_fdfg ;case "\u0045\u0054":if !_gfb {_gc .Log .Debug ("\u0045\u0054\u0020ca\u006c\u006c\u0065\u0064\u0020\u006f\u0075\u0074\u0073i\u0064e\u0020o\u0066 \u0061\u0020\u0074\u0065\u0078\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074");};_gfb =false ;_cgdf ._agg =append (_cgdf ._agg ,_fdfg ._bfg ...);_fdfg .reset ();case "\u0054\u002a":_fdfg .nextLine ();case "\u0054\u0064":if _gfg ,_efg :=_fdfg .checkOp (_aac ,2,true );!_gfg {_gc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_efg );return _efg ;};_gga ,_df ,_bab :=_gfcc (_aac .Params );if _bab !=nil {return _bab ;};_fdfg .moveText (_gga ,_df );case "\u0054\u0044":if _bddd ,_aaca :=_fdfg .checkOp (_aac ,2,true );!_bddd {_gc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_aaca );return _aaca ;};_ffa ,_ebgc ,_eefd :=_gfcc (_aac .Params );if _eefd !=nil {_gc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_eefd );return _eefd ;};_fdfg .moveTextSetLeading (_ffa ,_ebgc );case "\u0054\u006a":if _gfe ,_gfc :=_fdfg .checkOp (_aac ,1,true );!_gfe {_gc .Log .Debug ("\u0045\u0052\u0052\u004fR:\u0020\u0054\u006a\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0065\u0072\u0072\u003d%\u0076",_aac ,_gfc );return _gfc ;};_ae ,_bgb :=_e .GetStringBytes (_aac .Params [0]);if !_bgb {_gc .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020T\u006a\u0020o\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074S\u0074\u0072\u0069\u006e\u0067\u0042\u0079\u0074\u0065\u0073\u0020\u0066a\u0069\u006c\u0065\u0064",_aac );return _e .ErrTypeError ;};return _fdfg .showText (_ae );case "\u0054\u004a":if _bga ,_bbg :=_fdfg .checkOp (_aac ,1,true );!_bga {_gc .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u004a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bbg );return _bbg ;};_bgda ,_ffee :=_e .GetArray (_aac .Params [0]);if !_ffee {_gc .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0054\u004a\u0020\u006f\u0070\u003d\u0025s\u0020G\u0065t\u0041r\u0072\u0061\u0079\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065\u0064",_aac );return _eg ;};return _fdfg .showTextAdjusted (_bgda );case "\u0027":if _efaa ,_efgg :=_fdfg .checkOp (_aac ,1,true );!_efaa {_gc .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u0027\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_efgg );return _efgg ;};_cfb ,_gce :=_e .GetStringBytes (_aac .Params [0]);if !_gce {_gc .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020'\u0020\u006f\u0070\u003d%s \u0047et\u0053\u0074\u0072\u0069\u006e\u0067\u0042yt\u0065\u0073\u0020\u0066\u0061\u0069\u006ce\u0064",_aac );return _e .ErrTypeError ;};_fdfg .nextLine ();return _fdfg .showText (_cfb );case "\u0022":if _ab ,_cfd :=_fdfg .checkOp (_aac ,3,true );!_ab {_gc .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u0022\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_cfd );return _cfd ;};_ccg ,_afa ,_cee :=_gfcc (_aac .Params [:2]);if _cee !=nil {return _cee ;};_cdc ,_fdb :=_e .GetStringBytes (_aac .Params [2]);if !_fdb {_gc .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020\"\u0020\u006f\u0070\u003d%s \u0047et\u0053\u0074\u0072\u0069\u006e\u0067\u0042yt\u0065\u0073\u0020\u0066\u0061\u0069\u006ce\u0064",_aac );return _e .ErrTypeError ;};_fdfg .setCharSpacing (_ccg );_fdfg .setWordSpacing (_afa );_fdfg .nextLine ();return _fdfg .showText (_cdc );case "\u0054\u004c":_cgdc ,_bef :=_gecc (_aac );if _bef !=nil {_gc .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u004c\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bef );return _bef ;};_fdfg .setTextLeading (_cgdc );case "\u0054\u0063":_fea ,_ebe :=_gecc (_aac );if _ebe !=nil {_gc .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0063\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_ebe );return _ebe ;};_fdfg .setCharSpacing (_fea );case "\u0054\u0066":if _aee ,_aae :=_fdfg .checkOp (_aac ,2,true );!_aee {_gc .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0066\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_aae );return _aae ;};_aag ,_edb :=_e .GetNameVal (_aac .Params [0]);if !_edb {_gc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a \u0054\u0066\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074\u004ea\u006d\u0065\u0056\u0061\u006c\u0020\u0066a\u0069\u006c\u0065\u0064",_aac );return _e .ErrTypeError ;};_bf ,_bbcd :=_e .GetNumberAsFloat (_aac .Params [1]);if !_edb {_gc .Log .Debug ("\u0045\u0052\u0052O\u0052\u003a\u0020\u0054\u0066\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074\u0046\u006c\u006f\u0061\u0074\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065d\u002e\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_aac ,_bbcd );return _bbcd ;};_bbcd =_fdfg .setFont (_aag ,_bf );_fdfg ._ede =_bd .Is (_bbcd ,_e .ErrNotSupported );if _bbcd !=nil &&!_fdfg ._ede {return _bbcd ;};case "\u0054\u006d":if _bce ,_gbg :=_fdfg .checkOp (_aac ,6,true );!_bce {_gc .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u006d\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_gbg );return _gbg ;};_ggc ,_egd :=_e .GetNumbersAsFloat (_aac .Params );if _egd !=nil {_gc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_egd );return _egd ;};_fdfg .setTextMatrix (_ggc );case "\u0054\u0072":if _eff ,_ebc :=_fdfg .checkOp (_aac ,1,true );!_eff {_gc .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0072\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_ebc );return _ebc ;};_aef ,_eeg :=_e .GetIntVal (_aac .Params [0]);if !_eeg {_gc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0054\u0072\u0020\u006f\u0070\u003d\u0025\u0073 \u0047e\u0074\u0049\u006e\u0074\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065\u0064",_aac );return _e .ErrTypeError ;};_fdfg .setTextRenderMode (_aef );case "\u0054\u0073":if _dccd ,_dcg :=_fdfg .checkOp (_aac ,1,true );!_dccd {_gc .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0073\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_dcg );return _dcg ;};_cdcb ,_bgf :=_e .GetNumberAsFloat (_aac .Params [0]);if _bgf !=nil {_gc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bgf );return _bgf ;};_fdfg .setTextRise (_cdcb );case "\u0054\u0077":if _gde ,_feed :=_fdfg .checkOp (_aac ,1,true );!_gde {_gc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_feed );return _feed ;};_add ,_dfe :=_e .GetNumberAsFloat (_aac .Params [0]);if _dfe !=nil {_gc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_dfe );return _dfe ;};_fdfg .setWordSpacing (_add );case "\u0054\u007a":if _ggg ,_baag :=_fdfg .checkOp (_aac ,1,true );!_ggg {_gc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_baag );return _baag ;};_egb ,_bgff :=_e .GetNumberAsFloat (_aac .Params [0]);if _bgff !=nil {_gc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bgff );return _bgff ;};_fdfg .setHorizScaling (_egb );case "\u0063\u006d":_cfad ._agfd =_cgb .CTM ;if _cfad ._agfd .Singular (){_cbdd :=_gg .IdentityMatrix ().Translate (_cfad ._agfd .Translation ());_gc .Log .Debug ("S\u0069n\u0067\u0075\u006c\u0061\u0072\u0020\u0063\u0074m\u003d\u0025\u0073\u2192%s",_cfad ._agfd ,_cbdd );_cfad ._agfd =_cbdd ;};if _baf {_gc .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_cfad ._agfd );};case "\u006d":if len (_aac .Params )!=2{_gc .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006d\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0076\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_cf );return nil ;};_feb ,_egbf :=_e .GetNumbersAsFloat (_aac .Params );if _egbf !=nil {return _egbf ;};_gc .Log .Debug ("\u004d\u006f\u0076\u0065\u0020\u0074\u006f\u003a\u0020\u0025\u002e\u0032\u0066",_feb );_cfad .moveTo (_feb [0],_feb [1]);case "\u006c":if len (_aac .Params )!=2{_gc .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006c\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0076\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_cf );return nil ;};_cacb ,_aaa :=_e .GetNumbersAsFloat (_aac .Params );if _aaa !=nil {return _aaa ;};_cfad .lineTo (_cacb [0],_cacb [1]);case "\u0063":if len (_aac .Params )!=6{return _cf ;};_fc ,_bcf :=_e .GetNumbersAsFloat (_aac .Params );if _bcf !=nil {return _bcf ;};_gc .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020b\u0065\u007a\u0069\u0065\u0072 \u0070a\u0072a\u006d\u0073\u003a\u0020\u0025\u002e\u0032f",_fc );_cfad .cubicTo (_fc [0],_fc [1],_fc [2],_fc [3],_fc [4],_fc [5]);case "\u0076","\u0079":if len (_aac .Params )!=4{return _cf ;};_gaga ,_efae :=_e .GetNumbersAsFloat (_aac .Params );if _efae !=nil {return _efae ;};_gc .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020b\u0065\u007a\u0069\u0065\u0072 \u0070a\u0072a\u006d\u0073\u003a\u0020\u0025\u002e\u0032f",_gaga );_cfad .quadraticTo (_gaga [0],_gaga [1],_gaga [2],_gaga [3]);case "\u0068":_cfad .closePath ();case "\u0072\u0065":if len (_aac .Params )!=4{return _cf ;};_ec ,_acf :=_e .GetNumbersAsFloat (_aac .Params );if _acf !=nil {return _acf ;};_cfad .drawRectangle (_ec [0],_ec [1],_ec [2],_ec [3]);_cfad .closePath ();case "\u0053":_cfad .stroke (&_cgdf ._daeb );_cfad .clearPath ();case "\u0073":_cfad .closePath ();_cfad .stroke (&_cgdf ._daeb );_cfad .clearPath ();case "\u0046":_cfad .fill (&_cgdf ._fdcf );_cfad .clearPath ();case "\u0066","\u0066\u002a":_cfad .closePath ();_cfad .fill (&_cgdf ._fdcf );_cfad .clearPath ();case "\u0042","\u0042\u002a":_cfad .fill (&_cgdf ._fdcf );_cfad .stroke (&_cgdf ._daeb );_cfad .clearPath ();case "\u0062","\u0062\u002a":_cfad .closePath ();_cfad .fill (&_cgdf ._fdcf );_cfad .stroke (&_cgdf ._daeb );_cfad .clearPath ();case "\u006e":_cfad .clearPath ();case "\u0044\u006f":if len (_aac .Params )==0{_gc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0058\u004fbj\u0065c\u0074\u0020\u006e\u0061\u006d\u0065\u0020\u006f\u0070\u0065\u0072\u0061n\u0064\u0020\u0066\u006f\u0072\u0020\u0044\u006f\u0020\u006f\u0070\u0065\u0072\u0061\u0074\u006f\u0072.\u0020\u0047\u006f\u0074\u0020\u0025\u002b\u0076\u002e",_aac .Params );return _e .ErrRangeError ;};_fgg ,_bcc :=_e .GetName (_aac .Params [0]);if !_bcc {_gc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0044\u006f\u0020\u006f\u0070e\u0072a\u0074\u006f\u0072\u0020\u0058\u004f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0061\u006d\u0065\u0020\u006fp\u0065\u0072\u0061\u006e\u0064\u003a\u0020\u0025\u002b\u0076\u002e",_aac .Params [0]);return _e .ErrTypeError ;};_ ,_dde :=_bea .GetXObjectByName (*_fgg );if _dde !=_ggb .XObjectTypeForm {break ;};_cfaf ,_bcc :=_dad ._de [_fgg .String ()];if !_bcc {_ccf ,_gead :=_bea .GetXObjectFormByName (*_fgg );if _gead !=nil {_gc .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_gead );return _gead ;};_aefc ,_gead :=_ccf .GetContentStream ();if _gead !=nil {_gc .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_gead );return _gead ;};_bbcb :=_ccf .Resources ;if _bbcb ==nil {_bbcb =_bea ;};_dfc ,_abd ,_ddb ,_gead :=_dad .extractPageText (string (_aefc ),_bbcb ,_dcf .Mult (_cgb .CTM ),_cea +1);if _gead !=nil {_gc .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_gead );return _gead ;};_cfaf =textResult {*_dfc ,_abd ,_ddb };_dad ._de [_fgg .String ()]=_cfaf ;};_cfad ._agfd =_cgb .CTM ;if _baf {_gc .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_cfad ._agfd );};_cgdf ._agg =append (_cgdf ._agg ,_cfaf ._bac ._agg ...);_cgdf ._daeb =append (_cgdf ._daeb ,_cfaf ._bac ._daeb ...);_cgdf ._fdcf =append (_cgdf ._fdcf ,_cfaf ._bac ._fdcf ...);_ade ._egc +=_cfaf ._egf ;_ade ._baef +=_cfaf ._fbd ;case "\u0072\u0067","\u0067","\u006b","\u0063\u0073","\u0073\u0063","\u0073\u0063\u006e":_fdfg ._gadc .ColorspaceNonStroking =_cgb .ColorspaceNonStroking ;_fdfg ._gadc .ColorNonStroking =_cgb .ColorNonStroking ;case "\u0052\u0047","\u0047","\u004b","\u0043\u0053","\u0053\u0043","\u0053\u0043\u004e":_fdfg ._gadc .ColorspaceStroking =_cgb .ColorspaceStroking ;_fdfg ._gadc .ColorStroking =_cgb .ColorStroking ;};return nil ;});_eg =_bgd .Process (_cbdg );return _cgdf ,_ade ._egc ,_ade ._baef ,_eg ;};func _dbefb (_dgce func (*wordBag ,*textWord ,float64 )bool ,_dcff float64 )func (*wordBag ,*textWord )bool {return func (_babae *wordBag ,_adea *textWord )bool {return _dgce (_babae ,_adea ,_dcff )};};func _bbfe (_efcfd ,_baba bounded )float64 {_bbbc :=_edcg (_efcfd ,_baba );if !_adfef (_bbbc ){return _bbbc ;};return _fgeb (_efcfd ,_baba );};func (_efgdd paraList )inTile (_cdcbc gridTile )paraList {var _bcgbf paraList ;for _ ,_agac :=range _efgdd {if _cdcbc .contains (_agac .PdfRectangle ){_bcgbf =append (_bcgbf ,_agac );};};if _gbca {_dg .Printf ("\u0020 \u0020\u0069\u006e\u0054i\u006c\u0065\u003a\u0020\u0020%\u0073 \u0069n\u0073\u0069\u0064\u0065\u003d\u0025\u0064\n",_cdcbc ,len (_bcgbf ));for _cfggc ,_edeab :=range _bcgbf {_dg .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_cfggc ,_edeab );};_dg .Println ("");};return _bcgbf ;};func (_cbf *textObject )setTextRenderMode (_adc int ){if _cbf ==nil {return ;};_cbf ._ddf ._fgc =RenderMode (_adc );};func (_gdg *textObject )checkOp (_cfbg *_ce .ContentStreamOperation ,_gacb int ,_aacaa bool )(_cdg bool ,_bedg error ){if _gdg ==nil {var _ebcd []_e .PdfObject ;if _gacb > 0{_ebcd =_cfbg .Params ;if len (_ebcd )> _gacb {_ebcd =_ebcd [:_gacb ];};};_gc .Log .Debug ("\u0025\u0023q \u006f\u0070\u0065r\u0061\u006e\u0064\u0020out\u0073id\u0065\u0020\u0074\u0065\u0078\u0074\u002e p\u0061\u0072\u0061\u006d\u0073\u003d\u0025+\u0076",_cfbg .Operand ,_ebcd );};if _gacb >=0{if len (_cfbg .Params )!=_gacb {if _aacaa {_bedg =_d .New ("\u0069n\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0070\u0061r\u0061m\u0065t\u0065\u0072\u0020\u0063\u006f\u0075\u006et");};_gc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0025\u0023\u0071\u0020\u0073\u0068\u006f\u0075\u006c\u0064\u0020h\u0061\u0076\u0065\u0020\u0025\u0064\u0020i\u006e\u0070\u0075\u0074\u0020\u0070\u0061\u0072\u0061\u006d\u0073,\u0020\u0067\u006f\u0074\u0020\u0025\u0064\u0020\u0025\u002b\u0076",_cfbg .Operand ,_gacb ,len (_cfbg .Params ),_cfbg .Params );return false ,_bedg ;};};return true ,nil ;};func _cfdf (_bbbcd *wordBag ,_fcfg int )*textLine {_affc :=_bbbcd .firstWord (_fcfg );_gfa :=textLine {PdfRectangle :_affc .PdfRectangle ,_fffb :_affc ._gcfg ,_ddga :_affc ._ceceec };_gfa .pullWord (_bbbcd ,_affc ,_fcfg );return &_gfa ;};func (_afg *textObject )nextLine (){_afg .moveLP (0,-_afg ._ddf ._ecd )};

// ExtractPageText returns the text contents of `e` (an Extractor for a page) as a PageText.
// TODO(peterwilliams97): The stats complicate this function signature and aren't very useful.
//                        Replace with a function like Extract() (*PageText, error)
func (_gbb *Extractor )ExtractPageText ()(*PageText ,int ,int ,error ){_gdf ,_bdb ,_cga ,_cdb :=_gbb .extractPageText (_gbb ._eb ,_gbb ._fb ,_gg .IdentityMatrix (),0);if _cdb !=nil {return nil ,0,0,_cdb ;};_gdf .computeViews ();_cdb =_ggbdaf (_gdf );if _cdb !=nil {return nil ,0,0,_cdb ;};return _gdf ,_bdb ,_cga ,nil ;};func (_caaf *textObject )setTextMatrix (_bed []float64 ){if len (_bed )!=6{_gc .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u006c\u0065\u006e\u0028\u0066\u0029\u0020\u0021\u003d\u0020\u0036\u0020\u0028\u0025\u0064\u0029",len (_bed ));return ;};_ebag ,_dcb ,_egde ,_cae ,_fdaf ,_efd :=_bed [0],_bed [1],_bed [2],_bed [3],_bed [4],_bed [5];_caaf ._fgcc =_gg .NewMatrix (_ebag ,_dcb ,_egde ,_cae ,_fdaf ,_efd );_caaf ._fggc =_caaf ._fgcc ;};func (_ffgf *textTable )reduceTiling (_bgfc gridTiling ,_fagbd float64 )*textTable {_bgdag :=make ([]int ,0,_ffgf ._ggbac );_gbcfb :=make ([]int ,0,_ffgf ._bgbdf );_dfddf :=_bgfc ._ccccf ;_cbfb :=_bgfc ._gdagc ;for _dcdff :=0;_dcdff < _ffgf ._ggbac ;_dcdff ++{_daega :=_dcdff > 0&&_da .Abs (_cbfb [_dcdff -1]-_cbfb [_dcdff ])< _fagbd &&_ffgf .emptyRow (_dcdff );if !_daega {_bgdag =append (_bgdag ,_dcdff );};};for _ccfd :=0;_ccfd < _ffgf ._bgbdf ;_ccfd ++{_afebaa :=_ccfd < _ffgf ._bgbdf -1&&_da .Abs (_dfddf [_ccfd +1]-_dfddf [_ccfd ])< _fagbd &&_ffgf .emptyColumn (_ccfd );if !_afebaa {_gbcfb =append (_gbcfb ,_ccfd );};};if len (_bgdag )==_ffgf ._ggbac &&len (_gbcfb )==_ffgf ._bgbdf {return _ffgf ;};_aadb :=textTable {_adbb :_ffgf ._adbb ,_bgbdf :len (_gbcfb ),_ggbac :len (_bgdag ),_ggfa :make (map[uint64 ]compositeCell ,len (_gbcfb )*len (_bgdag ))};if _gbca {_gc .Log .Info ("\u0072\u0065\u0064\u0075c\u0065\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0025d\u0078%\u0064\u0020\u002d\u003e\u0020\u0025\u0064x\u0025\u0064",_ffgf ._bgbdf ,_ffgf ._ggbac ,len (_gbcfb ),len (_bgdag ));_gc .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0043\u006f\u006c\u0073\u003a\u0020\u0025\u002b\u0076",_gbcfb );_gc .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0052\u006f\u0077\u0073\u003a\u0020\u0025\u002b\u0076",_bgdag );};for _cebe ,_fdbdc :=range _bgdag {for _bbbb ,_agga :=range _gbcfb {_bebg ,_adfe :=_ffgf .getComposite (_agga ,_fdbdc );if len (_bebg )==0{continue ;};if _gbca {_dg .Printf ("\u0020 \u0025\u0032\u0064\u002c \u0025\u0032\u0064\u0020\u0028%\u0032d\u002c \u0025\u0032\u0064\u0029\u0020\u0025\u0071\n",_bbbb ,_cebe ,_agga ,_fdbdc ,_ggfe (_bebg .merge ().text (),50));};_aadb .putComposite (_bbbb ,_cebe ,_bebg ,_adfe );};};return &_aadb ;};func (_acgc *wordBag )removeWord (_bfac *textWord ,_gaab int ){_aaf :=_acgc ._cgfc [_gaab ];_aaf =_gacab (_aaf ,_bfac );if len (_aaf )==0{delete (_acgc ._cgfc ,_gaab );}else {_acgc ._cgfc [_gaab ]=_aaf ;};};

// String returns a description of `state`.
func (_ddg *textState )String ()string {_fae :="\u005bN\u004f\u0054\u0020\u0053\u0045\u0054]";if _ddg ._dea !=nil {_fae =_ddg ._dea .BaseFont ();};return _dg .Sprintf ("\u0074\u0063\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0077\u003d\u0025\u002e\u0032\u0066 \u0074f\u0073\u003d\u0025\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u003d\u0025\u0071",_ddg ._daec ,_ddg ._bca ,_ddg ._fbe ,_fae );};func (_ggee *wordBag )getDepthIdx (_gdbe float64 )int {_bfgf :=_ggee .depthIndexes ();_afeab :=_aege (_gdbe );if _afeab < _bfgf [0]{return _bfgf [0];};if _afeab > _bfgf [len (_bfgf )-1]{return _bfgf [len (_bfgf )-1];};return _afeab ;};

// String returns a description of `l`.
func (_eddd *textLine )String ()string {return _dg .Sprintf ("\u0025\u002e2\u0066\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\"%\u0073\u0022",_eddd ._ddga ,_eddd .PdfRectangle ,_eddd ._fffb ,_eddd .text ());};func (_gggb *textTable )get (_gbfgd ,_cbada int )*textPara {return _gggb ._gbff [_ggfd (_gbfgd ,_cbada )]};func (_bffd *textTable )bbox ()_ggb .PdfRectangle {return _bffd .PdfRectangle };

// String returns a string describing `pt`.
func (_deed PageText )String ()string {_cbff :=_dg .Sprintf ("P\u0061\u0067\u0065\u0054ex\u0074:\u0020\u0025\u0064\u0020\u0065l\u0065\u006d\u0065\u006e\u0074\u0073",len (_deed ._agg ));_gdb :=[]string {"\u002d"+_cbff };for _ ,_beb :=range _deed ._agg {_gdb =append (_gdb ,_beb .String ());};_gdb =append (_gdb ,"\u002b"+_cbff );return _g .Join (_gdb ,"\u000a");};func (_gegf *textTable )getRight ()paraList {_fgdca :=make (paraList ,_gegf ._ggbac );for _cafg :=0;_cafg < _gegf ._ggbac ;_cafg ++{_gcec :=_gegf .get (_gegf ._bgbdf -1,_cafg )._accg ;if _gcec ==nil ||_gcec ._afcf {return nil ;};_fgdca [_cafg ]=_gcec ;};for _efea :=0;_efea < _gegf ._ggbac -1;_efea ++{if _fgdca [_efea ]._dfad !=_fgdca [_efea +1]{return nil ;};};return _fgdca ;};func (_ggab paraList )llyOrdering ()[]int {_ebfg :=make ([]int ,len (_ggab ));for _gggf :=range _ggab {_ebfg [_gggf ]=_gggf ;};_fg .SliceStable (_ebfg ,func (_afgca ,_dfcb int )bool {_dabb ,_dda :=_ebfg [_afgca ],_ebfg [_dfcb ];return _ggab [_dabb ].Lly < _ggab [_dda ].Lly ;});return _ebfg ;};type markKind int ;func (_ccaa lineRuling )yMean ()float64 {return 0.5*(_ccaa ._ggbab .Y +_ccaa ._edgb .Y )};func (_dcd *textObject )setTextLeading (_bfb float64 ){if _dcd ==nil {return ;};_dcd ._ddf ._ecd =_bfb ;};func (_gged rulingList )mergePrimary ()float64 {_dafbdf :=_gged [0]._eed ;for _ ,_dcaf :=range _gged [1:]{_dafbdf +=_dcaf ._eed ;};return _dafbdf /float64 (len (_gged ));};func (_dedf *shapesState )addPoint (_ceedb ,_gdac float64 ){_ffbg :=_dedf .establishSubpath ();_efde :=_dedf .devicePoint (_ceedb ,_gdac );if _ffbg ==nil {_dedf ._dcca =true ;_dedf ._dgg =_efde ;}else {_ffbg .add (_efde );};};func _fegcg (_eaabf string )bool {for _ ,_aggcg :=range _eaabf {if !_ca .IsSpace (_aggcg ){return false ;};};return true ;};func (_ebge *subpath )close (){if !_bcgcc (_ebge ._gbab [0],_ebge .last ()){_ebge .add (_ebge ._gbab [0]);};_ebge ._cgdfd =true ;_ebge .removeDuplicates ();};func (_dada paraList )readBefore (_aafe []int ,_cddf ,_caefb int )bool {_ebgb ,_eeff :=_dada [_cddf ],_dada [_caefb ];if _affg (_ebgb ,_eeff )&&_ebgb .Lly > _eeff .Lly {return true ;};if !(_ebgb ._dbea .Urx < _eeff ._dbea .Llx ){return false ;};_dbee ,_egbfa :=_ebgb .Lly ,_eeff .Lly ;if _dbee > _egbfa {_egbfa ,_dbee =_dbee ,_egbfa ;};_gcfbc :=_da .Max (_ebgb ._dbea .Llx ,_eeff ._dbea .Llx );_ecdb :=_da .Min (_ebgb ._dbea .Urx ,_eeff ._dbea .Urx );_daee :=_dada .llyRange (_aafe ,_dbee ,_egbfa );for _ ,_daebd :=range _daee {if _daebd ==_cddf ||_daebd ==_caefb {continue ;};_fffg :=_dada [_daebd ];if _fffg ._dbea .Llx <=_ecdb &&_gcfbc <=_fffg ._dbea .Urx {return false ;};};return true ;};const (_fabg =1.0e-6;_ebgg =1.0e-4;_eegd =10;_dgge =6;_ddbc =0.5;_gagad =0.11;_gdefb =0.19;_fggb =0.04;_bdbe =0.04;_gbeg =1.0;_edbf =0.04;_fbcf =0.4;_begf =0.7;_egag =1.0;_egff =0.1;_dbaa =1.4;_cdba =0.46;_dagg =0.02;_adcf =0.2;_eage =0.5;_bdc =4;_edcb =4.0;_beaa =6;_deac =0.3;_gcede =0.01;_daba =0.02;_dec =2;_agcc =2;_gecb =500;_cgcc =4.0;_cgac =4.0;_dedb =0.05;_bcee =0.1;_faeb =2.0;_face =2.0;_ffcfg =1.5;_gdeeb =3.0;_bfeg =0.25;);func (_agc *imageExtractContext )extractFormImages (_fged *_e .PdfObjectName ,_cac _ce .GraphicsState ,_dae *_ggb .PdfPageResources )error {_fbb ,_ffe :=_dae .GetXObjectFormByName (*_fged );if _ffe !=nil {return _ffe ;};if _fbb ==nil {return nil ;};_dgb ,_ffe :=_fbb .GetContentStream ();if _ffe !=nil {return _ffe ;};_bg :=_fbb .Resources ;if _bg ==nil {_bg =_dae ;};_ffe =_agc .extractContentStreamImages (string (_dgb ),_bg );if _ffe !=nil {return _ffe ;};_agc ._gag ++;return nil ;};func (_fbfc rulingList )snapToGroupsDirection ()rulingList {_fbfc .sortStrict ();_cagd :=make (map[*ruling ]rulingList ,len (_fbfc ));_fgce :=_fbfc [0];_cebg :=func (_aefe *ruling ){_fgce =_aefe ;_cagd [_fgce ]=rulingList {_aefe }};_cebg (_fbfc [0]);for _ ,_deba :=range _fbfc [1:]{if _deba ._eed < _fgce ._eed -_fabg {_gc .Log .Error ("\u0073\u006e\u0061\u0070T\u006f\u0047\u0072\u006f\u0075\u0070\u0073\u0044\u0069r\u0065\u0063\u0074\u0069\u006f\u006e\u003a\u0020\u0057\u0072\u006f\u006e\u0067\u0020\u0070\u0072\u0069\u006da\u0072\u0079\u0020\u006f\u0072d\u0065\u0072\u002e\u000a\u0009\u0076\u0030\u003d\u0025\u0073\u000a\u0009\u0020\u0076\u003d\u0025\u0073",_fgce ,_deba );};if _deba ._eed > _fgce ._eed +_face {_cebg (_deba );}else {_cagd [_fgce ]=append (_cagd [_fgce ],_deba );};};_cfgg :=make (map[*ruling ]float64 ,len (_cagd ));_cdddg :=make (map[*ruling ]*ruling ,len (_fbfc ));for _efcbd ,_bcgf :=range _cagd {_cfgg [_efcbd ]=_bcgf .mergePrimary ();for _ ,_aceb :=range _bcgf {_cdddg [_aceb ]=_efcbd ;};};for _ ,_gcd :=range _fbfc {_gcd ._eed =_cfgg [_cdddg [_gcd ]];};_dafbd :=make (rulingList ,0,len (_fbfc ));for _ ,_ddbce :=range _cagd {_edda :=_ddbce .splitSec ();for _cfaec ,_eacf :=range _edda {_egdga :=_eacf .merge ();if len (_dafbd )> 0{_decb :=_dafbd [len (_dafbd )-1];if _decb .alignsPrimary (_egdga )&&_decb .alignsSec (_egdga ){_gc .Log .Error ("\u0073\u006e\u0061\u0070\u0054\u006fG\u0072\u006f\u0075\u0070\u0073\u0044\u0069\u0072\u0065\u0063\u0074\u0069\u006f\u006e\u003a\u0020\u0044\u0075\u0070\u006ci\u0063\u0061\u0074\u0065\u0020\u0069\u003d\u0025\u0064\u000a\u0009\u0077\u003d\u0025s\u000a\t\u0076\u003d\u0025\u0073",_cfaec ,_decb ,_egdga );continue ;};};_dafbd =append (_dafbd ,_egdga );};};_dafbd .sortStrict ();return _dafbd ;};const (_ccce =true ;_bced =true ;_becf =true ;_gbeca =false ;_fff =false ;_agff =6;_cgbg =3.0;_dbbb =200;_bbdfg =true ;_dcgb =true ;_bcd =true ;_beg =true ;_fac =false ;);func (_gega rulingList )comp (_cabf ,_cgccd int )bool {_ffef ,_gfgda :=_gega [_cabf ],_gega [_cgccd ];_fcda ,_gecd :=_ffef ._dced ,_gfgda ._dced ;if _fcda !=_gecd {return _fcda > _gecd ;};if _fcda ==_gcbc {return false ;};_dfdc :=func (_fffba bool )bool {if _fcda ==_ceab {return _fffba ;};return !_fffba ;};_edea ,_edde :=_ffef ._eed ,_gfgda ._eed ;if _edea !=_edde {return _dfdc (_edea > _edde );};_edea ,_edde =_ffef ._ffbc ,_gfgda ._ffbc ;if _edea !=_edde {return _dfdc (_edea < _edde );};return _dfdc (_ffef ._ccdb < _gfgda ._ccdb );};type cachedImage struct{_bdd *_ggb .Image ;_fgf _ggb .PdfColorspace ;};func (_afad rulingList )snapToGroups ()rulingList {_ecgfg ,_efcb :=_afad .vertsHorzs ();if len (_ecgfg )> 0{_ecgfg =_ecgfg .snapToGroupsDirection ();};if len (_efcb )> 0{_efcb =_efcb .snapToGroupsDirection ();};_cdbcc :=append (_ecgfg ,_efcb ...);_cdbcc .log ("\u0073\u006e\u0061p\u0054\u006f\u0047\u0072\u006f\u0075\u0070\u0073");return _cdbcc ;};func _dcgc (_bebf ,_abce _ggb .PdfRectangle )bool {return _bbecc (_bebf ,_abce )&&_befa (_bebf ,_abce )};const _afc =1.0/1000.0;const (_ccee =false ;_gdee =false ;_adeac =false ;_baf =false ;_abgb =false ;_edcc =false ;_ead =false ;_ffed =false ;_fefea =_ffed &&true ;_cba =_fefea &&false ;_afaa =_ffed &&true ;_gbca =false ;_ggaf =_gbca &&false ;_bbdf =_gbca &&true ;_febdg =false ;_fgebf =_febdg &&false ;_abae =_febdg &&false ;_gdef =_febdg &&true ;_ffbd =_febdg &&false ;_ebbd =_febdg &&false ;);func (_fgee *textObject )setHorizScaling (_ebga float64 ){if _fgee ==nil {return ;};_fgee ._ddf ._gee =_ebga ;};func (_eagg *textObject )getFontDict (_fbga string )(_ddbd _e .PdfObject ,_adcc error ){_geae :=_eagg ._bfa ;if _geae ==nil {_gc .Log .Debug ("g\u0065\u0074\u0046\u006f\u006e\u0074D\u0069\u0063\u0074\u002e\u0020\u004eo\u0020\u0072\u0065\u0073\u006f\u0075\u0072c\u0065\u0073\u002e\u0020\u006e\u0061\u006d\u0065\u003d\u0025#\u0071",_fbga );return nil ,nil ;};_ddbd ,_bdfg :=_geae .GetFontByName (_e .PdfObjectName (_fbga ));if !_bdfg {_gc .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0067\u0065t\u0046\u006f\u006et\u0044\u0069\u0063\u0074\u003a\u0020\u0046\u006f\u006et \u006e\u006f\u0074 \u0066\u006fu\u006e\u0064\u003a\u0020\u006e\u0061m\u0065\u003d%\u0023\u0071",_fbga );return nil ,_d .New ("f\u006f\u006e\u0074\u0020no\u0074 \u0069\u006e\u0020\u0072\u0065s\u006f\u0075\u0072\u0063\u0065\u0073");};return _ddbd ,nil ;};func (_cecea *textLine )bbox ()_ggb .PdfRectangle {return _cecea .PdfRectangle };func _fadf (_gdeb []*textWord ,_abfg int )[]*textWord {_gafd :=len (_gdeb );copy (_gdeb [_abfg :],_gdeb [_abfg +1:]);return _gdeb [:_gafd -1];};func (_ebeaa *textTable )emptyColumn (_cffed int )bool {for _agaag :=0;_agaag < _ebeaa ._ggbac ;_agaag ++{_bdee :=_ebeaa .get (_cffed ,_agaag );if _bdee !=nil &&_bdee .text ()!=""{return false ;};};return true ;};func _efed (_cdagd map[float64 ]gridTile )[]float64 {_dffd :=make ([]float64 ,0,len (_cdagd ));for _dgdd :=range _cdagd {_dffd =append (_dffd ,_dgdd );};_fg .Float64s (_dffd );return _dffd ;};

// Append appends `mark` to the mark array.
func (_eee *TextMarkArray )Append (mark TextMark ){_eee ._deg =append (_eee ._deg ,mark )};func (_bge *subpath )add (_feba ..._gg .Point ){_bge ._gbab =append (_bge ._gbab ,_feba ...)};func (_geea rulingList )isActualGrid ()(rulingList ,bool ){_eeca ,_ddbe :=_geea .augmentGrid ();if !(len (_eeca )>=_dec +1&&len (_ddbe )>=_agcc +1){if _febdg {_gc .Log .Info ("\u0069s\u0041\u0063t\u0075\u0061\u006c\u0047r\u0069\u0064\u003a \u004e\u006f\u0074\u0020\u0061\u006c\u0069\u0067\u006eed\u002e\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u003c\u0020\u0025d\u0020\u0078 \u0025\u0064",len (_eeca ),len (_ddbe ),_dec +1,_agcc +1);};return nil ,false ;};if _febdg {_gc .Log .Info ("\u0069\u0073\u0041\u0063\u0074\u0075a\u006c\u0047\u0072\u0069\u0064\u003a\u0020\u0025\u0073\u0020\u003a\u0020\u0025t\u0020\u0026\u0020\u0025\u0074\u0020\u2192 \u0025\u0074",_geea ,len (_eeca )>=2,len (_ddbe )>=2,len (_eeca )>=2&&len (_ddbe )>=2);for _ebbf ,_dgdge :=range _geea {_dg .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0076\u000a",_ebbf ,_dgdge );};};if _fac {_bdab ,_ccfed :=_eeca [0],_eeca [len (_eeca )-1];_bcfc ,_fcaee :=_ddbe [0],_ddbe [len (_ddbe )-1];if !(_gagf (_bdab ._eed -_bcfc ._ffbc )&&_gagf (_ccfed ._eed -_bcfc ._ccdb )&&_gagf (_bcfc ._eed -_bdab ._ccdb )&&_gagf (_fcaee ._eed -_bdab ._ffbc )){if _febdg {_gc .Log .Info ("\u0069\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069d\u003a\u0020\u0020N\u006f\u0074 \u0061\u006c\u0069\u0067\u006e\u0065d\u002e\n\t\u0076\u0030\u003d\u0025\u0073\u000a\u0009\u0076\u0031\u003d\u0025\u0073\u000a\u0009\u0068\u0030\u003d\u0025\u0073\u000a\u0009\u0068\u0031\u003d\u0025\u0073",_bdab ,_ccfed ,_bcfc ,_fcaee );};return nil ,false ;};}else {if !_eeca .aligned (){if _abae {_gc .Log .Info ("i\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069\u0064\u003a\u0020N\u006f\u0074\u0020\u0061\u006c\u0069\u0067n\u0065\u0064\u0020\u0076\u0065\u0072\u0074\u0073\u002e\u0020%\u0064",len (_eeca ));};return nil ,false ;};if !_ddbe .aligned (){if _febdg {_gc .Log .Info ("i\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069\u0064\u003a\u0020N\u006f\u0074\u0020\u0061\u006c\u0069\u0067n\u0065\u0064\u0020\u0068\u006f\u0072\u007a\u0073\u002e\u0020%\u0064",len (_ddbe ));};return nil ,false ;};};_acgd :=append (_eeca ,_ddbe ...);return _acgd ,true ;};func _feebc (_ecgg _ggb .PdfColorspace ,_bdgdc _ggb .PdfColor )_be .Color {if _ecgg ==nil ||_bdgdc ==nil {return _be .Black ;};_afffg ,_aabdc :=_ecgg .ColorToRGB (_bdgdc );if _aabdc !=nil {_gc .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006fu\u006c\u0064\u0020no\u0074\u0020\u0063\u006f\u006e\u0076e\u0072\u0074\u0020\u0063\u006f\u006c\u006f\u0072\u0020\u0025\u0076\u0020\u0028\u0025\u0076)\u0020\u0074\u006f\u0020\u0052\u0047\u0042\u003a \u0025\u0073",_bdgdc ,_ecgg ,_aabdc );return _be .Black ;};_gefc ,_abgd :=_afffg .(*_ggb .PdfColorDeviceRGB );if !_abgd {_gc .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0065\u0064 \u0063\u006f\u006c\u006f\u0072\u0020\u0069\u0073\u0020\u006e\u006f\u0074\u0020i\u006e\u0020\u0074\u0068\u0065\u0020\u0052\u0047\u0042\u0020\u0063\u006flo\u0072\u0073\u0070\u0061\u0063\u0065\u003a\u0020\u0025\u0076",_afffg );return _be .Black ;};return _be .NRGBA {R :uint8 (_gefc .R ()*255),G :uint8 (_gefc .G ()*255),B :uint8 (_gefc .B ()*255),A :uint8 (255)};};func (_cabgg *textLine )endsInHyphen ()bool {_dce :=_cabgg ._cdcf [len (_cabgg ._cdcf )-1];_gecbe :=_dce ._aeaceg ;_baeea ,_bgaeb :=_b .DecodeLastRuneInString (_gecbe );if _bgaeb <=0||!_ca .Is (_ca .Hyphen ,_baeea ){return false ;};if _dce ._cecf &&_dbdg (_gecbe ){return true ;};return _dbdg (_cabgg .text ());};func (_ddfc rulingList )aligned ()bool {if len (_ddfc )< 2{return false ;};_agdff :=make (map[*ruling ]int );_agdff [_ddfc [0]]=0;for _ ,_fedgb :=range _ddfc [1:]{_cdgd :=false ;for _dgff :=range _agdff {if _fedgb .gridIntersecting (_dgff ){_agdff [_dgff ]++;_cdgd =true ;break ;};};if !_cdgd {_agdff [_fedgb ]=0;};};_ddgb :=0;for _ ,_adbf :=range _agdff {if _adbf ==0{_ddgb ++;};};_eege :=float64 (_ddgb )/float64 (len (_ddfc ));_gdabc :=_eege <=1.0-_bfeg ;if _febdg {_gc .Log .Info ("\u0061\u006c\u0069\u0067\u006e\u0065\u0064\u003d\u0025\u0074\u0020\u0075\u006em\u0061\u0074\u0063\u0068\u0065\u0064=\u0025\u002e\u0032\u0066\u003d\u0025\u0064\u002f\u0025\u0064\u0020\u0076\u0065c\u0073\u003d\u0025\u0073",_gdabc ,_eege ,_ddgb ,len (_ddfc ),_ddfc .String ());};return _gdabc ;};func (_fgfbff intSet )add (_gffce int ){_fgfbff [_gffce ]=struct{}{}};

// ImageMark represents an image drawn on a page and its position in device coordinates.
// All coordinates are in device coordinates.
type ImageMark struct{Image *_ggb .Image ;

// Dimensions of the image as displayed in the PDF.
Width float64 ;Height float64 ;

// Position of the image in PDF coordinates (lower left corner).
X float64 ;Y float64 ;

// Angle in degrees, if rotated.
Angle float64 ;};func _abbe (_ggad []*textMark ,_eeed _ggb .PdfRectangle )*textWord {_eeaec :=_ggad [0].PdfRectangle ;_daca :=_ggad [0]._bcb ;for _ ,_cfegb :=range _ggad [1:]{_eeaec =_egg (_eeaec ,_cfegb .PdfRectangle );if _cfegb ._bcb > _daca {_daca =_cfegb ._bcb ;};};return &textWord {PdfRectangle :_eeaec ,_cffc :_ggad ,_ceceec :_eeed .Ury -_eeaec .Lly ,_gcfg :_daca };};func (_ggfc lineRuling )xMean ()float64 {return 0.5*(_ggfc ._ggbab .X +_ggfc ._edgb .X )};func (_cfgdg paraList )findTableGrid (_ecdbc gridTiling )(*textTable ,map[*textPara ]struct{}){_adgd :=len (_ecdbc ._ccccf );_bdacf :=len (_ecdbc ._gdagc );_dfcg :=textTable {_adbb :true ,_bgbdf :_adgd ,_ggbac :_bdacf ,_gbff :make (map[uint64 ]*textPara ,_adgd *_bdacf ),_ggfa :make (map[uint64 ]compositeCell ,_adgd *_bdacf )};_cffae :=make (map[*textPara ]struct{});_gedd :=int ((1.0-_deac )*float64 (_adgd *_bdacf ));_ggdb :=0;if _gdef {_gc .Log .Info ("\u0066\u0069\u006e\u0064Ta\u0062\u006c\u0065\u0047\u0072\u0069\u0064\u003a\u0020\u0025\u0064\u0020\u0078\u0020%\u0064",_adgd ,_bdacf );};for _dgfdb ,_bcedc :=range _ecdbc ._gdagc {_dfcbg ,_dfdcc :=_ecdbc ._beab [_bcedc ];if !_dfdcc {continue ;};for _bdeaf ,_deadf :=range _ecdbc ._ccccf {_gecba ,_egbd :=_dfcbg [_deadf ];if !_egbd {continue ;};_bdgd :=_cfgdg .inTile (_gecba );if len (_bdgd )==0{_ggdb ++;if _ggdb > _gedd {if _gdef {_gc .Log .Info ("\u0021\u006e\u0075m\u0045\u006d\u0070\u0074\u0079\u003d\u0025\u0064",_ggdb );};return nil ,nil ;};}else {_dfcg .putComposite (_bdeaf ,_dgfdb ,_bdgd ,_gecba .PdfRectangle );for _ ,_cfagb :=range _bdgd {_cffae [_cfagb ]=struct{}{};};};};};_fgcd :=0;for _aabf :=0;_aabf < _adgd ;_aabf ++{_bdgf :=_dfcg .get (_aabf ,0);if _bdgf ==nil ||!_bdgf ._cacc {_fgcd ++;};};if _fgcd ==0{if _gdef {_gc .Log .Info ("\u0021\u006e\u0075m\u0048\u0065\u0061\u0064\u0065\u0072\u003d\u0030");};return nil ,nil ;};_gfba :=_dfcg .reduceTiling (_ecdbc ,_gdeeb );_gfba =_gfba .subdivide ();return _gfba ,_cffae ;};func (_ccaf *textLine )text ()string {var _eeba []string ;for _ ,_efgd :=range _ccaf ._cdcf {if _efgd ._cecf {_eeba =append (_eeba ,"\u0020");};_eeba =append (_eeba ,_efgd ._aeaceg );};return _g .Join (_eeba ,"");};func (_dbc *shapesState )lineTo (_fbbe ,_fde float64 ){if _baf {_gc .Log .Info ("\u006c\u0069\u006eeT\u006f\u0028\u0025\u002e\u0032\u0066\u002c\u0025\u002e\u0032\u0066\u0020\u0070\u003d\u0025\u002e\u0032\u0066",_fbbe ,_fde ,_dbc .devicePoint (_fbbe ,_fde ));};_dbc .addPoint (_fbbe ,_fde );};func _fdage (_fdagb ,_fcgc float64 )bool {return _fdagb /_da .Max (_bcee ,_fcgc )< _dedb };func _ccdf (_bagg map[int ]intSet )[]int {_fabe :=make ([]int ,0,len (_bagg ));for _dcbf :=range _bagg {_fabe =append (_fabe ,_dcbf );};_fg .Ints (_fabe );return _fabe ;};func _dfbd (_gfec ,_bbeg ,_dcda float64 )rulingKind {if _gfec >=_dcda &&_fdage (_bbeg ,_gfec ){return _ceab ;};if _bbeg >=_dcda &&_fdage (_gfec ,_bbeg ){return _deeb ;};return _gcbc ;};func (_ebadb rulingList )primaries ()[]float64 {_egffd :=make (map[float64 ]struct{},len (_ebadb ));for _ ,_aage :=range _ebadb {_egffd [_aage ._eed ]=struct{}{};};_eccbe :=make ([]float64 ,len (_egffd ));_edca :=0;for _gadcg :=range _egffd {_eccbe [_edca ]=_gadcg ;_edca ++;};_fg .Float64s (_eccbe );return _eccbe ;};func _fdfc (_edf ,_fcfa bounded )float64 {_acbf :=_fgeb (_edf ,_fcfa );if !_adfef (_acbf ){return _acbf ;};return _edcg (_edf ,_fcfa );};

// String returns a string descibing `i`.
func (_cbad gridTile )String ()string {_adac :=func (_deeda bool ,_caea string )string {if _deeda {return _caea ;};return "\u005f";};return _dg .Sprintf ("\u00256\u002e2\u0066\u0020\u0025\u0031\u0073%\u0031\u0073%\u0031\u0073\u0025\u0031\u0073",_cbad .PdfRectangle ,_adac (_cbad ._bbegg ,"\u004c"),_adac (_cbad ._bedf ,"\u0052"),_adac (_cbad ._acef ,"\u0042"),_adac (_cbad ._bddg ,"\u0054"));};func _cdcd (_acgf _gg .Point )_gg .Matrix {return _gg .TranslationMatrix (_acgf .X ,_acgf .Y )};func (_cfgad *ruling )encloses (_faadd ,_faac float64 )bool {return _cfgad ._ffbc -_faeb <=_faadd &&_faac <=_cfgad ._ccdb +_faeb ;};func _fefe (_geac *wordBag ,_ecdg *textWord ,_fcaf float64 )bool {return _geac .Urx <=_ecdg .Llx &&_ecdg .Llx < _geac .Urx +_fcaf ;};func (_bbec *wordBag )scanBand (_gced string ,_gdd *wordBag ,_ddge func (_gdgg *wordBag ,_fgfe *textWord )bool ,_eafg ,_bdad ,_fgeee float64 ,_gfbe ,_cbcg bool )int {_fecc :=_gdd ._eeb ;var _bfba map[int ]map[*textWord ]struct{};if !_gfbe {_bfba =_bbec .makeRemovals ();};_aeac :=_ddbc *_fecc ;_cbbc :=0;for _ ,_gaa :=range _bbec .depthBand (_eafg -_aeac ,_bdad +_aeac ){if len (_bbec ._cgfc [_gaa ])==0{continue ;};for _ ,_fdfbd :=range _bbec ._cgfc [_gaa ]{if !(_eafg -_aeac <=_fdfbd ._ceceec &&_fdfbd ._ceceec <=_bdad +_aeac ){continue ;};if !_ddge (_gdd ,_fdfbd ){continue ;};_agfbe :=2.0*_da .Abs (_fdfbd ._gcfg -_gdd ._eeb )/(_fdfbd ._gcfg +_gdd ._eeb );_gbbb :=_da .Max (_fdfbd ._gcfg /_gdd ._eeb ,_gdd ._eeb /_fdfbd ._gcfg );_cgge :=_da .Min (_agfbe ,_gbbb );if _fgeee > 0&&_cgge > _fgeee {continue ;};if _gdd .blocked (_fdfbd ){continue ;};if !_gfbe {_gdd .pullWord (_fdfbd ,_gaa ,_bfba );};_cbbc ++;if !_cbcg {if _fdfbd ._ceceec < _eafg {_eafg =_fdfbd ._ceceec ;};if _fdfbd ._ceceec > _bdad {_bdad =_fdfbd ._ceceec ;};};if _gfbe {break ;};};};if !_gfbe {_bbec .applyRemovals (_bfba );};return _cbbc ;};func (_aeee *wordBag )applyRemovals (_bdga map[int ]map[*textWord ]struct{}){for _dabg ,_cfga :=range _bdga {if len (_cfga )==0{continue ;};_ceee :=_aeee ._cgfc [_dabg ];_ccef :=len (_ceee )-len (_cfga );if _ccef ==0{delete (_aeee ._cgfc ,_dabg );continue ;};_dadf :=make ([]*textWord ,_ccef );_fgfde :=0;for _ ,_gbaa :=range _ceee {if _ ,_aggg :=_cfga [_gbaa ];!_aggg {_dadf [_fgfde ]=_gbaa ;_fgfde ++;};};_aeee ._cgfc [_dabg ]=_dadf ;};};

// TableCell is a cell in a TextTable.
type TableCell struct{

// Text is the extracted text.
Text string ;

// Marks returns the TextMarks corresponding to the text in Text.
Marks TextMarkArray ;};

// Text returns the extracted page text.
func (_acga PageText )Text ()string {return _acga ._aba };

// Len returns the number of TextMarks in `ma`.
func (_gada *TextMarkArray )Len ()int {if _gada ==nil {return 0;};return len (_gada ._deg );};func (_adfc *textObject )reset (){_adfc ._fgcc =_gg .IdentityMatrix ();_adfc ._fggc =_gg .IdentityMatrix ();_adfc ._bfg =nil ;};var _cec =false ;func (_eafgg paraList )llyRange (_fedaa []int ,_eegc ,_degg float64 )[]int {_cgdb :=len (_eafgg );if _degg < _eafgg [_fedaa [0]].Lly ||_eegc > _eafgg [_fedaa [_cgdb -1]].Lly {return nil ;};_cddee :=_fg .Search (_cgdb ,func (_gaca int )bool {return _eafgg [_fedaa [_gaca ]].Lly >=_eegc });_ffdd :=_fg .Search (_cgdb ,func (_ddcf int )bool {return _eafgg [_fedaa [_ddcf ]].Lly > _degg });return _fedaa [_cddee :_ffdd ];};type textResult struct{_bac PageText ;_egf int ;_fbd int ;};func (_acac *textLine )toTextMarks (_ebcg *int )[]TextMark {var _gdbeb []TextMark ;for _ ,_ggbea :=range _acac ._cdcf {if _ggbea ._cecf {_gdbeb =_gdag (_gdbeb ,_ebcg ,"\u0020");};_cfeb :=_ggbea .toTextMarks (_ebcg );_gdbeb =append (_gdbeb ,_cfeb ...);};return _gdbeb ;};

// ImageExtractOptions contains options for controlling image extraction from
// PDF pages.
type ImageExtractOptions struct{IncludeInlineStencilMasks bool ;};type intSet map[int ]struct{};func _acb (_ccgb _ggb .PdfRectangle ,_gdcd bounded )float64 {return _ccgb .Ury -_gdcd .bbox ().Lly };type rulingKind int ;func _fgeb (_fdbf ,_aaag bounded )float64 {return _acba (_fdbf )-_acba (_aaag )};func (_dfcc gridTile )complete ()bool {return _dfcc .numBorders ()==4};func (_eab *textLine )markWordBoundaries (){_dbbd :=_dagg *_eab ._fffb ;for _eabg ,_deege :=range _eab ._cdcf [1:]{if _cdde (_deege ,_eab ._cdcf [_eabg ])>=_dbbd {_deege ._cecf =true ;};};};func _agdb (_cfegf map[int ][]float64 ){if len (_cfegf )<=1{return ;};_ffeda :=_ecbb (_cfegf );if _gbca {_gc .Log .Info ("\u0066i\u0078C\u0065\u006c\u006c\u0073\u003a \u006b\u0065y\u0073\u003d\u0025\u002b\u0076",_ffeda );};var _dgca ,_aeeag int ;for _dgca ,_aeeag =range _ffeda {if _cfegf [_aeeag ]!=nil {break ;};};for _fdcaa ,_geace :=range _ffeda [_dgca :]{_ceaa :=_cfegf [_geace ];if _ceaa ==nil {continue ;};if _gbca {_dg .Printf ("\u0025\u0034\u0064\u003a\u0020\u006b\u0030\u003d\u0025\u0064\u0020\u006b1\u003d\u0025\u0064\u000a",_dgca +_fdcaa ,_aeeag ,_geace );};_gfcea :=_cfegf [_geace ];if _gfcea [len (_gfcea )-1]> _ceaa [0]{_gfcea [len (_gfcea )-1]=_ceaa [0];_cfegf [_aeeag ]=_gfcea ;};_aeeag =_geace ;};};func _geeae (_bebfb ,_aefb ,_fcgbb ,_cdbd *textPara )*textTable {_dfddb :=&textTable {_bgbdf :2,_ggbac :2,_gbff :make (map[uint64 ]*textPara ,4)};_dfddb .put (0,0,_bebfb );_dfddb .put (1,0,_aefb );_dfddb .put (0,1,_fcgbb );_dfddb .put (1,1,_cdbd );return _dfddb ;};func (_aafb *textPara )writeCellText (_ebfga _c .Writer ){for _cded ,_dacb :=range _aafb ._adafb {_eceg :=_dacb .text ();_dgdg :=_ccce &&_dacb .endsInHyphen ()&&_cded !=len (_aafb ._adafb )-1;if _dgdg {_eceg =_afab (_eceg );};_ebfga .Write ([]byte (_eceg ));if !(_dgdg ||_cded ==len (_aafb ._adafb )-1){_ebfga .Write ([]byte (_cgccf (_dacb ._ddga ,_aafb ._adafb [_cded +1]._ddga )));};};};func (_gfebg paraList )applyTables (_bcacg []*textTable )paraList {_eaef :=make (map[*textPara ]struct{});var _dffdf paraList ;for _ ,_dcac :=range _bcacg {for _ ,_gadcc :=range _dcac ._gbff {_eaef [_gadcc ]=struct{}{};};_dffdf =append (_dffdf ,_dcac .newTablePara ());};for _ ,_gefea :=range _gfebg {if _ ,_bfde :=_eaef [_gefea ];!_bfde {_dffdf =append (_dffdf ,_gefea );};};return _dffdf ;};func (_degbe *wordBag )highestWord (_eaea int ,_bbf ,_efdg float64 )*textWord {for _ ,_ddbg :=range _degbe ._cgfc [_eaea ]{if _bbf <=_ddbg ._ceceec &&_ddbg ._ceceec <=_efdg {return _ddbg ;};};return nil ;};
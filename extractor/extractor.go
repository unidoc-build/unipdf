//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

//
// Package extractor is used for quickly extracting PDF content through a simple interface.
// Currently offers functionality for extracting textual content.
//
package extractor ;import (_gg "bytes";_bb "errors";_a "fmt";_fc "github.com/unidoc/unipdf/v3/common";_fcc "github.com/unidoc/unipdf/v3/common/license";_bbg "github.com/unidoc/unipdf/v3/contentstream";_gc "github.com/unidoc/unipdf/v3/core";_bd "github.com/unidoc/unipdf/v3/internal/textencoding";_c "github.com/unidoc/unipdf/v3/internal/transform";_ca "github.com/unidoc/unipdf/v3/model";_fb "golang.org/x/text/unicode/norm";_gd "golang.org/x/xerrors";_be "image/color";_f "io";_fe "math";_e "regexp";_fg "sort";_g "strings";_d "unicode";_fa "unicode/utf8";);func (_efafg *textObject )moveLP (_adb ,_gac float64 ){_efafg ._fdg .Concat (_c .NewMatrix (1,0,0,1,_adb ,_gac ));_efafg ._baeg =_efafg ._fdg ;};func (_eece rulingList )tidied (_bfba string )rulingList {_ecbee :=_eece .removeDuplicates ();_ecbee .log ("\u0075n\u0069\u0071\u0075\u0065\u0073");_dffa :=_ecbee .snapToGroups ();if _dffa ==nil {return nil ;};_dffa .sort ();if _egbc {_fc .Log .Info ("\u0074\u0069\u0064i\u0065\u0064\u003a\u0020\u0025\u0071\u0020\u0076\u0065\u0063\u0073\u003d\u0025\u0064\u0020\u0075\u006e\u0069\u0071\u0075\u0065\u0073\u003d\u0025\u0064\u0020\u0063\u006f\u0061l\u0065\u0073\u0063\u0065\u0064\u003d\u0025\u0064",_bfba ,len (_eece ),len (_ecbee ),len (_dffa ));};_dffa .log ("\u0063o\u0061\u006c\u0065\u0073\u0063\u0065d");return _dffa ;};func (_cddb *textTable )growTable (){_gfad :=func (_ddgc paraList ){_cddb ._effde ++;for _eeabd :=0;_eeabd < _cddb ._fbdb ;_eeabd ++{_gbdda :=_ddgc [_eeabd ];_cddb .put (_eeabd ,_cddb ._effde -1,_gbdda );};};_abbcf :=func (_gacbb paraList ){_cddb ._fbdb ++;for _acdbg :=0;_acdbg < _cddb ._effde ;_acdbg ++{_edce :=_gacbb [_acdbg ];_cddb .put (_cddb ._fbdb -1,_acdbg ,_edce );};};if _dccab {_cddb .log ("\u0067r\u006f\u0077\u0054\u0061\u0062\u006ce");};for _cged :=0;;_cged ++{_afed :=false ;_eebc :=_cddb .getDown ();_bcfc :=_cddb .getRight ();if _dccab {_a .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_cged ,_cddb );_a .Printf ("\u0020\u0020 \u0020\u0020\u0020 \u0020\u0064\u006f\u0077\u006e\u003d\u0025\u0073\u000a",_eebc );_a .Printf ("\u0020\u0020 \u0020\u0020\u0020 \u0072\u0069\u0067\u0068\u0074\u003d\u0025\u0073\u000a",_bcfc );};if _eebc !=nil &&_bcfc !=nil {_cbad :=_eebc [len (_eebc )-1];if _cbad !=nil &&!_cbad ._bcecf &&_cbad ==_bcfc [len (_bcfc )-1]{_gfad (_eebc );if _bcfc =_cddb .getRight ();_bcfc !=nil {_abbcf (_bcfc );_cddb .put (_cddb ._fbdb -1,_cddb ._effde -1,_cbad );};_afed =true ;};};if !_afed &&_eebc !=nil {_gfad (_eebc );_afed =true ;};if !_afed &&_bcfc !=nil {_abbcf (_bcfc );_afed =true ;};if !_afed {break ;};};};func _egdga (_ecdf map[int ][]float64 ){if len (_ecdf )<=1{return ;};_afefc :=_abcb (_ecdf );if _afbd {_fc .Log .Info ("\u0066i\u0078C\u0065\u006c\u006c\u0073\u003a \u006b\u0065y\u0073\u003d\u0025\u002b\u0076",_afefc );};var _agba ,_afcg int ;for _agba ,_afcg =range _afefc {if _ecdf [_afcg ]!=nil {break ;};};for _gacc ,_fbea :=range _afefc [_agba :]{_cgaa :=_ecdf [_fbea ];if _cgaa ==nil {continue ;};if _afbd {_a .Printf ("\u0025\u0034\u0064\u003a\u0020\u006b\u0030\u003d\u0025\u0064\u0020\u006b1\u003d\u0025\u0064\u000a",_agba +_gacc ,_afcg ,_fbea );};_abfce :=_ecdf [_fbea ];if _abfce [len (_abfce )-1]> _cgaa [0]{_abfce [len (_abfce )-1]=_cgaa [0];_ecdf [_afcg ]=_abfce ;};_afcg =_fbea ;};};func (_fag *wordBag )maxDepth ()float64 {return _fag ._bcc -_fag .Lly };type rulingList []*ruling ;func (_aedbf *textTable )newTablePara ()*textPara {_dfcgb :=_aedbf .computeBbox ();_fffdfd :=&textPara {PdfRectangle :_dfcgb ,_eegg :_dfcgb ,_eccf :_aedbf };if _afbd {_fc .Log .Info ("\u006e\u0065w\u0054\u0061\u0062l\u0065\u0050\u0061\u0072\u0061\u003a\u0020\u0025\u0073",_fffdfd );};return _fffdfd ;};type textState struct{_aad float64 ;_fcdg float64 ;_aegc float64 ;_cdce float64 ;_ccbe float64 ;_dec RenderMode ;_fcde float64 ;_dbg *_ca .PdfFont ;_gbb _ca .PdfRectangle ;_fff int ;_bbda int ;};func (_dceg gridTiling )log (_bfdf string ){if !_gdfb {return ;};_fc .Log .Info ("\u0074i\u006ci\u006e\u0067\u003a\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0071",len (_dceg ._fcecc ),len (_dceg ._fabe ),_bfdf );_a .Printf ("\u0020\u0020\u0020l\u006c\u0078\u003d\u0025\u002e\u0032\u0066\u000a",_dceg ._fcecc );_a .Printf ("\u0020\u0020\u0020l\u006c\u0079\u003d\u0025\u002e\u0032\u0066\u000a",_dceg ._fabe );for _geafa ,_febgd :=range _dceg ._fabe {_eacfd ,_fcgag :=_dceg ._bgfcf [_febgd ];if !_fcgag {continue ;};_a .Printf ("%\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u000a",_geafa ,_febgd );for _acddg ,_ebefa :=range _dceg ._fcecc {_cefe ,_bafbd :=_eacfd [_ebefa ];if !_bafbd {continue ;};_a .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_acddg ,_cefe .String ());};};};func (_cbed *textObject )getFont (_cdb string )(*_ca .PdfFont ,error ){if _cbed ._gede ._cb !=nil {_cbed ._gede ._af ++;_cfcf ,_bcfe :=_cbed ._gede ._cb [_cdb ];if _bcfe {_cfcf ._ecbg =_cbed ._gede ._af ;return _cfcf ._ebf ,nil ;};};_abaf ,_dagf :=_cbed .getFontDirect (_cdb );if _dagf !=nil {return nil ,_dagf ;};if _cbed ._gede ._cb !=nil {_ebbb :=fontEntry {_abaf ,_cbed ._gede ._af };if len (_cbed ._gede ._cb )>=_affg {var _gdcc []string ;for _ggcb :=range _cbed ._gede ._cb {_gdcc =append (_gdcc ,_ggcb );};_fg .Slice (_gdcc ,func (_bfbg ,_ecfa int )bool {return _cbed ._gede ._cb [_gdcc [_bfbg ]]._ecbg < _cbed ._gede ._cb [_gdcc [_ecfa ]]._ecbg ;});delete (_cbed ._gede ._cb ,_gdcc [0]);};_cbed ._gede ._cb [_cdb ]=_ebbb ;};return _abaf ,nil ;};func _bfea (_cdgf []TextMark ,_bcee *int ,_agbd TextMark )[]TextMark {_agbd .Offset =*_bcee ;_cdgf =append (_cdgf ,_agbd );*_bcee +=len (_agbd .Text );return _cdgf ;};func _adcd (_aceb int ,_cdafb map[int ][]float64 )([]int ,int ){_deda :=make ([]int ,_aceb );_gbdf :=0;for _bcaae :=0;_bcaae < _aceb ;_bcaae ++{_deda [_bcaae ]=_gbdf ;_gbdf +=len (_cdafb [_bcaae ])+1;};return _deda ,_gbdf ;};func (_bgeb *textObject )renderText (_dbc []byte )error {if _bgeb ._egb {_fc .Log .Debug ("\u0072\u0065\u006e\u0064\u0065r\u0054\u0065\u0078\u0074\u003a\u0020\u0049\u006e\u0076\u0061\u006c\u0069\u0064 \u0066\u006f\u006e\u0074\u002e\u0020\u004e\u006f\u0074\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u002e");return nil ;};_ded :=_bgeb .getCurrentFont ();_eedg :=_ded .BytesToCharcodes (_dbc );_agc ,_fgc ,_cdfe :=_ded .CharcodesToStrings (_eedg );if _cdfe > 0{_fc .Log .Debug ("\u0072\u0065nd\u0065\u0072\u0054e\u0078\u0074\u003a\u0020num\u0043ha\u0072\u0073\u003d\u0025\u0064\u0020\u006eum\u004d\u0069\u0073\u0073\u0065\u0073\u003d%\u0064",_fgc ,_cdfe );};_bgeb ._baa ._fff +=_fgc ;_bgeb ._baa ._bbda +=_cdfe ;_ddc :=_bgeb ._baa ;_cebfe :=_ddc ._ccbe ;_baf :=_ddc ._aegc /100.0;_ega ,_gceb :=_ded .GetRuneMetrics (' ');if !_gceb {_ega ,_gceb =_ded .GetCharMetrics (32);};if !_gceb {_ega ,_ =_ca .DefaultFont ().GetRuneMetrics (' ');};_ade :=_ega .Wx *_ffed ;_fc .Log .Trace ("\u0073p\u0061\u0063e\u0057\u0069\u0064t\u0068\u003d\u0025\u002e\u0032\u0066\u0020t\u0065\u0078\u0074\u003d\u0025\u0071 \u0066\u006f\u006e\u0074\u003d\u0025\u0073\u0020\u0066\u006f\u006et\u0053\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066",_ade ,_agc ,_ded ,_cebfe );_bfbf :=_c .NewMatrix (_cebfe *_baf ,0,0,_cebfe ,0,_ddc ._fcde );if _fgbc {_fc .Log .Info ("\u0072\u0065\u006e\u0064\u0065\u0072T\u0065\u0078\u0074\u003a\u0020\u0025\u0064\u0020\u0063\u006f\u0064\u0065\u0073=\u0025\u002b\u0076\u0020\u0074\u0065\u0078t\u0073\u003d\u0025\u0071",len (_eedg ),_eedg ,_agc );};_fc .Log .Trace ("\u0072\u0065\u006e\u0064\u0065\u0072T\u0065\u0078\u0074\u003a\u0020\u0025\u0064\u0020\u0063\u006f\u0064\u0065\u0073=\u0025\u002b\u0076\u0020\u0072\u0075\u006ee\u0073\u003d\u0025\u0071",len (_eedg ),_eedg ,len (_agc ));_dff :=_bgeb .getFillColor ();_dga :=_bgeb .getStrokeColor ();for _eagd ,_ebbd :=range _agc {_add :=[]rune (_ebbd );if len (_add )==1&&_add [0]=='\x00'{continue ;};_dcca :=_eedg [_eagd ];_dafe :=_bgeb ._cgf .CTM .Mult (_bgeb ._baeg ).Mult (_bfbf );_gcba :=0.0;if len (_add )==1&&_add [0]==32{_gcba =_ddc ._fcdg ;};_ffcfa ,_eafe :=_ded .GetCharMetrics (_dcca );if !_eafe {_fc .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u004e\u006f \u006d\u0065\u0074r\u0069\u0063\u0020\u0066\u006f\u0072\u0020\u0063\u006fde\u003d\u0025\u0064 \u0072\u003d0\u0078\u0025\u0030\u0034\u0078\u003d%\u002b\u0071 \u0025\u0073",_dcca ,_add ,_add ,_ded );return _a .Errorf ("\u006e\u006f\u0020\u0063\u0068\u0061\u0072\u0020\u006d\u0065\u0074\u0072\u0069\u0063\u0073:\u0020f\u006f\u006e\u0074\u003d\u0025\u0073\u0020\u0063\u006f\u0064\u0065\u003d\u0025\u0064",_ded .String (),_dcca );};_ede :=_c .Point {X :_ffcfa .Wx *_ffed ,Y :_ffcfa .Wy *_ffed };_dccf :=_c .Point {X :(_ede .X *_cebfe +_gcba )*_baf };_fdf :=_c .Point {X :(_ede .X *_cebfe +_ddc ._aad +_gcba )*_baf };if _fgbc {_fc .Log .Info ("\u0074\u0066\u0073\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0063\u003d\u0025\u002e\u0032f\u0020t\u0077\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0068\u003d\u0025\u002e\u0032\u0066",_cebfe ,_ddc ._aad ,_ddc ._fcdg ,_baf );_fc .Log .Info ("\u0064x\u002c\u0064\u0079\u003d%\u002e\u0033\u0066\u0020\u00740\u003d%\u002e3\u0066\u0020\u0074\u003d\u0025\u002e\u0033f",_ede ,_dccf ,_fdf );};_cfbc :=_ccf (_dccf );_bdd :=_ccf (_fdf );_aadb :=_bgeb ._cgf .CTM .Mult (_bgeb ._baeg ).Mult (_cfbc );if _gff {_fc .Log .Info ("e\u006e\u0064\u003a\u000a\tC\u0054M\u003d\u0025\u0073\u000a\u0009 \u0074\u006d\u003d\u0025\u0073\u000a"+"\u0009\u0020t\u0064\u003d\u0025s\u0020\u0078\u006c\u0061\u0074\u003d\u0025\u0073\u000a"+"\u0009t\u0064\u0030\u003d\u0025s\u000a\u0009\u0020\u0020\u2192 \u0025s\u0020x\u006c\u0061\u0074\u003d\u0025\u0073",_bgeb ._cgf .CTM ,_bgeb ._baeg ,_bdd ,_gab (_bgeb ._cgf .CTM .Mult (_bgeb ._baeg ).Mult (_bdd )),_cfbc ,_aadb ,_gab (_aadb ));};_fegg ,_gccg :=_bgeb .newTextMark (_bd .ExpandLigatures (_add ),_dafe ,_gab (_aadb ),_fe .Abs (_ade *_dafe .ScalingFactorX ()),_ded ,_bgeb ._baa ._aad ,_dff ,_dga );if !_gccg {_fc .Log .Debug ("\u0054\u0065\u0078\u0074\u0020\u006d\u0061\u0072\u006b\u0020\u006f\u0075\u0074\u0073\u0069d\u0065 \u0070\u0061\u0067\u0065\u002e\u0020\u0053\u006b\u0069\u0070\u0070\u0069\u006e\u0067");continue ;};if _ded ==nil {_fc .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u004e\u006f\u0020\u0066\u006f\u006e\u0074\u002e");}else if _ded .Encoder ()==nil {_fc .Log .Debug ("E\u0052\u0052\u004f\u0052\u003a\u0020N\u006f\u0020\u0065\u006e\u0063\u006f\u0064\u0069\u006eg\u002e\u0020\u0066o\u006et\u003d\u0025\u0073",_ded );}else {if _ebc ,_eggd :=_ded .Encoder ().CharcodeToRune (_dcca );_eggd {_fegg ._dced =string (_ebc );};};_fc .Log .Trace ("i\u003d\u0025\u0064\u0020\u0063\u006fd\u0065\u003d\u0025\u0064\u0020\u006d\u0061\u0072\u006b=\u0025\u0073\u0020t\u0072m\u003d\u0025\u0073",_eagd ,_dcca ,_fegg ,_dafe );_bgeb ._cef =append (_bgeb ._cef ,&_fegg );_bgeb ._baeg .Concat (_bdd );};return nil ;};func _gcdf (_dbcg ,_bgaf bounded )float64 {return _dbcg .bbox ().Llx -_bgaf .bbox ().Llx };

// PageText represents the layout of text on a device page.
type PageText struct{_efe []*textMark ;_fdba string ;_ecb []TextMark ;_gcef []TextTable ;_eccdg _ca .PdfRectangle ;_gcbe []pathSection ;_fdc []pathSection ;};func (_ccdeg *textPara )depth ()float64 {if _ccdeg ._dage {return -1.0;};if len (_ccdeg ._bgga )> 0{return _ccdeg ._bgga [0]._gggd ;};return _ccdeg ._eccf .depth ();};func _bddb (_ddda _ca .PdfRectangle ,_afg []*textLine )*textPara {return &textPara {PdfRectangle :_ddda ,_bgga :_afg };};

// String returns a description of `w`.
func (_efae *textWord )String ()string {return _a .Sprintf ("\u0025\u002e2\u0066\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\"%\u0073\u0022",_efae ._bccba ,_efae .PdfRectangle ,_efae ._feeea ,_efae ._degca );};func _dca (_fdbb _ca .PdfRectangle )textState {return textState {_aegc :100,_dec :RenderModeFill ,_gbb :_fdbb };};func (_gbgg *shapesState )fill (_bga *[]pathSection ){_cefc :=pathSection {_caf :_gbgg ._bdgb ,Color :_gbgg ._dba .getFillColor ()};*_bga =append (*_bga ,_cefc );if _egbc {_egcc :=_cefc .bbox ();_a .Printf ("\u0020 \u0020\u0020\u0046\u0049\u004c\u004c\u003a %\u0032\u0064\u0020\u0066\u0069\u006c\u006c\u0073\u0020\u0028\u0025\u0064\u0020\u006ee\u0077\u0029 \u0073\u0073\u003d%\u0073\u0020\u0063\u006f\u006c\u006f\u0072\u003d\u0025\u0033\u0076\u0020\u0025\u0036\u002e\u0032f\u003d\u00256.\u0032\u0066\u0078%\u0036\u002e\u0032\u0066\u000a",len (*_bga ),len (_cefc ._caf ),_gbgg ,_cefc .Color ,_egcc ,_egcc .Width (),_egcc .Height ());if _dcb {for _gdec ,_begg :=range _cefc ._caf {_a .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_gdec ,_begg );if _gdec ==10{break ;};};};};};func _adabg (_edfff float64 )bool {return _fe .Abs (_edfff )< _abce };

// Len returns the number of TextMarks in `ma`.
func (_dcaba *TextMarkArray )Len ()int {if _dcaba ==nil {return 0;};return len (_dcaba ._bgebf );};

// TextTable represents a table.
// Cells are ordered top-to-bottom, left-to-right.
// Cells[y] is the (0-offset) y'th row in the table.
// Cells[y][x] is the (0-offset) x'th column in the table.
type TextTable struct{W ,H int ;Cells [][]TableCell ;};func (_gacb *textLine )markWordBoundaries (){_bbgae :=_dcdc *_gacb ._gbcd ;for _aadf ,_ggce :=range _gacb ._gggb [1:]{if _bbde (_ggce ,_gacb ._gggb [_aadf ])>=_bbgae {_ggce ._abgde =true ;};};};func (_efgda paraList )computeEBBoxes (){if _dfcg {_fc .Log .Info ("\u0063o\u006dp\u0075\u0074\u0065\u0045\u0042\u0042\u006f\u0078\u0065\u0073\u003a");};for _ ,_cbag :=range _efgda {_cbag ._eegg =_cbag .PdfRectangle ;};_bec :=_efgda .yNeighbours (0);for _aaba ,_cadb :=range _efgda {_bccg :=_cadb ._eegg ;_efea ,_ccdeb :=-1.0e9,+1.0e9;for _ ,_ccgf :=range _bec [_cadb ]{_feac :=_efgda [_ccgf ]._eegg ;if _feac .Urx < _bccg .Llx {_efea =_fe .Max (_efea ,_feac .Urx );}else if _bccg .Urx < _feac .Llx {_ccdeb =_fe .Min (_ccdeb ,_feac .Llx );};};for _eca ,_gfcf :=range _efgda {_abfc :=_gfcf ._eegg ;if _aaba ==_eca ||_abfc .Ury > _bccg .Lly {continue ;};if _efea <=_abfc .Llx &&_abfc .Llx < _bccg .Llx {_bccg .Llx =_abfc .Llx ;}else if _abfc .Urx <=_ccdeb &&_bccg .Urx < _abfc .Urx {_bccg .Urx =_abfc .Urx ;};};if _dfcg {_a .Printf ("\u0025\u0034\u0064\u003a %\u0036\u002e\u0032\u0066\u2192\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0071\u000a",_aaba ,_cadb ._eegg ,_bccg ,_fafa (_cadb .text (),50));};_cadb ._eegg =_bccg ;};if _gfcd {for _ ,_cgfgc :=range _efgda {_cgfgc .PdfRectangle =_cgfgc ._eegg ;};};};func (_gfag *wordBag )firstWord (_dcge int )*textWord {return _gfag ._eedgg [_dcge ][0]};func (_dgfg *textPara )taken ()bool {return _dgfg ==nil ||_dgfg ._bcecf };

// ExtractTextWithStats works like ExtractText but returns the number of characters in the output
// (`numChars`) and the number of characters that were not decoded (`numMisses`).
func (_cca *Extractor )ExtractTextWithStats ()(_gdg string ,_gfa int ,_ced int ,_ccd error ){_afe ,_gfa ,_ced ,_ccd :=_cca .ExtractPageText ();if _ccd !=nil {return "",_gfa ,_ced ,_ccd ;};return _afe .Text (),_gfa ,_ced ,nil ;};func (_ggd *textObject )setTextRenderMode (_bbge int ){if _ggd ==nil {return ;};_ggd ._baa ._dec =RenderMode (_bbge );};

// String returns a string describing the current state of the textState stack.
func (_bbgee *stateStack )String ()string {_fcb :=[]string {_a .Sprintf ("\u002d\u002d\u002d\u002d f\u006f\u006e\u0074\u0020\u0073\u0074\u0061\u0063\u006b\u003a\u0020\u0025\u0064",len (*_bbgee ))};for _ccg ,_dfd :=range *_bbgee {_bfc :="\u003c\u006e\u0069l\u003e";if _dfd !=nil {_bfc =_dfd .String ();};_fcb =append (_fcb ,_a .Sprintf ("\u0009\u0025\u0032\u0064\u003a\u0020\u0025\u0073",_ccg ,_bfc ));};return _g .Join (_fcb ,"\u000a");};func _ggga (_eacd []*textMark ,_dabb _ca .PdfRectangle ,_edab rulingList ,_cdfg []gridTiling )paraList {_fc .Log .Trace ("\u006d\u0061\u006b\u0065\u0054\u0065\u0078\u0074\u0050\u0061\u0067\u0065\u003a \u0025\u0064\u0020\u0065\u006c\u0065m\u0065\u006e\u0074\u0073\u0020\u0070\u0061\u0067\u0065\u0053\u0069\u007a\u0065=\u0025\u002e\u0032\u0066",len (_eacd ),_dabb );if len (_eacd )==0{return nil ;};_cfbbc :=_bbbg (_eacd ,_dabb );if len (_cfbbc )==0{return nil ;};_edab .log ("\u006d\u0061\u006be\u0054\u0065\u0078\u0074\u0050\u0061\u0067\u0065");_gdb ,_cgga :=_edab .vertsHorzs ();_bccc :=_edc (_cfbbc ,_dabb .Ury ,_gdb ,_cgga );_cbcf :=_bcbdc (_bccc ,_dabb .Ury ,_gdb ,_cgga );_cbcf =_gfde (_cbcf );_acac :=make (paraList ,0,len (_cbcf ));for _ ,_geae :=range _cbcf {_cdee :=_geae .arrangeText ();if _cdee !=nil {_acac =append (_acac ,_cdee );};};if len (_acac )>=_bccb {_acac =_acac .extractTables (_cdfg );};_acac .sortReadingOrder ();_acac .log ("\u0073\u006f\u0072te\u0064\u0020\u0069\u006e\u0020\u0072\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u006f\u0072\u0064\u0065\u0072");return _acac ;};func (_fgb *wordBag )getDepthIdx (_efc float64 )int {_egeb :=_fgb .depthIndexes ();_cfag :=_ddce (_efc );if _cfag < _egeb [0]{return _egeb [0];};if _cfag > _egeb [len (_egeb )-1]{return _egeb [len (_egeb )-1];};return _cfag ;};func (_ffaac pathSection )bbox ()_ca .PdfRectangle {_dgad :=_ffaac ._caf [0]._deaf [0];_gagc :=_ca .PdfRectangle {Llx :_dgad .X ,Urx :_dgad .X ,Lly :_dgad .Y ,Ury :_dgad .Y };_abc :=func (_dee _c .Point ){if _dee .X < _gagc .Llx {_gagc .Llx =_dee .X ;}else if _dee .X > _gagc .Urx {_gagc .Urx =_dee .X ;};if _dee .Y < _gagc .Lly {_gagc .Lly =_dee .Y ;}else if _dee .Y > _gagc .Ury {_gagc .Ury =_dee .Y ;};};for _ ,_ffaad :=range _ffaac ._caf [0]._deaf [1:]{_abc (_ffaad );};for _ ,_faa :=range _ffaac ._caf [1:]{for _ ,_eafc :=range _faa ._deaf {_abc (_eafc );};};return _gagc ;};func (_effb paraList )reorder (_gdac []int ){_aefb :=make (paraList ,len (_effb ));for _fcbb ,_ebg :=range _gdac {_aefb [_fcbb ]=_effb [_ebg ];};copy (_effb ,_aefb );};func _bafb (_ecgg ,_gcde _ca .PdfRectangle )bool {return _dbdcd (_ecgg ,_gcde )&&_bceg (_ecgg ,_gcde )};func (_caad *stateStack )empty ()bool {return len (*_caad )==0};func _geag (_dda _c .Point )*subpath {return &subpath {_deaf :[]_c .Point {_dda }}};func _age (_caaf *_bbg .ContentStreamOperation )(float64 ,error ){if len (_caaf .Params )!=1{_dbda :=_bb .New ("\u0069n\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0070\u0061r\u0061m\u0065t\u0065\u0072\u0020\u0063\u006f\u0075\u006et");_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0025\u0023\u0071\u0020\u0073\u0068\u006f\u0075\u006c\u0064\u0020h\u0061\u0076\u0065\u0020\u0025\u0064\u0020i\u006e\u0070\u0075\u0074\u0020\u0070\u0061\u0072\u0061\u006d\u0073,\u0020\u0067\u006f\u0074\u0020\u0025\u0064\u0020\u0025\u002b\u0076",_caaf .Operand ,1,len (_caaf .Params ),_caaf .Params );return 0.0,_dbda ;};return _gc .GetNumberAsFloat (_caaf .Params [0]);};func (_bbddb rulingList )secMinMax ()(float64 ,float64 ){_bdfb ,_bgdd :=_bbddb [0]._fdag ,_bbddb [0]._bcbfge ;for _ ,_fgce :=range _bbddb [1:]{if _fgce ._fdag < _bdfb {_bdfb =_fgce ._fdag ;};if _fgce ._bcbfge > _bgdd {_bgdd =_fgce ._bcbfge ;};};return _bdfb ,_bgdd ;};func (_aaff rulingList )primaries ()[]float64 {_dbdaa :=make (map[float64 ]struct{},len (_aaff ));for _ ,_daac :=range _aaff {_dbdaa [_daac ._bbba ]=struct{}{};};_gegg :=make ([]float64 ,len (_dbdaa ));_dbbc :=0;for _acef :=range _dbdaa {_gegg [_dbbc ]=_acef ;_dbbc ++;};_fg .Float64s (_gegg );return _gegg ;};func _acfb (_ggff ,_dcdce int )uint64 {return uint64 (_ggff )*0x1000000+uint64 (_dcdce )};func (_gcgc gridTile )numBorders ()int {_eeeg :=0;if _gcgc ._acfdf {_eeeg ++;};if _gcgc ._baab {_eeeg ++;};if _gcgc ._agaa {_eeeg ++;};if _gcgc ._afabc {_eeeg ++;};return _eeeg ;};func (_gdee *wordBag )pullWord (_efaa *textWord ,_ecbge int ,_fbcd map[int ]map[*textWord ]struct{}){_gdee .PdfRectangle =_dgacd (_gdee .PdfRectangle ,_efaa .PdfRectangle );if _efaa ._feeea > _gdee ._deb {_gdee ._deb =_efaa ._feeea ;};_gdee ._eedgg [_ecbge ]=append (_gdee ._eedgg [_ecbge ],_efaa );_fbcd [_ecbge ][_efaa ]=struct{}{};};

// String returns a description of `v`.
func (_acfc *ruling )String ()string {if _acfc ._adeg ==_aaeg {return "\u004e\u004f\u0054\u0020\u0052\u0055\u004c\u0049\u004e\u0047";};_ecfg ,_gefb :="\u0078","\u0079";if _acfc ._adeg ==_cdab {_ecfg ,_gefb ="\u0079","\u0078";};_acgg :="";if _acfc ._agec !=0.0{_acgg =_a .Sprintf (" \u0077\u0069\u0064\u0074\u0068\u003d\u0025\u002e\u0032\u0066",_acfc ._agec );};return _a .Sprintf ("\u0025\u00310\u0073\u0020\u0025\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u0020\u002d\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0028\u0025\u0036\u002e\u0032\u0066\u0029\u0020\u0025\u0073\u0020\u0025\u0076\u0025\u0073",_acfc ._adeg ,_ecfg ,_acfc ._bbba ,_gefb ,_acfc ._fdag ,_acfc ._bcbfge ,_acfc ._bcbfge -_acfc ._fdag ,_acfc ._gccd ,_acfc .Color ,_acgg );};

// Tables returns the tables extracted from the page.
func (_bdab PageText )Tables ()[]TextTable {if _afbd {_fc .Log .Info ("\u0054\u0061\u0062\u006c\u0065\u0073\u003a\u0020\u0025\u0064",len (_bdab ._gcef ));};return _bdab ._gcef ;};type wordBag struct{_ca .PdfRectangle ;_deb float64 ;_gddg ,_afdd rulingList ;_bcc float64 ;_eedgg map[int ][]*textWord ;};func (_aeaffb *textWord )addDiacritic (_cbge string ){_dcaf :=_aeaffb ._ccbcf [len (_aeaffb ._ccbcf )-1];_dcaf ._cfdg +=_cbge ;_dcaf ._cfdg =_fb .NFKC .String (_dcaf ._cfdg );};func (_abg *shapesState )lastpointEstablished ()(_c .Point ,bool ){if _abg ._daff {return _abg ._gfb ,false ;};_gcbf :=len (_abg ._bdgb );if _gcbf > 0&&_abg ._bdgb [_gcbf -1]._cgfa {return _abg ._bdgb [_gcbf -1].last (),false ;};return _c .Point {},true ;};

// Marks returns the TextMark collection for a page. It represents all the text on the page.
func (_efac PageText )Marks ()*TextMarkArray {return &TextMarkArray {_bgebf :_efac ._ecb }};const (_ffbc =true ;_babe =true ;_ace =true ;_gfcd =false ;_cfff =false ;_egdg =6;_eabb =3.0;_cad =200;_bde =true ;_aaf =true ;_ebag =true ;_ebd =true ;_acea =false ;);

// Text returns the extracted page text.
func (_fega PageText )Text ()string {return _fega ._fdba };func _cdbd (_dgbe ,_dbgd _c .Point ,_fagg _be .Color )(*ruling ,bool ){_cdcg :=lineRuling {_aae :_dgbe ,_dabc :_dbgd ,_faaee :_dggbf (_dgbe ,_dbgd ),Color :_fagg };if _cdcg ._faaee ==_aaeg {return nil ,false ;};return _cdcg .asRuling ();};func (_addc paraList )topoOrder ()[]int {if _aeed {_fc .Log .Info ("\u0074\u006f\u0070\u006f\u004f\u0072\u0064\u0065\u0072\u003a");};_ccfe :=len (_addc );_fgfc :=make ([]bool ,_ccfe );_bacb :=make ([]int ,0,_ccfe );_bgfe :=_addc .llyOrdering ();var _ffca func (_ebab int );_ffca =func (_bbad int ){_fgfc [_bbad ]=true ;for _fdec :=0;_fdec < _ccfe ;_fdec ++{if !_fgfc [_fdec ]{if _addc .readBefore (_bgfe ,_bbad ,_fdec ){_ffca (_fdec );};};};_bacb =append (_bacb ,_bbad );};for _accf :=0;_accf < _ccfe ;_accf ++{if !_fgfc [_accf ]{_ffca (_accf );};};return _ebfcf (_bacb );};func (_affae *textWord )bbox ()_ca .PdfRectangle {return _affae .PdfRectangle };func (_efaff rulingList )sort (){_fg .Slice (_efaff ,_efaff .comp )};func (_ab *textObject )showText (_bead []byte )error {return _ab .renderText (_bead )};func (_bdae *stateStack )top ()*textState {if _bdae .empty (){return nil ;};return (*_bdae )[_bdae .size ()-1];};

// ApplyArea processes the page text only within the specified area `bbox`.
// Each time ApplyArea is called, it updates the result set in `pt`.
// Can be called multiple times in a row with different bounding boxes.
func (_cgg *PageText )ApplyArea (bbox _ca .PdfRectangle ){_gcfa :=make ([]*textMark ,0,len (_cgg ._efe ));for _ ,_febc :=range _cgg ._efe {if _bafb (_febc .bbox (),bbox ){_gcfa =append (_gcfa ,_febc );};};var _ddfd paraList ;_gcfg :=len (_gcfa );for _eaaf :=0;_eaaf < 360&&_gcfg > 0;_eaaf +=90{_babc :=make ([]*textMark ,0,len (_gcfa )-_gcfg );for _ ,_dgac :=range _gcfa {if _dgac ._dbgg ==_eaaf {_babc =append (_babc ,_dgac );};};if len (_babc )> 0{_ccff :=_ggga (_babc ,_cgg ._eccdg ,nil ,nil );_ddfd =append (_ddfd ,_ccff ...);_gcfg -=len (_babc );};};_bbb :=new (_gg .Buffer );_ddfd .writeText (_bbb );_cgg ._fdba =_bbb .String ();_cgg ._ecb =_ddfd .toTextMarks ();_cgg ._gcef =_ddfd .tables ();};func (_adea *wordBag )firstReadingIndex (_bad int )int {_cbab :=_adea .firstWord (_bad )._feeea ;_gfea :=float64 (_bad +1)*_gedg ;_abga :=_gfea +_gbc *_cbab ;_caaa :=_bad ;for _ ,_ddfa :=range _adea .depthBand (_gfea ,_abga ){if _gcdf (_adea .firstWord (_ddfa ),_adea .firstWord (_caaa ))< 0{_caaa =_ddfa ;};};return _caaa ;};func (_cege *wordBag )minDepth ()float64 {return _cege ._bcc -(_cege .Ury -_cege ._deb )};func (_caff paraList )readBefore (_ecgd []int ,_bgg ,_dacd int )bool {_cdffb ,_ebca :=_caff [_bgg ],_caff [_dacd ];if _gccge (_cdffb ,_ebca )&&_cdffb .Lly > _ebca .Lly {return true ;};if !(_cdffb ._eegg .Urx < _ebca ._eegg .Llx ){return false ;};_gcag ,_feafc :=_cdffb .Lly ,_ebca .Lly ;if _gcag > _feafc {_feafc ,_gcag =_gcag ,_feafc ;};_gfec :=_fe .Max (_cdffb ._eegg .Llx ,_ebca ._eegg .Llx );_faae :=_fe .Min (_cdffb ._eegg .Urx ,_ebca ._eegg .Urx );_eega :=_caff .llyRange (_ecgd ,_gcag ,_feafc );for _ ,_cgfg :=range _eega {if _cgfg ==_bgg ||_cgfg ==_dacd {continue ;};_bbfe :=_caff [_cgfg ];if _bbfe ._eegg .Llx <=_faae &&_gfec <=_bbfe ._eegg .Urx {return false ;};};return true ;};

// String returns a description of `k`.
func (_eaac markKind )String ()string {_ecaa ,_fcad :=_cbbcd [_eaac ];if !_fcad {return _a .Sprintf ("\u004e\u006f\u0074\u0020\u0061\u0020\u006d\u0061\u0072k\u003a\u0020\u0025\u0064",_eaac );};return _ecaa ;};func (_bfgg *shapesState )addPoint (_bfced ,_eaafg float64 ){_dbed :=_bfgg .establishSubpath ();_dbdb :=_bfgg .devicePoint (_bfced ,_eaafg );if _dbed ==nil {_bfgg ._daff =true ;_bfgg ._gfb =_dbdb ;}else {_dbed .add (_dbdb );};};

// New returns an Extractor instance for extracting content from the input PDF page.
func New (page *_ca .PdfPage )(*Extractor ,error ){_ec ,_ce :=page .GetAllContentStreams ();if _ce !=nil {return nil ,_ce ;};_cea ,_ce :=page .GetMediaBox ();if _ce !=nil {return nil ,_a .Errorf ("\u0065\u0078\u0074r\u0061\u0063\u0074\u006fr\u0020\u0072\u0065\u0071\u0075\u0069\u0072e\u0073\u0020\u006d\u0065\u0064\u0069\u0061\u0042\u006f\u0078\u002e\u0020\u0025\u0076",_ce );};_bc :=&Extractor {_ag :_ec ,_ae :page .Resources ,_bdb :*_cea ,_cb :map[string ]fontEntry {},_gcf :map[string ]textResult {}};if _bc ._bdb .Llx > _bc ._bdb .Urx {_fc .Log .Info ("\u004d\u0065\u0064\u0069\u0061\u0042o\u0078\u0020\u0068\u0061\u0073\u0020\u0058\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073\u0020r\u0065\u0076\u0065\u0072\u0073\u0065\u0064\u002e\u0020\u0025\u002e\u0032\u0066\u0020F\u0069x\u0069\u006e\u0067\u002e",_bc ._bdb );_bc ._bdb .Llx ,_bc ._bdb .Urx =_bc ._bdb .Urx ,_bc ._bdb .Llx ;};if _bc ._bdb .Lly > _bc ._bdb .Ury {_fc .Log .Info ("\u004d\u0065\u0064\u0069\u0061\u0042o\u0078\u0020\u0068\u0061\u0073\u0020\u0059\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073\u0020r\u0065\u0076\u0065\u0072\u0073\u0065\u0064\u002e\u0020\u0025\u002e\u0032\u0066\u0020F\u0069x\u0069\u006e\u0067\u002e",_bc ._bdb );_bc ._bdb .Lly ,_bc ._bdb .Ury =_bc ._bdb .Ury ,_bc ._bdb .Lly ;};return _bc ,nil ;};func _dbdcd (_eead ,_dgb _ca .PdfRectangle )bool {return _dgb .Llx <=_eead .Urx &&_eead .Llx <=_dgb .Urx };

// NewFromContents creates a new extractor from contents and page resources.
func NewFromContents (contents string ,resources *_ca .PdfPageResources )(*Extractor ,error ){_bdbe :=&Extractor {_ag :contents ,_ae :resources ,_cb :map[string ]fontEntry {},_gcf :map[string ]textResult {}};return _bdbe ,nil ;};func (_aba *textObject )setWordSpacing (_abaa float64 ){if _aba ==nil {return ;};_aba ._baa ._fcdg =_abaa ;};func (_agf *shapesState )quadraticTo (_eede ,_gcbef ,_aeb ,_gbe float64 ){if _ccgb {_fc .Log .Info ("\u0071\u0075\u0061d\u0072\u0061\u0074\u0069\u0063\u0054\u006f\u003a");};_agf .addPoint (_aeb ,_gbe );};func _edc (_fgef []*textWord ,_eacfe float64 ,_bbgff ,_befa rulingList )*wordBag {_feff :=_bcaa (_fgef [0],_eacfe ,_bbgff ,_befa );for _ ,_ggf :=range _fgef [1:]{_geb :=_ddce (_ggf ._bccba );_feff ._eedgg [_geb ]=append (_feff ._eedgg [_geb ],_ggf );_feff .PdfRectangle =_dgacd (_feff .PdfRectangle ,_ggf .PdfRectangle );};_feff .sort ();return _feff ;};const (_abce =1.0e-6;_debc =1.0e-4;_gage =10;_gedg =6;_cbfc =0.5;_bfabe =0.11;_egcd =0.19;_eeag =0.04;_aaca =0.04;_gdaf =1.0;_dbec =0.04;_ddffe =0.4;_gcda =0.7;_egbcd =1.0;_cgdc =0.1;_bada =1.4;_dade =0.46;_dcdc =0.02;_afea =0.2;_gafc =0.5;_bdgf =4;_gbc =4.0;_bccb =6;_efd =0.3;_bcbc =0.01;_acdd =0.02;_dgaf =2;_efed =2;_adbc =500;_dafg =4.0;_ecee =4.0;_cedba =0.05;_fggb =0.1;_cfaac =2.0;_baac =2.0;_ffab =1.5;_debe =3.0;_gebc =0.25;);func (_egfg *textLine )bbox ()_ca .PdfRectangle {return _egfg .PdfRectangle };

// String returns a description of `b`.
func (_beeb *wordBag )String ()string {var _daab []string ;for _ ,_bbec :=range _beeb .depthIndexes (){_cab :=_beeb ._eedgg [_bbec ];for _ ,_cga :=range _cab {_daab =append (_daab ,_cga ._degca );};};return _a .Sprintf ("\u0025.\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065=\u0025\u002e\u0032\u0066\u0020\u0025\u0064\u0020\u0025\u0071",_beeb .PdfRectangle ,_beeb ._deb ,len (_daab ),_daab );};func (_cddba paraList )applyTables (_dafd []*textTable )paraList {_bgaa :=make (map[*textPara ]struct{});var _eaegb paraList ;for _ ,_ageg :=range _dafd {for _ ,_faea :=range _ageg ._ecfge {_bgaa [_faea ]=struct{}{};};_eaegb =append (_eaegb ,_ageg .newTablePara ());};for _ ,_geaad :=range _cddba {if _ ,_bgfca :=_bgaa [_geaad ];!_bgfca {_eaegb =append (_eaegb ,_geaad );};};return _eaegb ;};func (_afgg rulingList )findPrimSec (_gebb ,_gdde float64 )*ruling {for _ ,_cgdd :=range _afgg {if _adabg (_cgdd ._bbba -_gebb )&&_cgdd ._fdag -_cfaac <=_gdde &&_gdde <=_cgdd ._bcbfge +_cfaac {return _cgdd ;};};return nil ;};var _cfgf =TextMark {Text :"\u005b\u0058\u005d",Original :"\u0020",Meta :true ,FillColor :_be .White ,StrokeColor :_be .White };func (_becd *textTable )getRight ()paraList {_dgeba :=make (paraList ,_becd ._effde );for _cbba :=0;_cbba < _becd ._effde ;_cbba ++{_cegea :=_becd .get (_becd ._fbdb -1,_cbba )._cbbc ;if _cegea ==nil ||_cegea ._bcecf {return nil ;};_dgeba [_cbba ]=_cegea ;};for _aecd :=0;_aecd < _becd ._effde -1;_aecd ++{if _dgeba [_aecd ]._cbcb !=_dgeba [_aecd +1]{return nil ;};};return _dgeba ;};func (_ccfaf intSet )del (_adbb int ){delete (_ccfaf ,_adbb )};type rulingKind int ;func (_abb *shapesState )closePath (){if _abb ._daff {_abb ._bdgb =append (_abb ._bdgb ,_geag (_abb ._gfb ));_abb ._daff =false ;}else if len (_abb ._bdgb )==0{if _ccgb {_fc .Log .Debug ("\u0063\u006c\u006f\u0073eP\u0061\u0074\u0068\u0020\u0077\u0069\u0074\u0068\u0020\u006e\u006f\u0020\u0070\u0061t\u0068");};_abb ._daff =false ;return ;};_abb ._bdgb [len (_abb ._bdgb )-1].close ();if _ccgb {_fc .Log .Info ("\u0063\u006c\u006f\u0073\u0065\u0050\u0061\u0074\u0068\u003a\u0020\u0025\u0073",_abb );};};func _gffc (_eeabda map[int ]intSet )[]int {_adfb :=make ([]int ,0,len (_eeabda ));for _fdeef :=range _eeabda {_adfb =append (_adfb ,_fdeef );};_fg .Ints (_adfb );return _adfb ;};func (_gggc *stateStack )push (_ebb *textState ){_ccb :=*_ebb ;*_gggc =append (*_gggc ,&_ccb )};func (_cbbba gridTiling )complete ()bool {for _ ,_aegg :=range _cbbba ._bgfcf {for _ ,_cacd :=range _aegg {if !_cacd .complete (){return false ;};};};return true ;};func (_eefe *textTable )isExportable ()bool {if _eefe ._gagea {return true ;};_bafd :=func (_bbab int )bool {_agd :=_eefe .get (0,_bbab );if _agd ==nil {return false ;};_bbfd :=_agd .text ();_gadc :=_fa .RuneCountInString (_bbfd );_fbdd :=_bdaf .MatchString (_bbfd );return _gadc <=1||_fbdd ;};for _cegf :=0;_cegf < _eefe ._effde ;_cegf ++{if !_bafd (_cegf ){return true ;};};return false ;};func _ebge (_ecfaa map[float64 ]map[float64 ]gridTile )[]float64 {_agad :=make ([]float64 ,0,len (_ecfaa ));for _cbfe :=range _ecfaa {_agad =append (_agad ,_cbfe );};_fg .Float64s (_agad );_eefb :=len (_agad );for _gebg :=0;_gebg < _eefb /2;_gebg ++{_agad [_gebg ],_agad [_eefb -1-_gebg ]=_agad [_eefb -1-_gebg ],_agad [_gebg ];};return _agad ;};func _gecf (_bedac string )(string ,bool ){_eeeb :=[]rune (_bedac );if len (_eeeb )!=1{return "",false ;};_eebge ,_deaa :=_aggd [_eeeb [0]];return _eebge ,_deaa ;};func _egdd (_cdfge ,_dfaa _c .Point )bool {return _cdfge .X ==_dfaa .X &&_cdfge .Y ==_dfaa .Y };func _cce (_fgca float64 ,_fcac int )int {if _fcac ==0{_fcac =1;};_gbdde :=float64 (_fcac );return int (_fe .Round (_fgca /_gbdde )*_gbdde );};

// Extractor stores and offers functionality for extracting content from PDF pages.
type Extractor struct{_ag string ;_ae *_ca .PdfPageResources ;_bdb _ca .PdfRectangle ;_cb map[string ]fontEntry ;_gcf map[string ]textResult ;_af int64 ;_eg int ;};func (_bgb *wordBag )scanBand (_fgdg string ,_fbbc *wordBag ,_gad func (_degc *wordBag ,_cabb *textWord )bool ,_fedd ,_egff ,_dgf float64 ,_dgaa ,_dbdc bool )int {_gadg :=_fbbc ._deb ;var _agfd map[int ]map[*textWord ]struct{};if !_dgaa {_agfd =_bgb .makeRemovals ();};_fbcc :=_cbfc *_gadg ;_dfga :=0;for _ ,_fgfb :=range _bgb .depthBand (_fedd -_fbcc ,_egff +_fbcc ){if len (_bgb ._eedgg [_fgfb ])==0{continue ;};for _ ,_gddf :=range _bgb ._eedgg [_fgfb ]{if !(_fedd -_fbcc <=_gddf ._bccba &&_gddf ._bccba <=_egff +_fbcc ){continue ;};if !_gad (_fbbc ,_gddf ){continue ;};_dbde :=2.0*_fe .Abs (_gddf ._feeea -_fbbc ._deb )/(_gddf ._feeea +_fbbc ._deb );_dbgf :=_fe .Max (_gddf ._feeea /_fbbc ._deb ,_fbbc ._deb /_gddf ._feeea );_dbgc :=_fe .Min (_dbde ,_dbgf );if _dgf > 0&&_dbgc > _dgf {continue ;};if _fbbc .blocked (_gddf ){continue ;};if !_dgaa {_fbbc .pullWord (_gddf ,_fgfb ,_agfd );};_dfga ++;if !_dbdc {if _gddf ._bccba < _fedd {_fedd =_gddf ._bccba ;};if _gddf ._bccba > _egff {_egff =_gddf ._bccba ;};};if _dgaa {break ;};};};if !_dgaa {_bgb .applyRemovals (_agfd );};return _dfga ;};func _bceg (_ebe ,_edae _ca .PdfRectangle )bool {return _ebe .Lly <=_edae .Ury &&_edae .Lly <=_ebe .Ury };func (_gbgc *wordBag )depthIndexes ()[]int {if len (_gbgc ._eedgg )==0{return nil ;};_faca :=make ([]int ,len (_gbgc ._eedgg ));_dbdca :=0;for _aef :=range _gbgc ._eedgg {_faca [_dbdca ]=_aef ;_dbdca ++;};_fg .Ints (_faca );return _faca ;};func (_feaf *wordBag )absorb (_ccga *wordBag ){_aaddg :=_ccga .makeRemovals ();for _bccd ,_befe :=range _ccga ._eedgg {for _ ,_ecef :=range _befe {_feaf .pullWord (_ecef ,_bccd ,_aaddg );};};_ccga .applyRemovals (_aaddg );};func (_dbcga *ruling )encloses (_cgac ,_gbffg float64 )bool {return _dbcga ._fdag -_cfaac <=_cgac &&_gbffg <=_dbcga ._bcbfge +_cfaac ;};func (_dgg *textObject )reset (){_dgg ._baeg =_c .IdentityMatrix ();_dgg ._fdg =_c .IdentityMatrix ();_dgg ._cef =nil ;};func (_bcbf *wordBag )allWords ()[]*textWord {var _gaa []*textWord ;for _ ,_aabe :=range _bcbf ._eedgg {_gaa =append (_gaa ,_aabe ...);};return _gaa ;};type textObject struct{_gede *Extractor ;_bcec *_ca .PdfPageResources ;_cgf _bbg .GraphicsState ;_baa *textState ;_gceg *stateStack ;_baeg _c .Matrix ;_fdg _c .Matrix ;_cef []*textMark ;_egb bool ;};func (_fcga *stateStack )size ()int {return len (*_fcga )};

// String returns a description of `t`.
func (_cgee *textTable )String ()string {return _a .Sprintf ("\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u0020\u0025\u0074",_cgee ._fbdb ,_cgee ._effde ,_cgee ._gagea );};func (_ccac *textObject )getFillColor ()_be .Color {return _efab (_ccac ._cgf .ColorspaceNonStroking ,_ccac ._cgf .ColorNonStroking );};type intSet map[int ]struct{};var _cbbcd =map[markKind ]string {_bbbad :"\u0073\u0074\u0072\u006f\u006b\u0065",_aeff :"\u0066\u0069\u006c\u006c",_cgegf :"\u0061u\u0067\u006d\u0065\u006e\u0074"};func (_beeg *wordBag )text ()string {_gccb :=_beeg .allWords ();_bfcc :=make ([]string ,len (_gccb ));for _ggdd ,_eadd :=range _gccb {_bfcc [_ggdd ]=_eadd ._degca ;};return _g .Join (_bfcc ,"\u0020");};func _gecg (_bdded ,_dddd ,_agaab ,_fdaad *textPara )*textTable {_aafe :=&textTable {_fbdb :2,_effde :2,_ecfge :make (map[uint64 ]*textPara ,4)};_aafe .put (0,0,_bdded );_aafe .put (1,0,_dddd );_aafe .put (0,1,_agaab );_aafe .put (1,1,_fdaad );return _aafe ;};func (_dgdb *textMark )bbox ()_ca .PdfRectangle {return _dgdb .PdfRectangle };type textMark struct{_ca .PdfRectangle ;_dbgg int ;_cfdg string ;_dced string ;_fbeb *_ca .PdfFont ;_gacd float64 ;_bffg float64 ;_bedb _c .Matrix ;_ggb _c .Point ;_bfd _ca .PdfRectangle ;_fgfd _be .Color ;_fdee _be .Color ;};const _ffed =1.0/1000.0;type textPara struct{_ca .PdfRectangle ;_eegg _ca .PdfRectangle ;_bgga []*textLine ;_eccf *textTable ;_bcecf bool ;_dage bool ;_bfag *textPara ;_cbbc *textPara ;_gggg *textPara ;_cbcb *textPara ;};

// String returns a description of `state`.
func (_gde *textState )String ()string {_bef :="\u005bN\u004f\u0054\u0020\u0053\u0045\u0054]";if _gde ._dbg !=nil {_bef =_gde ._dbg .BaseFont ();};return _a .Sprintf ("\u0074\u0063\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0077\u003d\u0025\u002e\u0032\u0066 \u0074f\u0073\u003d\u0025\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u003d\u0025\u0071",_gde ._aad ,_gde ._fcdg ,_gde ._ccbe ,_bef );};func (_bfee *textTable )compositeRowCorridors ()map[int ][]float64 {_cefd :=make (map[int ][]float64 ,_bfee ._effde );if _afbd {_fc .Log .Info ("c\u006f\u006d\u0070\u006f\u0073\u0069t\u0065\u0052\u006f\u0077\u0043\u006f\u0072\u0072\u0069d\u006f\u0072\u0073:\u0020h\u003d\u0025\u0064",_bfee ._effde );};for _cdbcc :=1;_cdbcc < _bfee ._effde ;_cdbcc ++{var _agced []compositeCell ;for _dbfd :=0;_dbfd < _bfee ._fbdb ;_dbfd ++{if _fffe ,_cbggb :=_bfee ._febee [_acfb (_dbfd ,_cdbcc )];_cbggb {_agced =append (_agced ,_fffe );};};if len (_agced )==0{continue ;};_fcgb :=_cabag (_agced );_cefd [_cdbcc ]=_fcgb ;if _afbd {_a .Printf ("\u0020\u0020\u0020\u0025\u0032\u0064\u003a\u0020\u00256\u002e\u0032\u0066\u000a",_cdbcc ,_fcgb );};};return _cefd ;};func _faag (_fcgf _ca .PdfRectangle )*ruling {return &ruling {_adeg :_cdab ,_bbba :_fcgf .Ury ,_fdag :_fcgf .Llx ,_bcbfge :_fcgf .Urx };};

// BBox returns the smallest axis-aligned rectangle that encloses all the TextMarks in `ma`.
func (_bba *TextMarkArray )BBox ()(_ca .PdfRectangle ,bool ){var _febe _ca .PdfRectangle ;_gfed :=false ;for _ ,_ddg :=range _bba ._bgebf {if _ddg .Meta ||_afdf (_ddg .Text ){continue ;};if _gfed {_febe =_dgacd (_febe ,_ddg .BBox );}else {_febe =_ddg .BBox ;_gfed =true ;};};return _febe ,_gfed ;};var (_cd =_bb .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");_ac =_bb .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072"););var _cg =false ;type compositeCell struct{_ca .PdfRectangle ;paraList ;};func (_bdc *imageExtractContext )processOperand (_cdg *_bbg .ContentStreamOperation ,_bda _bbg .GraphicsState ,_efa *_ca .PdfPageResources )error {if _cdg .Operand =="\u0042\u0049"&&len (_cdg .Params )==1{_ea ,_aa :=_cdg .Params [0].(*_bbg .ContentStreamInlineImage );if !_aa {return nil ;};if _ga ,_dfc :=_gc .GetBoolVal (_ea .ImageMask );_dfc {if _ga &&!_bdc ._bdg .IncludeInlineStencilMasks {return nil ;};};return _bdc .extractInlineImage (_ea ,_bda ,_efa );}else if _cdg .Operand =="\u0044\u006f"&&len (_cdg .Params )==1{_ecc ,_cc :=_gc .GetName (_cdg .Params [0]);if !_cc {_fc .Log .Debug ("E\u0052\u0052\u004f\u0052\u003a\u0020\u0054\u0079\u0070\u0065");return _cd ;};_ ,_fbb :=_efa .GetXObjectByName (*_ecc );switch _fbb {case _ca .XObjectTypeImage :return _bdc .extractXObjectImage (_ecc ,_bda ,_efa );case _ca .XObjectTypeForm :return _bdc .extractFormImages (_ecc ,_bda ,_efa );};};return nil ;};func (_cdcgd *textTable )depth ()float64 {_egcfb :=1e10;for _cbcab :=0;_cbcab < _cdcgd ._fbdb ;_cbcab ++{_ebafe :=_cdcgd .get (_cbcab ,0);if _ebafe ==nil ||_ebafe ._dage {continue ;};_egcfb =_fe .Min (_egcfb ,_ebafe .depth ());};return _egcfb ;};func (_decc *wordBag )removeDuplicates (){if _ccde {_fc .Log .Info ("r\u0065m\u006f\u0076\u0065\u0044\u0075\u0070\u006c\u0069c\u0061\u0074\u0065\u0073: \u0025\u0071",_decc .text ());};for _ ,_dgcb :=range _decc .depthIndexes (){if len (_decc ._eedgg [_dgcb ])==0{continue ;};_edgba :=_decc ._eedgg [_dgcb ][0];_dgaad :=_afea *_edgba ._feeea ;_fecb :=_edgba ._bccba ;for _ ,_afgf :=range _decc .depthBand (_fecb ,_fecb +_dgaad ){_ffdea :=map[*textWord ]struct{}{};_becg :=_decc ._eedgg [_afgf ];for _ ,_cebd :=range _becg {if _ ,_fccgf :=_ffdea [_cebd ];_fccgf {continue ;};for _ ,_eggf :=range _becg {if _ ,_bebf :=_ffdea [_eggf ];_bebf {continue ;};if _eggf !=_cebd &&_eggf ._degca ==_cebd ._degca &&_fe .Abs (_eggf .Llx -_cebd .Llx )< _dgaad &&_fe .Abs (_eggf .Urx -_cebd .Urx )< _dgaad &&_fe .Abs (_eggf .Lly -_cebd .Lly )< _dgaad &&_fe .Abs (_eggf .Ury -_cebd .Ury )< _dgaad {_ffdea [_eggf ]=struct{}{};};};};if len (_ffdea )> 0{_adgc :=0;for _ ,_fcgc :=range _becg {if _ ,_adeb :=_ffdea [_fcgc ];!_adeb {_becg [_adgc ]=_fcgc ;_adgc ++;};};_decc ._eedgg [_afgf ]=_becg [:len (_becg )-len (_ffdea )];if len (_decc ._eedgg [_afgf ])==0{delete (_decc ._eedgg ,_afgf );};};};};};func (_cgfc *subpath )makeRectRuling (_eeab _be .Color )(*ruling ,bool ){if _faba {_fc .Log .Info ("\u006d\u0061\u006beR\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0070\u0061\u0074\u0068\u003d\u0025\u0076",_cgfc );};_eced :=_cgfc ._deaf [:4];_cdcgb :=make (map[int ]rulingKind ,len (_eced ));for _faagc ,_aafb :=range _eced {_egfgg :=_cgfc ._deaf [(_faagc +1)%4];_cdcgb [_faagc ]=_ecac (_aafb ,_egfgg );if _faba {_a .Printf ("\u0025\u0034\u0064: \u0025\u0073\u0020\u003d\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u002d\u0020\u0025\u0036\u002e\u0032\u0066",_faagc ,_cdcgb [_faagc ],_aafb ,_egfgg );};};if _faba {_a .Printf ("\u0020\u0020\u0020\u006b\u0069\u006e\u0064\u0073\u003d\u0025\u002b\u0076\u000a",_cdcgb );};var _dfed ,_ccfg []int ;for _bfcg ,_bgea :=range _cdcgb {switch _bgea {case _cdab :_ccfg =append (_ccfg ,_bfcg );case _aefbb :_dfed =append (_dfed ,_bfcg );};};if _faba {_a .Printf ("\u0020\u0020 \u0068\u006f\u0072z\u0073\u003d\u0025\u0064\u0020\u0025\u002b\u0076\u000a",len (_ccfg ),_ccfg );_a .Printf ("\u0020\u0020 \u0076\u0065\u0072t\u0073\u003d\u0025\u0064\u0020\u0025\u002b\u0076\u000a",len (_dfed ),_dfed );};_gfga :=(len (_ccfg )==2&&len (_dfed )==2)||(len (_ccfg )==2&&len (_dfed )==0&&_ceeg (_eced [_ccfg [0]],_eced [_ccfg [1]]))||(len (_dfed )==2&&len (_ccfg )==0&&_beda (_eced [_dfed [0]],_eced [_dfed [1]]));if _faba {_a .Printf (" \u0020\u0020\u0068\u006f\u0072\u007as\u003d\u0025\u0064\u0020\u0076\u0065\u0072\u0074\u0073=\u0025\u0064\u0020o\u006b=\u0025\u0074\u000a",len (_ccfg ),len (_dfed ),_gfga );};if !_gfga {if _faba {_fc .Log .Error ("\u0021!\u006d\u0061\u006b\u0065R\u0065\u0063\u0074\u0052\u0075l\u0069n\u0067:\u0020\u0070\u0061\u0074\u0068\u003d\u0025v",_cgfc );_a .Printf (" \u0020\u0020\u0068\u006f\u0072\u007as\u003d\u0025\u0064\u0020\u0076\u0065\u0072\u0074\u0073=\u0025\u0064\u0020o\u006b=\u0025\u0074\u000a",len (_ccfg ),len (_dfed ),_gfga );};return &ruling {},false ;};if len (_dfed )==0{for _cegcg ,_cgda :=range _cdcgb {if _cgda !=_cdab {_dfed =append (_dfed ,_cegcg );};};};if len (_ccfg )==0{for _fgcd ,_dgaadc :=range _cdcgb {if _dgaadc !=_aefbb {_ccfg =append (_ccfg ,_fgcd );};};};if _faba {_fc .Log .Info ("\u006da\u006b\u0065R\u0065\u0063\u0074\u0052u\u006c\u0069\u006eg\u003a\u0020\u0068\u006f\u0072\u007a\u0073\u003d\u0025d \u0076\u0065\u0072t\u0073\u003d%\u0064\u0020\u0070\u006f\u0069\u006et\u0073\u003d%\u0064\u000a"+"\u0009\u0020\u0068o\u0072\u007a\u0073\u003d\u0025\u002b\u0076\u000a"+"\u0009\u0020\u0076e\u0072\u0074\u0073\u003d\u0025\u002b\u0076\u000a"+"\t\u0070\u006f\u0069\u006e\u0074\u0073\u003d\u0025\u002b\u0076",len (_ccfg ),len (_dfed ),len (_eced ),_ccfg ,_dfed ,_eced );};var _eabac ,_cbeg ,_cdea ,_eefc _c .Point ;if _eced [_ccfg [0]].Y > _eced [_ccfg [1]].Y {_cdea ,_eefc =_eced [_ccfg [0]],_eced [_ccfg [1]];}else {_cdea ,_eefc =_eced [_ccfg [1]],_eced [_ccfg [0]];};if _eced [_dfed [0]].X > _eced [_dfed [1]].X {_eabac ,_cbeg =_eced [_dfed [0]],_eced [_dfed [1]];}else {_eabac ,_cbeg =_eced [_dfed [1]],_eced [_dfed [0]];};_fadgb :=_ca .PdfRectangle {Llx :_eabac .X ,Urx :_cbeg .X ,Lly :_eefc .Y ,Ury :_cdea .Y };if _fadgb .Llx > _fadgb .Urx {_fadgb .Llx ,_fadgb .Urx =_fadgb .Urx ,_fadgb .Llx ;};if _fadgb .Lly > _fadgb .Ury {_fadgb .Lly ,_fadgb .Ury =_fadgb .Ury ,_fadgb .Lly ;};_bbebe :=rectRuling {PdfRectangle :_fadgb ,_cfgc :_dafc (_fadgb ),Color :_eeab };if _bbebe ._cfgc ==_aaeg {if _faba {_fc .Log .Error ("\u006da\u006b\u0065\u0052\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006eg\u003a\u0020\u006b\u0069\u006e\u0064\u003d\u006e\u0069\u006c");};return nil ,false ;};_agag ,_edgg :=_bbebe .asRuling ();if !_edgg {if _faba {_fc .Log .Error ("\u006da\u006b\u0065\u0052\u0065c\u0074\u0052\u0075\u006c\u0069n\u0067:\u0020!\u0069\u0073\u0052\u0075\u006c\u0069\u006eg");};return nil ,false ;};if _egbc {_a .Printf ("\u0020\u0020\u0020\u0072\u003d\u0025\u0073\u000a",_agag .String ());};return _agag ,true ;};func _ebfcf (_bdf []int )[]int {_cebgb :=make ([]int ,len (_bdf ));for _gcece ,_edff :=range _bdf {_cebgb [len (_bdf )-1-_gcece ]=_edff ;};return _cebgb ;};

// ToTextMark returns the public view of `tm`.
func (_bfgc *textMark )ToTextMark ()TextMark {return TextMark {Text :_bfgc ._cfdg ,Original :_bfgc ._dced ,BBox :_bfgc ._bfd ,Font :_bfgc ._fbeb ,FontSize :_bfgc ._gacd ,FillColor :_bfgc ._fgfd ,StrokeColor :_bfgc ._fdee ,Orientation :_bfgc ._dbgg };};func _beda (_gbed ,_gfdf _c .Point )bool {_beae :=_fe .Abs (_gbed .X -_gfdf .X );_efag :=_fe .Abs (_gbed .Y -_gfdf .Y );return _fdfgf (_beae ,_efag );};type rectRuling struct{_cfgc rulingKind ;_acdf markKind ;_be .Color ;_ca .PdfRectangle ;};

// String returns a description of `tm`.
func (_egef *textMark )String ()string {return _a .Sprintf ("\u0025\u002e\u0032f \u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\u0022\u0025\u0073\u0022",_egef .PdfRectangle ,_egef ._gacd ,_egef ._cfdg );};func (_adeac *wordBag )removeWord (_aee *textWord ,_eedf int ){_acdbf :=_adeac ._eedgg [_eedf ];_acdbf =_cebca (_acdbf ,_aee );if len (_acdbf )==0{delete (_adeac ._eedgg ,_eedf );}else {_adeac ._eedgg [_eedf ]=_acdbf ;};};type textResult struct{_fccc PageText ;_ffa int ;_ged int ;};func _gcbgc (_aabb _ca .PdfRectangle )*ruling {return &ruling {_adeg :_cdab ,_bbba :_aabb .Lly ,_fdag :_aabb .Llx ,_bcbfge :_aabb .Urx };};func _dece (_cegcgc []rulingList )(rulingList ,rulingList ){var _fbba rulingList ;for _ ,_fdeec :=range _cegcgc {_fbba =append (_fbba ,_fdeec ...);};return _fbba .vertsHorzs ();};func (_cefbf *textTable )reduce ()*textTable {_ebcb :=make ([]int ,0,_cefbf ._effde );_ebde :=make ([]int ,0,_cefbf ._fbdb );for _dccabc :=0;_dccabc < _cefbf ._effde ;_dccabc ++{if !_cefbf .emptyRow (_dccabc ){_ebcb =append (_ebcb ,_dccabc );};};for _ecec :=0;_ecec < _cefbf ._fbdb ;_ecec ++{if !_cefbf .emptyColumn (_ecec ){_ebde =append (_ebde ,_ecec );};};if len (_ebcb )==_cefbf ._effde &&len (_ebde )==_cefbf ._fbdb {return _cefbf ;};_gdcea :=textTable {_gagea :_cefbf ._gagea ,_fbdb :len (_ebde ),_effde :len (_ebcb ),_ecfge :make (map[uint64 ]*textPara ,len (_ebde )*len (_ebcb ))};if _afbd {_fc .Log .Info ("\u0072\u0065\u0064\u0075ce\u003a\u0020\u0025\u0064\u0078\u0025\u0064\u0020\u002d\u003e\u0020\u0025\u0064\u0078%\u0064",_cefbf ._fbdb ,_cefbf ._effde ,len (_ebde ),len (_ebcb ));_fc .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0043\u006f\u006c\u0073\u003a\u0020\u0025\u002b\u0076",_ebde );_fc .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0052\u006f\u0077\u0073\u003a\u0020\u0025\u002b\u0076",_ebcb );};for _eeca ,_fggdf :=range _ebcb {for _ecdb ,_bbgc :=range _ebde {_ggde :=_cefbf .get (_bbgc ,_fggdf );if _ggde ==nil {continue ;};if _afbd {_a .Printf ("\u0020 \u0025\u0032\u0064\u002c \u0025\u0032\u0064\u0020\u0028%\u0032d\u002c \u0025\u0032\u0064\u0029\u0020\u0025\u0071\n",_ecdb ,_eeca ,_bbgc ,_fggdf ,_fafa (_ggde .text (),50));};_gdcea .put (_ecdb ,_eeca ,_ggde );};};return &_gdcea ;};func _bgfa (_bedf *wordBag ,_eagb *textWord ,_ffdc float64 )bool {return _eagb .Llx < _bedf .Urx +_ffdc &&_bedf .Llx -_ffdc < _eagb .Urx ;};func (_dfeaa compositeCell )parasBBox ()(paraList ,_ca .PdfRectangle ){return _dfeaa .paraList ,_dfeaa .PdfRectangle ;};func (_bfbd paraList )llyRange (_bgbg []int ,_gdfa ,_aeag float64 )[]int {_afab :=len (_bfbd );if _aeag < _bfbd [_bgbg [0]].Lly ||_gdfa > _bfbd [_bgbg [_afab -1]].Lly {return nil ;};_gbea :=_fg .Search (_afab ,func (_fgaf int )bool {return _bfbd [_bgbg [_fgaf ]].Lly >=_gdfa });_ggca :=_fg .Search (_afab ,func (_eaaff int )bool {return _bfbd [_bgbg [_eaaff ]].Lly > _aeag });return _bgbg [_gbea :_ggca ];};func (_agfdc *textTable )computeBbox ()_ca .PdfRectangle {var _fbgff _ca .PdfRectangle ;_cebfa :=false ;for _ebeaa :=0;_ebeaa < _agfdc ._effde ;_ebeaa ++{for _ggeb :=0;_ggeb < _agfdc ._fbdb ;_ggeb ++{_eegf :=_agfdc .get (_ggeb ,_ebeaa );if _eegf ==nil {continue ;};if !_cebfa {_fbgff =_eegf .PdfRectangle ;_cebfa =true ;}else {_fbgff =_dgacd (_fbgff ,_eegf .PdfRectangle );};};};return _fbgff ;};func _acgd (_dbcc ,_bbdg bounded )float64 {_cge :=_bcbd (_dbcc ,_bbdg );if !_adabg (_cge ){return _cge ;};return _gcdf (_dbcc ,_bbdg );};

// ExtractPageImages returns the image contents of the page extractor, including data
// and position, size information for each image.
// A set of options to control page image extraction can be passed in. The options
// parameter can be nil for the default options. By default, inline stencil masks
// are not extracted.
func (_ceb *Extractor )ExtractPageImages (options *ImageExtractOptions )(*PageImages ,error ){_df :=&imageExtractContext {_bdg :options };_ge :=_df .extractContentStreamImages (_ceb ._ag ,_ceb ._ae );if _ge !=nil {return nil ,_ge ;};return &PageImages {Images :_df ._ef },nil ;};func (_bgfbe paraList )findGridTables (_ceeac []gridTiling )[]*textTable {if _afbd {_fc .Log .Info ("\u0066i\u006e\u0064\u0047\u0072\u0069\u0064\u0054\u0061\u0062\u006c\u0065s\u003a\u0020\u0025\u0064\u0020\u0070\u0061\u0072\u0061\u0073",len (_bgfbe ));for _gaecd ,_ffbd :=range _bgfbe {_a .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_gaecd ,_ffbd );};};var _aeafg []*textTable ;for _cafa ,_ecddc :=range _ceeac {_cgacg ,_afcfe :=_bgfbe .findTableGrid (_ecddc );if _cgacg !=nil {_cgacg .log (_a .Sprintf ("\u0066\u0069\u006e\u0064Ta\u0062\u006c\u0065\u0057\u0069\u0074\u0068\u0047\u0072\u0069\u0064\u0073\u003a\u0020%\u0064",_cafa ));_aeafg =append (_aeafg ,_cgacg );_cgacg .markCells ();};for _eaec :=range _afcfe {_eaec ._bcecf =true ;};};if _afbd {_fc .Log .Info ("\u0066i\u006e\u0064\u0047\u0072i\u0064\u0054\u0061\u0062\u006ce\u0073:\u0020%\u0064\u0020\u0074\u0061\u0062\u006c\u0065s",len (_aeafg ));};return _aeafg ;};func _gadd (_aebb []TextMark ,_eec *int ,_dcfb string )[]TextMark {_bfbfd :=_cfgf ;_bfbfd .Text =_dcfb ;return _bfea (_aebb ,_eec ,_bfbfd );};const _da =20;func (_bbfc *textLine )endsInHyphen ()bool {_aeaf :=_bbfc ._gggb [len (_bbfc ._gggb )-1];_bdcda :=_aeaf ._degca ;_afcd ,_gadf :=_fa .DecodeLastRuneInString (_bdcda );if _gadf <=0||!_d .Is (_d .Hyphen ,_afcd ){return false ;};if _aeaf ._abgde &&_fdcc (_bdcda ){return true ;};return _fdcc (_bbfc .text ());};const _affg =10;func (_ffc *imageExtractContext )extractXObjectImage (_gce *_gc .PdfObjectName ,_cbdd _bbg .GraphicsState ,_fd *_ca .PdfPageResources )error {_feef ,_ :=_fd .GetXObjectByName (*_gce );if _feef ==nil {return nil ;};_dc ,_cf :=_ffc ._aed [_feef ];if !_cf {_egd ,_gcc :=_fd .GetXObjectImageByName (*_gce );if _gcc !=nil {return _gcc ;};if _egd ==nil {return nil ;};_gfc ,_gcc :=_egd .ToImage ();if _gcc !=nil {return _gcc ;};_dc =&cachedImage {_afd :_gfc ,_bg :_egd .ColorSpace };_ffc ._aed [_feef ]=_dc ;};_ege :=_dc ._afd ;_gcd :=_dc ._bg ;_bea ,_eaeg :=_gcd .ImageToRGB (*_ege );if _eaeg !=nil {return _eaeg ;};_fc .Log .Debug ("@\u0044\u006f\u0020\u0043\u0054\u004d\u003a\u0020\u0025\u0073",_cbdd .CTM .String ());_cbc :=ImageMark {Image :&_bea ,Width :_cbdd .CTM .ScalingFactorX (),Height :_cbdd .CTM .ScalingFactorY (),Angle :_cbdd .CTM .Angle ()};_cbc .X ,_cbc .Y =_cbdd .CTM .Translation ();_ffc ._ef =append (_ffc ._ef ,_cbc );_ffc ._ee ++;return nil ;};func (_ecd rulingList )connections (_efff map[int ]intSet ,_fegafa int )intSet {_acge :=make (intSet );_gdfd :=make (intSet );var _dcgf func (int );_dcgf =func (_dccbe int ){if !_gdfd .has (_dccbe ){_gdfd .add (_dccbe );for _aefe :=range _ecd {if _efff [_aefe ].has (_dccbe ){_acge .add (_aefe );};};for _fecf :=range _ecd {if _acge .has (_fecf ){_dcgf (_fecf );};};};};_dcgf (_fegafa );return _acge ;};func (_gdfbg rulingList )splitSec ()[]rulingList {_fg .Slice (_gdfbg ,func (_fabb ,_aadff int )bool {_ccada ,_gbaff :=_gdfbg [_fabb ],_gdfbg [_aadff ];if _ccada ._fdag !=_gbaff ._fdag {return _ccada ._fdag < _gbaff ._fdag ;};return _ccada ._bcbfge < _gbaff ._bcbfge ;});_bdeg :=make (map[*ruling ]struct{},len (_gdfbg ));_baff :=func (_ffeec *ruling )rulingList {_bdgbb :=rulingList {_ffeec };_bdeg [_ffeec ]=struct{}{};for _ ,_eeec :=range _gdfbg {if _ ,_bgfb :=_bdeg [_eeec ];_bgfb {continue ;};for _ ,_bdfcc :=range _bdgbb {if _eeec .alignsSec (_bdfcc ){_bdgbb =append (_bdgbb ,_eeec );_bdeg [_eeec ]=struct{}{};break ;};};};return _bdgbb ;};_fdcec :=[]rulingList {_baff (_gdfbg [0])};for _ ,_affgc :=range _gdfbg [1:]{if _ ,_dbcb :=_bdeg [_affgc ];_dbcb {continue ;};_fdcec =append (_fdcec ,_baff (_affgc ));};return _fdcec ;};func (_geaa lineRuling )yMean ()float64 {return 0.5*(_geaa ._aae .Y +_geaa ._dabc .Y )};func (_aaffc rulingList )merge ()*ruling {_feeb :=_aaffc [0]._bbba ;_geage :=_aaffc [0]._fdag ;_fbebc :=_aaffc [0]._bcbfge ;for _ ,_feega :=range _aaffc [1:]{_feeb +=_feega ._bbba ;if _feega ._fdag < _geage {_geage =_feega ._fdag ;};if _feega ._bcbfge > _fbebc {_fbebc =_feega ._bcbfge ;};};_fbcg :=&ruling {_adeg :_aaffc [0]._adeg ,_gccd :_aaffc [0]._gccd ,Color :_aaffc [0].Color ,_bbba :_feeb /float64 (len (_aaffc )),_fdag :_geage ,_bcbfge :_fbebc };if _abde {_fc .Log .Info ("\u006de\u0072g\u0065\u003a\u0020\u0025\u0032d\u0020\u0076e\u0063\u0073\u0020\u0025\u0073",len (_aaffc ),_fbcg );for _cfcb ,_dbdcc :=range _aaffc {_a .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_cfcb ,_dbdcc );};};return _fbcg ;};func (_daf *textObject )moveText (_bcb ,_fbc float64 ){_daf .moveLP (_bcb ,_fbc )};func _abcb (_bdcg map[int ][]float64 )[]int {_beec :=make ([]int ,len (_bdcg ));_cdgga :=0;for _cecf :=range _bdcg {_beec [_cdgga ]=_cecf ;_cdgga ++;};_fg .Ints (_beec );return _beec ;};func (_bbca *textTable )logComposite (_facc string ){if !_afbd {return ;};_fc .Log .Info ("\u007e~\u007eP\u0061\u0072\u0061\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0073",_bbca ._fbdb ,_bbca ._effde ,_facc );_a .Printf ("\u0025\u0035\u0073 \u007c","");for _gfbg :=0;_gfbg < _bbca ._fbdb ;_gfbg ++{_a .Printf ("\u0025\u0033\u0064 \u007c",_gfbg );};_a .Println ("");_a .Printf ("\u0025\u0035\u0073 \u002b","");for _edbg :=0;_edbg < _bbca ._fbdb ;_edbg ++{_a .Printf ("\u0025\u0033\u0073 \u002b","\u002d\u002d\u002d");};_a .Println ("");for _gbee :=0;_gbee < _bbca ._effde ;_gbee ++{_a .Printf ("\u0025\u0035\u0064 \u007c",_gbee );for _gacdc :=0;_gacdc < _bbca ._fbdb ;_gacdc ++{_bcega ,_ :=_bbca ._febee [_acfb (_gacdc ,_gbee )].parasBBox ();_a .Printf ("\u0025\u0033\u0064 \u007c",len (_bcega ));};_a .Println ("");};_fc .Log .Info ("\u007e~\u007eT\u0065\u0078\u0074\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0073",_bbca ._fbdb ,_bbca ._effde ,_facc );_a .Printf ("\u0025\u0035\u0073 \u007c","");for _edafc :=0;_edafc < _bbca ._fbdb ;_edafc ++{_a .Printf ("\u0025\u0031\u0032\u0064\u0020\u007c",_edafc );};_a .Println ("");_a .Printf ("\u0025\u0035\u0073 \u002b","");for _bafdf :=0;_bafdf < _bbca ._fbdb ;_bafdf ++{_a .Print ("\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d-\u002d\u002d\u002d\u002b");};_a .Println ("");for _ggbfd :=0;_ggbfd < _bbca ._effde ;_ggbfd ++{_a .Printf ("\u0025\u0035\u0064 \u007c",_ggbfd );for _fdeb :=0;_fdeb < _bbca ._fbdb ;_fdeb ++{_ccadd ,_ :=_bbca ._febee [_acfb (_fdeb ,_ggbfd )].parasBBox ();_fdfd :="";_cadag :=_ccadd .merge ();if _cadag !=nil {_fdfd =_cadag .text ();};_fdfd =_a .Sprintf ("\u0025\u0071",_fafa (_fdfd ,12));_fdfd =_fdfd [1:len (_fdfd )-1];_a .Printf ("\u0025\u0031\u0032\u0073\u0020\u007c",_fdfd );};_a .Println ("");};};func (_gdge *textObject )getFontDirect (_cfaf string )(*_ca .PdfFont ,error ){_aca ,_deg :=_gdge .getFontDict (_cfaf );if _deg !=nil {return nil ,_deg ;};_dac ,_deg :=_ca .NewPdfFontFromPdfObject (_aca );if _deg !=nil {_fc .Log .Debug ("\u0067\u0065\u0074\u0046\u006f\u006e\u0074\u0044\u0069\u0072\u0065\u0063\u0074\u003a\u0020\u004e\u0065\u0077Pd\u0066F\u006f\u006e\u0074\u0046\u0072\u006f\u006d\u0050\u0064\u0066\u004f\u0062j\u0065\u0063\u0074\u0020\u0066\u0061\u0069\u006c\u0065\u0064\u002e\u0020\u006e\u0061\u006d\u0065\u003d%\u0023\u0071\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_cfaf ,_deg );};return _dac ,_deg ;};const (_dfcg =false ;_fgaa =false ;_gff =false ;_ccgb =false ;_fgbc =false ;_eadc =false ;_aeed =false ;_bgeg =false ;_fdd =_bgeg &&true ;_cagd =_fdd &&false ;_ccde =_bgeg &&true ;_afbd =false ;_dccab =_afbd &&false ;_gcfc =_afbd &&true ;_egbc =false ;_dcb =_egbc &&false ;_abde =_egbc &&false ;_gdfb =_egbc &&true ;_faba =_egbc &&false ;_deac =_egbc &&false ;);func (_caag *textTable )bbox ()_ca .PdfRectangle {return _caag .PdfRectangle };type pathSection struct{_caf []*subpath ;_be .Color ;};func _fdfgf (_bbbc ,_cadd float64 )bool {return _bbbc /_fe .Max (_fggb ,_cadd )< _cedba };func (_bebc rectRuling )asRuling ()(*ruling ,bool ){_cedf :=ruling {_adeg :_bebc ._cfgc ,Color :_bebc .Color ,_gccd :_aeff };switch _bebc ._cfgc {case _aefbb :_cedf ._bbba =0.5*(_bebc .Llx +_bebc .Urx );_cedf ._fdag =_bebc .Lly ;_cedf ._bcbfge =_bebc .Ury ;_ffaae ,_fefc :=_bebc .checkWidth (_bebc .Llx ,_bebc .Urx );if !_fefc {if _faba {_fc .Log .Error ("\u0072\u0065\u0063\u0074\u0052\u0075l\u0069\u006e\u0067\u002e\u0061\u0073\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0072\u0075\u006c\u0069\u006e\u0067V\u0065\u0072\u0074\u0020\u0021\u0063\u0068\u0065\u0063\u006b\u0057\u0069\u0064\u0074h\u0020v\u003d\u0025\u002b\u0076",_bebc );};return nil ,false ;};_cedf ._agec =_ffaae ;case _cdab :_cedf ._bbba =0.5*(_bebc .Lly +_bebc .Ury );_cedf ._fdag =_bebc .Llx ;_cedf ._bcbfge =_bebc .Urx ;_gada ,_ecfc :=_bebc .checkWidth (_bebc .Lly ,_bebc .Ury );if !_ecfc {if _faba {_fc .Log .Error ("\u0072\u0065\u0063\u0074\u0052\u0075l\u0069\u006e\u0067\u002e\u0061\u0073\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0072\u0075\u006c\u0069\u006e\u0067H\u006f\u0072\u007a\u0020\u0021\u0063\u0068\u0065\u0063\u006b\u0057\u0069\u0064\u0074h\u0020v\u003d\u0025\u002b\u0076",_bebc );};return nil ,false ;};_cedf ._agec =_gada ;default:_fc .Log .Error ("\u0062\u0061\u0064\u0020pr\u0069\u006d\u0061\u0072\u0079\u0020\u006b\u0069\u006e\u0064\u003d\u0025\u0064",_bebc ._cfgc );return nil ,false ;};return &_cedf ,true ;};func _bcbd (_cbb ,_cegg bounded )float64 {return _fcea (_cbb )-_fcea (_cegg )};type cachedImage struct{_afd *_ca .Image ;_bg _ca .PdfColorspace ;};func _efbbb (_cedbcg []_gc .PdfObject )(_cagdc ,_abdg float64 ,_ddfg error ){if len (_cedbcg )!=2{return 0,0,_a .Errorf ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0070\u0061\u0072\u0061\u006d\u0073\u003a \u0025\u0064",len (_cedbcg ));};_dadd ,_ddfg :=_gc .GetNumbersAsFloat (_cedbcg );if _ddfg !=nil {return 0,0,_ddfg ;};return _dadd [0],_dadd [1],nil ;};type ruling struct{_adeg rulingKind ;_gccd markKind ;_be .Color ;_bbba float64 ;_fdag float64 ;_bcbfge float64 ;_agec float64 ;};func (_bcgb *wordBag )blocked (_gbf *textWord )bool {if _gbf .Urx < _bcgb .Llx {_acdb :=_eacc (_gbf .PdfRectangle );_gba :=_gaff (_bcgb .PdfRectangle );if _bcgb ._gddg .blocks (_acdb ,_gba ){if _deac {_fc .Log .Info ("\u0062\u006c\u006f\u0063ke\u0064\u0020\u2190\u0078\u003a\u0020\u0025\u0073\u0020\u0025\u0073",_gbf ,_bcgb );};return true ;};}else if _bcgb .Urx < _gbf .Llx {_fcfd :=_eacc (_bcgb .PdfRectangle );_cae :=_gaff (_gbf .PdfRectangle );if _bcgb ._gddg .blocks (_fcfd ,_cae ){if _deac {_fc .Log .Info ("b\u006co\u0063\u006b\u0065\u0064\u0020\u0078\u2192\u0020:\u0020\u0025\u0073\u0020%s",_gbf ,_bcgb );};return true ;};};if _gbf .Ury < _bcgb .Lly {_facd :=_faag (_gbf .PdfRectangle );_acba :=_gcbgc (_bcgb .PdfRectangle );if _bcgb ._afdd .blocks (_facd ,_acba ){if _deac {_fc .Log .Info ("\u0062\u006c\u006f\u0063ke\u0064\u0020\u2190\u0079\u003a\u0020\u0025\u0073\u0020\u0025\u0073",_gbf ,_bcgb );};return true ;};}else if _bcgb .Ury < _gbf .Lly {_eda :=_faag (_bcgb .PdfRectangle );_edfa :=_gcbgc (_gbf .PdfRectangle );if _bcgb ._afdd .blocks (_eda ,_edfa ){if _deac {_fc .Log .Info ("b\u006co\u0063\u006b\u0065\u0064\u0020\u0079\u2192\u0020:\u0020\u0025\u0073\u0020%s",_gbf ,_bcgb );};return true ;};};return false ;};func (_egcdd *textTable )putComposite (_cdbg ,_febb int ,_bddec paraList ,_eedc _ca .PdfRectangle ){if len (_bddec )==0{_fc .Log .Error ("\u0074\u0065xt\u0054\u0061\u0062l\u0065\u0029\u0020\u0070utC\u006fmp\u006f\u0073\u0069\u0074\u0065\u003a\u0020em\u0070\u0074\u0079\u0020\u0070\u0061\u0072a\u0073");return ;};_bcfeg :=compositeCell {_eedc ,_bddec };if _afbd {_a .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0070\u0075\u0074\u0043\u006f\u006d\u0070o\u0073i\u0074\u0065\u0028\u0025\u0064\u002c\u0025\u0064\u0029\u003c\u002d\u0025\u0073\u000a",_cdbg ,_febb ,_bcfeg .String ());};_bcfeg .updateBBox ();_egcdd ._febee [_acfb (_cdbg ,_febb )]=_bcfeg ;};type textLine struct{_ca .PdfRectangle ;_gggd float64 ;_gggb []*textWord ;_gbcd float64 ;};func _baagg (_acce ,_aeaeg int )int {if _acce > _aeaeg {return _acce ;};return _aeaeg ;};func (_gceba rulingList )toGrids ()[]rulingList {if _egbc {_fc .Log .Info ("t\u006f\u0047\u0072\u0069\u0064\u0073\u003a\u0020\u0025\u0073",_gceba );};_cdgg :=_gceba .intersections ();if _egbc {_fc .Log .Info ("\u0074\u006f\u0047r\u0069\u0064\u0073\u003a \u0076\u0065\u0063\u0073\u003d\u0025\u0064 \u0069\u006e\u0074\u0065\u0072\u0073\u0065\u0063\u0074\u0073\u003d\u0025\u0064\u0020",len (_gceba ),len (_cdgg ));for _ ,_fggaa :=range _gffc (_cdgg ){_a .Printf ("\u00254\u0064\u003a\u0020\u0025\u002b\u0076\n",_fggaa ,_cdgg [_fggaa ]);};};_fdecb :=make (map[int ]intSet ,len (_gceba ));for _dgacf :=range _gceba {_abae :=_gceba .connections (_cdgg ,_dgacf );if len (_abae )> 0{_fdecb [_dgacf ]=_abae ;};};if _egbc {_fc .Log .Info ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u0063\u006fn\u006e\u0065\u0063\u0074s=\u0025\u0064",len (_fdecb ));for _ ,_ffda :=range _gffc (_fdecb ){_a .Printf ("\u00254\u0064\u003a\u0020\u0025\u002b\u0076\n",_ffda ,_fdecb [_ffda ]);};};_agafa :=_becb (len (_gceba ),func (_gfcg ,_fded int )bool {_aabgf ,_fadd :=len (_fdecb [_gfcg ]),len (_fdecb [_fded ]);if _aabgf !=_fadd {return _aabgf > _fadd ;};return _gceba .comp (_gfcg ,_fded );});if _egbc {_fc .Log .Info ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u006f\u0072d\u0065\u0072\u0069\u006eg=\u0025\u0076",_agafa );};_caca :=[][]int {{_agafa [0]}};_aeedf :for _ ,_ddeb :=range _agafa [1:]{for _dcfd ,_cfba :=range _caca {for _ ,_dfcc :=range _cfba {if _fdecb [_dfcc ].has (_ddeb ){_caca [_dcfd ]=append (_cfba ,_ddeb );continue _aeedf ;};};};_caca =append (_caca ,[]int {_ddeb });};if _egbc {_fc .Log .Info ("\u0074o\u0047r\u0069\u0064\u0073\u003a\u0020i\u0067\u0072i\u0064\u0073\u003d\u0025\u0076",_caca );};_fg .SliceStable (_caca ,func (_gbac ,_eedeb int )bool {return len (_caca [_gbac ])> len (_caca [_eedeb ])});for _ ,_bbbac :=range _caca {_fg .Slice (_bbbac ,func (_dgbbe ,_beebf int )bool {return _gceba .comp (_bbbac [_dgbbe ],_bbbac [_beebf ])});};_cccg :=make ([]rulingList ,len (_caca ));for _debd ,_aecaf :=range _caca {_eaaa :=make (rulingList ,len (_aecaf ));for _bccda ,_ggee :=range _aecaf {_eaaa [_bccda ]=_gceba [_ggee ];};_cccg [_debd ]=_eaaa ;};if _egbc {_fc .Log .Info ("\u0074o\u0047r\u0069\u0064\u0073\u003a\u0020g\u0072\u0069d\u0073\u003d\u0025\u002b\u0076",_cccg );};var _cfagg []rulingList ;for _ ,_dagfa :=range _cccg {if _efee ,_aegd :=_dagfa .isActualGrid ();_aegd {_dagfa =_efee ;_dagfa =_dagfa .snapToGroups ();_cfagg =append (_cfagg ,_dagfa );};};if _egbc {_aafd ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u0061\u0063t\u0075\u0061\u006c\u0047ri\u0064\u0073",_cfagg );_fc .Log .Info ("\u0074\u006f\u0047\u0072\u0069\u0064\u0073\u003a\u0020\u0067\u0072\u0069\u0064\u0073\u003d%\u0064 \u0061\u0063\u0074\u0075\u0061\u006c\u0047\u0072\u0069\u0064\u0073\u003d\u0025\u0064",len (_cccg ),len (_cfagg ));};return _cfagg ;};func _ddce (_agce float64 )int {var _cedb int ;if _agce >=0{_cedb =int (_agce /_gedg );}else {_cedb =int (_agce /_gedg )-1;};return _cedb ;};func (_edge *textObject )setTextMatrix (_fad []float64 ){if len (_fad )!=6{_fc .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u006c\u0065\u006e\u0028\u0066\u0029\u0020\u0021\u003d\u0020\u0036\u0020\u0028\u0025\u0064\u0029",len (_fad ));return ;};_ceaf ,_feg ,_bffb ,_efgd ,_fef ,_bbga :=_fad [0],_fad [1],_fad [2],_fad [3],_fad [4],_fad [5];_edge ._baeg =_c .NewMatrix (_ceaf ,_feg ,_bffb ,_efgd ,_fef ,_bbga );_edge ._fdg =_edge ._baeg ;};func (_dafa rulingList )asTiling ()gridTiling {if _gdfb {_fc .Log .Info ("r\u0075\u006ci\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0076\u0065\u0063s\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u002b\u002b\u002b\u0020\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d",len (_dafa ));};for _bgfcd ,_fbccd :=range _dafa [1:]{_gfgc :=_dafa [_bgfcd ];if _gfgc .alignsPrimary (_fbccd )&&_gfgc .alignsSec (_fbccd ){_fc .Log .Error ("a\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0044\u0075\u0070\u006c\u0069\u0063\u0061\u0074\u0065 \u0072\u0075\u006c\u0069\u006e\u0067\u0073\u002e\u000a\u0009v=\u0025\u0073\u000a\t\u0077=\u0025\u0073",_fbccd ,_gfgc );};};_dafa .sortStrict ();_dafa .log ("\u0073n\u0061\u0070\u0070\u0065\u0064");_babb ,_edgbe :=_dafa .vertsHorzs ();_eggce :=_babb .primaries ();_ccdf :=_edgbe .primaries ();_eeb :=len (_eggce )-1;_bggd :=len (_ccdf )-1;if _eeb ==0||_bggd ==0{return gridTiling {};};_cgcd :=_ca .PdfRectangle {Llx :_eggce [0],Urx :_eggce [_eeb ],Lly :_ccdf [0],Ury :_ccdf [_bggd ]};if _gdfb {_fc .Log .Info ("\u0072\u0075l\u0069\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0076\u0065\u0072\u0074s=\u0025\u0064",len (_babb ));for _gbcg ,_bbed :=range _babb {_a .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_gbcg ,_bbed );};_fc .Log .Info ("\u0072\u0075l\u0069\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0068\u006f\u0072\u007as=\u0025\u0064",len (_edgbe ));for _gfagf ,_bdbf :=range _edgbe {_a .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_gfagf ,_bdbf );};_fc .Log .Info ("\u0072\u0075\u006c\u0069\u006eg\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067:\u0020\u0020\u0077\u0078\u0068\u003d\u0025\u0064\u0078\u0025\u0064\u000a\u0009\u006c\u006c\u0078\u003d\u0025\u002e\u0032\u0066\u000a\u0009\u006c\u006c\u0079\u003d\u0025\u002e\u0032f",_eeb ,_bggd ,_eggce ,_ccdf );};_aadbd :=make ([]gridTile ,_eeb *_bggd );for _fbgdf :=_bggd -1;_fbgdf >=0;_fbgdf --{_gfgcf :=_ccdf [_fbgdf ];_dcdb :=_ccdf [_fbgdf +1];for _dagg :=0;_dagg < _eeb ;_dagg ++{_cegcd :=_eggce [_dagg ];_efdg :=_eggce [_dagg +1];_bbfg :=_babb .findPrimSec (_cegcd ,_gfgcf );_efafe :=_babb .findPrimSec (_efdg ,_gfgcf );_dabbg :=_edgbe .findPrimSec (_gfgcf ,_cegcd );_gbff :=_edgbe .findPrimSec (_dcdb ,_cegcd );_aedfe :=_ca .PdfRectangle {Llx :_cegcd ,Urx :_efdg ,Lly :_gfgcf ,Ury :_dcdb };_cgff :=_aabc (_aedfe ,_bbfg ,_efafe ,_dabbg ,_gbff );_aadbd [_fbgdf *_eeb +_dagg ]=_cgff ;if _gdfb {_a .Printf ("\u0020\u0020\u0078\u003d\u0025\u0032\u0064\u0020\u0079\u003d\u0025\u0032\u0064\u003a\u0020%\u0073 \u0025\u0036\u002e\u0032\u0066\u0020\u0078\u0020\u0025\u0036\u002e\u0032\u0066\u000a",_dagg ,_fbgdf ,_cgff .String (),_cgff .Width (),_cgff .Height ());};};};if _gdfb {_fc .Log .Info ("r\u0075\u006c\u0069\u006e\u0067\u004c\u0069\u0073\u0074.\u0061\u0073\u0054\u0069\u006c\u0069\u006eg:\u0020\u0063\u006f\u0061l\u0065\u0073\u0063\u0065\u0020\u0068\u006f\u0072\u0069zo\u006e\u0074a\u006c\u002e\u0020\u0025\u0036\u002e\u0032\u0066",_cgcd );};_abedg :=make ([]map[float64 ]gridTile ,_bggd );for _abbd :=_bggd -1;_abbd >=0;_abbd --{if _gdfb {_a .Printf ("\u0020\u0020\u0079\u003d\u0025\u0032\u0064\u000a",_abbd );};_abedg [_abbd ]=make (map[float64 ]gridTile ,_eeb );for _ebef :=0;_ebef < _eeb ;_ebef ++{_eabbe :=_aadbd [_abbd *_eeb +_ebef ];if _gdfb {_a .Printf ("\u0020\u0020\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_ebef ,_eabbe );};if !_eabbe ._acfdf {continue ;};_dcga :=_ebef ;for _gfdc :=_ebef +1;!_eabbe ._baab &&_gfdc < _eeb ;_gfdc ++{_dffaa :=_aadbd [_abbd *_eeb +_gfdc ];_eabbe .Urx =_dffaa .Urx ;_eabbe ._afabc =_eabbe ._afabc ||_dffaa ._afabc ;_eabbe ._agaa =_eabbe ._agaa ||_dffaa ._agaa ;_eabbe ._baab =_dffaa ._baab ;if _gdfb {_a .Printf ("\u0020 \u0020%\u0034\u0064\u003a\u0020\u0025s\u0020\u2192 \u0025\u0073\u000a",_gfdc ,_dffaa ,_eabbe );};_dcga =_gfdc ;};if _gdfb {_a .Printf (" \u0020 \u0025\u0032\u0064\u0020\u002d\u0020\u0025\u0032d\u0020\u2192\u0020\u0025s\n",_ebef ,_dcga ,_eabbe );};_ebef =_dcga ;_abedg [_abbd ][_eabbe .Llx ]=_eabbe ;};};_ddag :=make (map[float64 ]map[float64 ]gridTile ,_bggd );_bbgfb :=make (map[float64 ]map[float64 ]struct{},_bggd );for _dbeac :=_bggd -1;_dbeac >=0;_dbeac --{_abbf :=_aadbd [_dbeac *_eeb ].Lly ;_ddag [_abbf ]=make (map[float64 ]gridTile ,_eeb );_bbgfb [_abbf ]=make (map[float64 ]struct{},_eeb );};if _gdfb {_fc .Log .Info ("\u0072u\u006c\u0069n\u0067\u004c\u0069s\u0074\u002e\u0061\u0073\u0054\u0069\u006ci\u006e\u0067\u003a\u0020\u0063\u006fa\u006c\u0065\u0073\u0063\u0065\u0020\u0076\u0065\u0072\u0074\u0069c\u0061\u006c\u002e\u0020\u0025\u0036\u002e\u0032\u0066",_cgcd );};for _ccba :=_bggd -1;_ccba >=0;_ccba --{_aag :=_aadbd [_ccba *_eeb ].Lly ;_ddec :=_abedg [_ccba ];if _gdfb {_a .Printf ("\u0020\u0020\u0079\u003d\u0025\u0032\u0064\u000a",_ccba );};for _ ,_fbgf :=range _ebdf (_ddec ){if _ ,_cfbd :=_bbgfb [_aag ][_fbgf ];_cfbd {continue ;};_dcdg :=_ddec [_fbgf ];if _gdfb {_a .Printf (" \u0020\u0020\u0020\u0020\u0076\u0030\u003d\u0025\u0073\u000a",_dcdg .String ());};for _fcgcb :=_ccba -1;_fcgcb >=0;_fcgcb --{if _dcdg ._agaa {break ;};_bbbb :=_abedg [_fcgcb ];_cbcec ,_fadc :=_bbbb [_fbgf ];if !_fadc {break ;};if _cbcec .Urx !=_dcdg .Urx {break ;};_dcdg ._agaa =_cbcec ._agaa ;_dcdg .Lly =_cbcec .Lly ;if _gdfb {_a .Printf ("\u0020\u0020\u0020\u0020  \u0020\u0020\u0076\u003d\u0025\u0073\u0020\u0076\u0030\u003d\u0025\u0073\u000a",_cbcec .String (),_dcdg .String ());};_bbgfb [_cbcec .Lly ][_cbcec .Llx ]=struct{}{};};if _ccba ==0{_dcdg ._agaa =true ;};if _dcdg .complete (){_ddag [_aag ][_fbgf ]=_dcdg ;};};};_ggdf :=gridTiling {PdfRectangle :_cgcd ,_fcecc :_ceae (_ddag ),_fabe :_ebge (_ddag ),_bgfcf :_ddag };_ggdf .log ("\u0043r\u0065\u0061\u0074\u0065\u0064");return _ggdf ;};func (_dcfc rulingList )bbox ()_ca .PdfRectangle {var _dgafc _ca .PdfRectangle ;if len (_dcfc )==0{_fc .Log .Error ("r\u0075\u006c\u0069\u006e\u0067\u004ci\u0073\u0074\u002e\u0062\u0062\u006f\u0078\u003a\u0020n\u006f\u0020\u0072u\u006ci\u006e\u0067\u0073");return _ca .PdfRectangle {};};if _dcfc [0]._adeg ==_cdab {_dgafc .Llx ,_dgafc .Urx =_dcfc .secMinMax ();_dgafc .Lly ,_dgafc .Ury =_dcfc .primMinMax ();}else {_dgafc .Llx ,_dgafc .Urx =_dcfc .primMinMax ();_dgafc .Lly ,_dgafc .Ury =_dcfc .secMinMax ();};return _dgafc ;};func (_gffg *textPara )writeCellText (_gdegd _f .Writer ){for _bbeb ,_dbged :=range _gffg ._bgga {_cadg :=_dbged .text ();_ffgf :=_ffbc &&_dbged .endsInHyphen ()&&_bbeb !=len (_gffg ._bgga )-1;if _ffgf {_cadg =_ebdb (_cadg );};_gdegd .Write ([]byte (_cadg ));if !(_ffgf ||_bbeb ==len (_gffg ._bgga )-1){_gdegd .Write ([]byte (_gbdc (_dbged ._gggd ,_gffg ._bgga [_bbeb +1]._gggd )));};};};type fontEntry struct{_ebf *_ca .PdfFont ;_ecbg int64 ;};func _ccgff (_ccddf map[int ][]float64 )string {_feag :=_abcb (_ccddf );_eefd :=make ([]string ,len (_ccddf ));for _bccbc ,_abeag :=range _feag {_eefd [_bccbc ]=_a .Sprintf ("\u0025\u0064\u003a\u0020\u0025\u002e\u0032\u0066",_abeag ,_ccddf [_abeag ]);};return _a .Sprintf ("\u007b\u0025\u0073\u007d",_g .Join (_eefd ,"\u002c\u0020"));};func (_bcac *textLine )appendWord (_abdd *textWord ){_bcac ._gggb =append (_bcac ._gggb ,_abdd );_bcac .PdfRectangle =_dgacd (_bcac .PdfRectangle ,_abdd .PdfRectangle );if _abdd ._feeea > _bcac ._gbcd {_bcac ._gbcd =_abdd ._feeea ;};if _abdd ._bccba > _bcac ._gggd {_bcac ._gggd =_abdd ._bccba ;};};func (_aabcf paraList )extractTables (_gdcg []gridTiling )paraList {if _afbd {_fc .Log .Debug ("\u0065\u0078\u0074r\u0061\u0063\u0074\u0054\u0061\u0062\u006c\u0065\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_aabcf ));};if len (_aabcf )< _bccb {return _aabcf ;};_adca :=_aabcf .findTables (_gdcg );if _afbd {_fc .Log .Info ("c\u006f\u006d\u0062\u0069\u006e\u0065d\u0020\u0074\u0061\u0062\u006c\u0065s\u0020\u0025\u0064\u0020\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d",len (_adca ));for _afge ,_agadb :=range _adca {_agadb .log (_a .Sprintf ("c\u006f\u006d\u0062\u0069\u006e\u0065\u0064\u0020\u0025\u0064",_afge ));};};return _aabcf .applyTables (_adca );};func (_gfda *compositeCell )updateBBox (){for _ ,_eecf :=range _gfda .paraList {_gfda .PdfRectangle =_dgacd (_gfda .PdfRectangle ,_eecf .PdfRectangle );};};func (_eaadf *wordBag )applyRemovals (_gfcb map[int ]map[*textWord ]struct{}){for _dfea ,_bdaeg :=range _gfcb {if len (_bdaeg )==0{continue ;};_aeaa :=_eaadf ._eedgg [_dfea ];_dbedf :=len (_aeaa )-len (_bdaeg );if _dbedf ==0{delete (_eaadf ._eedgg ,_dfea );continue ;};_fgd :=make ([]*textWord ,_dbedf );_cec :=0;for _ ,_dcgb :=range _aeaa {if _ ,_dgeb :=_bdaeg [_dcgb ];!_dgeb {_fgd [_cec ]=_dcgb ;_cec ++;};};_eaadf ._eedgg [_dfea ]=_fgd ;};};func _bdge (_bagdd ,_beacc _ca .PdfRectangle )bool {return _bagdd .Llx <=_beacc .Llx &&_beacc .Urx <=_bagdd .Urx &&_bagdd .Lly <=_beacc .Lly &&_beacc .Ury <=_bagdd .Ury ;};func (_aeebg intSet )add (_edcdf int ){_aeebg [_edcdf ]=struct{}{}};func (_cdadc rectRuling )checkWidth (_caga ,_fcge float64 )(float64 ,bool ){_fffa :=_fcge -_caga ;_bege :=_fffa <=_baac ;return _fffa ,_bege ;};func (_adgfd lineRuling )xMean ()float64 {return 0.5*(_adgfd ._aae .X +_adgfd ._dabc .X )};func (_bdfe rulingList )blocks (_cgbg ,_cfbg *ruling )bool {if _cgbg ._fdag > _cfbg ._bcbfge ||_cfbg ._fdag > _cgbg ._bcbfge {return false ;};_cggd :=_fe .Max (_cgbg ._fdag ,_cfbg ._fdag );_dafeg :=_fe .Min (_cgbg ._bcbfge ,_cfbg ._bcbfge );if _cgbg ._bbba > _cfbg ._bbba {_cgbg ,_cfbg =_cfbg ,_cgbg ;};for _ ,_cfffe :=range _bdfe {if _cgbg ._bbba <=_cfffe ._bbba +_baac &&_cfffe ._bbba <=_cfbg ._bbba +_baac &&_cfffe ._fdag <=_dafeg &&_cggd <=_cfffe ._bcbfge {return true ;};};return false ;};

// String returns a human readable description of `s`.
func (_eace intSet )String ()string {var _deaaa []int ;for _afga :=range _eace {if _eace .has (_afga ){_deaaa =append (_deaaa ,_afga );};};_fg .Ints (_deaaa );return _a .Sprintf ("\u0025\u002b\u0076",_deaaa );};func (_cggdd *textTable )log (_cdeda string ){if !_afbd {return ;};_fc .Log .Info ("~\u007e\u007e\u0020\u0025\u0073\u003a \u0025\u0064\u0020\u0078\u0020\u0025d\u0020\u0067\u0072\u0069\u0064\u003d\u0025t\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0025\u0036\u002e2\u0066",_cdeda ,_cggdd ._fbdb ,_cggdd ._effde ,_cggdd ._gagea ,_cggdd .PdfRectangle );for _abdde :=0;_abdde < _cggdd ._effde ;_abdde ++{for _ceeag :=0;_ceeag < _cggdd ._fbdb ;_ceeag ++{_baba :=_cggdd .get (_ceeag ,_abdde );if _baba ==nil {continue ;};_a .Printf ("%\u0034\u0064\u0020\u00252d\u003a \u0025\u0036\u002e\u0032\u0066 \u0025\u0071\u0020\u0025\u0064\u000a",_ceeag ,_abdde ,_baba .PdfRectangle ,_fafa (_baba .text (),50),_fa .RuneCountInString (_baba .text ()));};};};func (_bfegb paraList )yNeighbours (_egdc float64 )map[*textPara ][]int {_dbdd :=make ([]event ,2*len (_bfegb ));if _egdc ==0{for _eege ,_ffcbc :=range _bfegb {_dbdd [2*_eege ]=event {_ffcbc .Lly ,true ,_eege };_dbdd [2*_eege +1]=event {_ffcbc .Ury ,false ,_eege };};}else {for _egbaa ,_fccgg :=range _bfegb {_dbdd [2*_egbaa ]=event {_fccgg .Lly -_egdc *_fccgg .fontsize (),true ,_egbaa };_dbdd [2*_egbaa +1]=event {_fccgg .Ury +_egdc *_fccgg .fontsize (),false ,_egbaa };};};return _bfegb .eventNeighbours (_dbdd );};func (_bfa *textObject )setTextRise (_baee float64 ){if _bfa ==nil {return ;};_bfa ._baa ._fcde =_baee ;};const (_aaeg rulingKind =iota ;_cdab ;_aefbb ;);

// RangeOffset returns the TextMarks in `ma` that overlap text[start:end] in the extracted text.
// These are tm: `start` <= tm.Offset + len(tm.Text) && tm.Offset < `end` where
// `start` and `end` are offsets in the extracted text.
// NOTE: TextMarks can contain multiple characters. e.g. "ffi" for the ﬃ ligature so the first and
// last elements of the returned TextMarkArray may only partially overlap text[start:end].
func (_gegf *TextMarkArray )RangeOffset (start ,end int )(*TextMarkArray ,error ){if _gegf ==nil {return nil ,_bb .New ("\u006da\u003d\u003d\u006e\u0069\u006c");};if end < start {return nil ,_a .Errorf ("\u0065\u006e\u0064\u0020\u003c\u0020\u0073\u0074\u0061\u0072\u0074\u002e\u0020\u0052\u0061n\u0067\u0065\u004f\u0066\u0066\u0073\u0065\u0074\u0020\u006e\u006f\u0074\u0020d\u0065\u0066\u0069\u006e\u0065\u0064\u002e\u0020\u0073\u0074\u0061\u0072t=\u0025\u0064\u0020\u0065\u006e\u0064\u003d\u0025\u0064\u0020",start ,end );};_bfab :=len (_gegf ._bgebf );if _bfab ==0{return _gegf ,nil ;};if start < _gegf ._bgebf [0].Offset {start =_gegf ._bgebf [0].Offset ;};if end > _gegf ._bgebf [_bfab -1].Offset +1{end =_gegf ._bgebf [_bfab -1].Offset +1;};_adae :=_fg .Search (_bfab ,func (_ffg int )bool {return _gegf ._bgebf [_ffg ].Offset +len (_gegf ._bgebf [_ffg ].Text )-1>=start });if !(0<=_adae &&_adae < _bfab ){_fegf :=_a .Errorf ("\u004f\u0075\u0074\u0020\u006f\u0066\u0020\u0072\u0061\u006e\u0067\u0065\u002e\u0020\u0073\u0074\u0061\u0072\u0074\u003d%\u0064\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020\u006c\u0065\u006e\u003d\u0025\u0064\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025\u0076\u000a\u0009 \u006c\u0061\u0073\u0074\u003d%\u0076",start ,_adae ,_bfab ,_gegf ._bgebf [0],_gegf ._bgebf [_bfab -1]);return nil ,_fegf ;};_eabd :=_fg .Search (_bfab ,func (_cccb int )bool {return _gegf ._bgebf [_cccb ].Offset > end -1});if !(0<=_eabd &&_eabd < _bfab ){_gge :=_a .Errorf ("\u004f\u0075\u0074\u0020\u006f\u0066\u0020r\u0061\u006e\u0067e\u002e\u0020\u0065n\u0064\u003d%\u0064\u0020\u0069\u0045\u006e\u0064=\u0025d \u006c\u0065\u006e\u003d\u0025\u0064\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025\u0076\u000a\u0009\u0020\u006c\u0061\u0073\u0074\u003d\u0025\u0076",end ,_eabd ,_bfab ,_gegf ._bgebf [0],_gegf ._bgebf [_bfab -1]);return nil ,_gge ;};if _eabd <=_adae {return nil ,_a .Errorf ("\u0069\u0045\u006e\u0064\u0020\u003c=\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003a\u0020\u0073\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020\u0065\u006ed\u003d\u0025\u0064\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020i\u0045n\u0064\u003d\u0025\u0064",start ,end ,_adae ,_eabd );};return &TextMarkArray {_bgebf :_gegf ._bgebf [_adae :_eabd ]},nil ;};func _ecac (_gafcg ,_bagbc _c .Point )rulingKind {_eadb :=_fe .Abs (_gafcg .X -_bagbc .X );_ecfe :=_fe .Abs (_gafcg .Y -_bagbc .Y );return _cfdf (_eadb ,_ecfe ,_cedba );};

// String returns a description of `p`.
func (_ecgb *textPara )String ()string {if _ecgb ._dage {return _a .Sprintf ("\u0025\u0036\u002e\u0032\u0066\u0020\u005b\u0045\u004d\u0050\u0054\u0059\u005d",_ecgb .PdfRectangle );};_eaafb :="";if _ecgb ._eccf !=nil {_eaafb =_a .Sprintf ("\u005b\u0025\u0064\u0078\u0025\u0064\u005d\u0020",_ecgb ._eccf ._fbdb ,_ecgb ._eccf ._effde );};return _a .Sprintf ("\u0025\u0036\u002e\u0032f \u0025\u0073\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u0020\u0025\u0071",_ecgb .PdfRectangle ,_eaafb ,len (_ecgb ._bgga ),_fafa (_ecgb .text (),50));};func _gcaf (_bddeb float64 )bool {return _fe .Abs (_bddeb )< _baac };func _afdf (_cbgf string )bool {for _ ,_geef :=range _cbgf {if !_d .IsSpace (_geef ){return false ;};};return true ;};func _aafd (_ccfff string ,_gaec []rulingList ){_fc .Log .Info ("\u0024\u0024 \u0025\u0064\u0020g\u0072\u0069\u0064\u0073\u0020\u002d\u0020\u0025\u0073",len (_gaec ),_ccfff );for _ffba ,_caeb :=range _gaec {_a .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_ffba ,_caeb .String ());};};func _gab (_dbee _c .Matrix )_c .Point {_bfg ,_eaad :=_dbee .Translation ();return _c .Point {X :_bfg ,Y :_eaad };};func (_cggb *textObject )getFontDict (_bcea string )(_degd _gc .PdfObject ,_fdcg error ){_fadf :=_cggb ._bcec ;if _fadf ==nil {_fc .Log .Debug ("g\u0065\u0074\u0046\u006f\u006e\u0074D\u0069\u0063\u0074\u002e\u0020\u004eo\u0020\u0072\u0065\u0073\u006f\u0075\u0072c\u0065\u0073\u002e\u0020\u006e\u0061\u006d\u0065\u003d\u0025#\u0071",_bcea );return nil ,nil ;};_degd ,_fde :=_fadf .GetFontByName (_gc .PdfObjectName (_bcea ));if !_fde {_fc .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0067\u0065t\u0046\u006f\u006et\u0044\u0069\u0063\u0074\u003a\u0020\u0046\u006f\u006et \u006e\u006f\u0074 \u0066\u006fu\u006e\u0064\u003a\u0020\u006e\u0061m\u0065\u003d%\u0023\u0071",_bcea );return nil ,_bb .New ("f\u006f\u006e\u0074\u0020no\u0074 \u0069\u006e\u0020\u0072\u0065s\u006f\u0075\u0072\u0063\u0065\u0073");};return _degd ,nil ;};func _bbbg (_cfeae []*textMark ,_bbcd _ca .PdfRectangle )[]*textWord {var _ffgcb []*textWord ;var _acde *textWord ;_gbeaf :=func (){if _acde !=nil {_ddfe :=_acde .computeText ();if !_afdf (_ddfe ){_acde ._degca =_ddfe ;_ffgcb =append (_ffgcb ,_acde );if _dfcg {_fc .Log .Info ("\u0077o\u0072\u0064\u003d\u0025\u0073",_acde .String ());for _gfeb ,_egdfd :=range _acde ._ccbcf {_a .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_gfeb ,_egdfd .String ());};};};_acde =nil ;};};for _ ,_bcecc :=range _cfeae {if _ace &&_acde !=nil &&len (_acde ._ccbcf )> 0{_cacda :=_acde ._ccbcf [len (_acde ._ccbcf )-1];_bgcb ,_gdefe :=_gecf (_bcecc ._cfdg );_bbcb ,_dcegg :=_gecf (_cacda ._cfdg );if _gdefe &&!_dcegg &&_cacda .inDiacriticArea (_bcecc ){_acde .addDiacritic (_bgcb );continue ;};if _dcegg &&!_gdefe &&_bcecc .inDiacriticArea (_cacda ){_acde ._ccbcf =_acde ._ccbcf [:len (_acde ._ccbcf )-1];_acde .appendMark (_bcecc ,_bbcd );_acde .addDiacritic (_bbcb );continue ;};};_agecbc :=_afdf (_bcecc ._cfdg );if _agecbc {_gbeaf ();continue ;};if _acde ==nil &&!_agecbc {_acde =_cdaa ([]*textMark {_bcecc },_bbcd );continue ;};_caefe :=_acde ._feeea ;_fcfc :=_fe .Abs (_bcag (_bbcd ,_bcecc )-_acde ._bccba )/_caefe ;_dbeb :=_bbde (_bcecc ,_acde )/_caefe ;if _dbeb >=_bfabe ||!(-_egcd <=_dbeb &&_fcfc <=_eeag ){_gbeaf ();_acde =_cdaa ([]*textMark {_bcecc },_bbcd );continue ;};_acde .appendMark (_bcecc ,_bbcd );};_gbeaf ();return _ffgcb ;};func (_dbf paraList )toTextMarks ()[]TextMark {_bgc :=0;var _afbf []TextMark ;for _cfdc ,_befeg :=range _dbf {if _befeg ._dage {continue ;};_ffde :=_befeg .toTextMarks (&_bgc );_afbf =append (_afbf ,_ffde ...);if _cfdc !=len (_dbf )-1{if _cace (_befeg ,_dbf [_cfdc +1]){_afbf =_gadd (_afbf ,&_bgc ,"\u0020");}else {_afbf =_gadd (_afbf ,&_bgc ,"\u000a");_afbf =_gadd (_afbf ,&_bgc ,"\u000a");};};};_afbf =_gadd (_afbf ,&_bgc ,"\u000a");_afbf =_gadd (_afbf ,&_bgc ,"\u000a");return _afbf ;};func (_cdbb *textLine )pullWord (_edaf *wordBag ,_fcedg *textWord ,_decf int ){_cdbb .appendWord (_fcedg );_edaf .removeWord (_fcedg ,_decf );};

// TextMark represents extracted text on a page with information regarding both textual content,
// formatting (font and size) and positioning.
// It is the smallest unit of text on a PDF page, typically a single character.
//
// getBBox() in test_text.go shows how to compute bounding boxes of substrings of extracted text.
// The following code extracts the text on PDF page `page` into `text` then finds the bounding box
// `bbox` of substring `term` in `text`.
//
//     ex, _ := New(page)
//     // handle errors
//     pageText, _, _, err := ex.ExtractPageText()
//     // handle errors
//     text := pageText.Text()
//     textMarks := pageText.Marks()
//
//     	start := strings.Index(text, term)
//      end := start + len(term)
//      spanMarks, err := textMarks.RangeOffset(start, end)
//      // handle errors
//      bbox, ok := spanMarks.BBox()
//      // handle errors
type TextMark struct{

// Text is the extracted text.
Text string ;

// Original is the text in the PDF. It has not been decoded like `Text`.
Original string ;

// BBox is the bounding box of the text.
BBox _ca .PdfRectangle ;

// Font is the font the text was drawn with.
Font *_ca .PdfFont ;

// FontSize is the font size the text was drawn with.
FontSize float64 ;

// Offset is the offset of the start of TextMark.Text in the extracted text. If you do this
//   text, textMarks := pageText.Text(), pageText.Marks()
//   marks := textMarks.Elements()
// then marks[i].Offset is the offset of marks[i].Text in text.
Offset int ;

// Meta is set true for spaces and line breaks that we insert in the extracted text. We insert
// spaces (line breaks) when we see characters that are over a threshold horizontal (vertical)
//  distance  apart. See wordJoiner (lineJoiner) in PageText.computeViews().
Meta bool ;

// FillColor is the fill color of the text.
// The color is nil for spaces and line breaks (i.e. the Meta field is true).
FillColor _be .Color ;

// StrokeColor is the stroke color of the text.
// The color is nil for spaces and line breaks (i.e. the Meta field is true).
StrokeColor _be .Color ;

// Orientation is the text orientation
Orientation int ;};func (_eccde rulingList )vertsHorzs ()(rulingList ,rulingList ){var _bgda ,_cfeaf rulingList ;for _ ,_ebea :=range _eccde {switch _ebea ._adeg {case _aefbb :_bgda =append (_bgda ,_ebea );case _cdab :_cfeaf =append (_cfeaf ,_ebea );};};return _bgda ,_cfeaf ;};func (_dbaf *textPara )text ()string {_dgeg :=new (_gg .Buffer );_dbaf .writeText (_dgeg );return _dgeg .String ();};func (_gbbg *shapesState )stroke (_ebad *[]pathSection ){_abe :=pathSection {_caf :_gbbg ._bdgb ,Color :_gbbg ._dba .getStrokeColor ()};*_ebad =append (*_ebad ,_abe );if _egbc {_a .Printf ("\u0020 \u0020\u0020S\u0054\u0052\u004fK\u0045\u003a\u0020\u0025\u0064\u0020\u0073t\u0072\u006f\u006b\u0065\u0073\u0020s\u0073\u003d\u0025\u0073\u0020\u0063\u006f\u006c\u006f\u0072\u003d%\u002b\u0076\u0020\u0025\u0036\u002e\u0032\u0066\u000a",len (*_ebad ),_gbbg ,_gbbg ._dba .getStrokeColor (),_abe .bbox ());if _dcb {for _fab ,_dbeg :=range _gbbg ._bdgb {_a .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_fab ,_dbeg );if _fab ==10{break ;};};};};};func (_cgeg *textPara )writeText (_aacbc _f .Writer ){if _cgeg ._eccf ==nil {_cgeg .writeCellText (_aacbc );return ;};for _fdfb :=0;_fdfb < _cgeg ._eccf ._effde ;_fdfb ++{for _beea :=0;_beea < _cgeg ._eccf ._fbdb ;_beea ++{_fccg :=_cgeg ._eccf .get (_beea ,_fdfb );if _fccg ==nil {_aacbc .Write ([]byte ("\u0009"));}else {_fccg .writeCellText (_aacbc );};_aacbc .Write ([]byte ("\u0020"));};if _fdfb < _cgeg ._eccf ._effde -1{_aacbc .Write ([]byte ("\u000a"));};};};func (_accc compositeCell )hasLines (_bfcec []*textLine )bool {for _fdecd ,_gec :=range _bfcec {_gbce :=_bafb (_accc .PdfRectangle ,_gec .PdfRectangle );if _afbd {_a .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u005e\u005e\u005e\u0069\u006e\u0074\u0065\u0072\u0073e\u0063t\u0073\u003d\u0025\u0074\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064\u000a",_gbce ,_fdecd ,len (_bfcec ));_a .Printf ("\u0020\u0020\u0020\u0020  \u005e\u005e\u005e\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u003d\u0025s\u000a",_accc );_a .Printf ("\u0020 \u0020 \u0020\u0020\u0020\u006c\u0069\u006e\u0065\u003d\u0025\u0073\u000a",_gec );};if _gbce {return true ;};};return false ;};

// Append appends `mark` to the mark array.
func (_dgge *TextMarkArray )Append (mark TextMark ){_dgge ._bgebf =append (_dgge ._bgebf ,mark )};func (_ffdd *textTable )get (_fgfe ,_caec int )*textPara {return _ffdd ._ecfge [_acfb (_fgfe ,_caec )]};func (_gega rulingList )toTilings ()(rulingList ,[]gridTiling ){_gega .log ("\u0074o\u0054\u0069\u006c\u0069\u006e\u0067s");if len (_gega )==0{return nil ,nil ;};_gega =_gega .tidied ("\u0061\u006c\u006c");_gega .log ("\u0074\u0069\u0064\u0069\u0065\u0064");_cbbg :=_gega .toGrids ();_ccbf :=make ([]gridTiling ,len (_cbbg ));for _dgbbd ,_edfad :=range _cbbg {_ccbf [_dgbbd ]=_edfad .asTiling ();};return _gega ,_ccbf ;};func _beaf (_aecg *wordBag ,_bdcd int )*textLine {_cegc :=_aecg .firstWord (_bdcd );_ebbf :=textLine {PdfRectangle :_cegc .PdfRectangle ,_gbcd :_cegc ._feeea ,_gggd :_cegc ._bccba };_ebbf .pullWord (_aecg ,_cegc ,_bdcd );return &_ebbf ;};func _cfdf (_dfbe ,_bbdf ,_gdacb float64 )rulingKind {if _dfbe >=_gdacb &&_fdfgf (_bbdf ,_dfbe ){return _cdab ;};if _bbdf >=_gdacb &&_fdfgf (_dfbe ,_bbdf ){return _aefbb ;};return _aaeg ;};func (_caac rulingList )log (_ggda string ){if !_egbc {return ;};_fc .Log .Info ("\u0023\u0023\u0023\u0020\u0025\u0031\u0030\u0073\u003a\u0020\u0076\u0065c\u0073\u003d\u0025\u0073",_ggda ,_caac .String ());for _ddfce ,_effd :=range _caac {_a .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_ddfce ,_effd .String ());};};var _cega =map[rulingKind ]string {_aaeg :"\u006e\u006f\u006e\u0065",_cdab :"\u0068\u006f\u0072\u0069\u007a\u006f\u006e\u0074\u0061\u006c",_aefbb :"\u0076\u0065\u0072\u0074\u0069\u0063\u0061\u006c"};func _bgdfa (_dagc []pathSection )rulingList {_abebc (_dagc );if _egbc {_fc .Log .Info ("\u006d\u0061k\u0065\u0053\u0074\u0072\u006f\u006b\u0065\u0052\u0075\u006c\u0069\u006e\u0067\u0073\u003a\u0020\u0025\u0064\u0020\u0073\u0074\u0072ok\u0065\u0073",len (_dagc ));};var _dae rulingList ;for _ ,_adbf :=range _dagc {for _ ,_bgec :=range _adbf ._caf {if len (_bgec ._deaf )< 2{continue ;};_bdda :=_bgec ._deaf [0];for _ ,_ebcd :=range _bgec ._deaf [1:]{if _babec ,_ceac :=_cdbd (_bdda ,_ebcd ,_adbf .Color );_ceac {_dae =append (_dae ,_babec );};_bdda =_ebcd ;};};};if _egbc {_fc .Log .Info ("m\u0061\u006b\u0065\u0053tr\u006fk\u0065\u0052\u0075\u006c\u0069n\u0067\u0073\u003a\u0020\u0025\u0073",_dae );};return _dae ;};func (_gdef *textLine )toTextMarks (_aeec *int )[]TextMark {var _gdgd []TextMark ;for _ ,_cdef :=range _gdef ._gggb {if _cdef ._abgde {_gdgd =_gadd (_gdgd ,_aeec ,"\u0020");};_cgdcc :=_cdef .toTextMarks (_aeec );_gdgd =append (_gdgd ,_cgdcc ...);};return _gdgd ;};type markKind int ;func (_ffbac rulingList )mergePrimary ()float64 {_acdbb :=_ffbac [0]._bbba ;for _ ,_fdfbg :=range _ffbac [1:]{_acdbb +=_fdfbg ._bbba ;};return _acdbb /float64 (len (_ffbac ));};func (_fcaf rulingList )snapToGroups ()rulingList {_egbb ,_dggg :=_fcaf .vertsHorzs ();if len (_egbb )> 0{_egbb =_egbb .snapToGroupsDirection ();};if len (_dggg )> 0{_dggg =_dggg .snapToGroupsDirection ();};_bcace :=append (_egbb ,_dggg ...);_bcace .log ("\u0073\u006e\u0061p\u0054\u006f\u0047\u0072\u006f\u0075\u0070\u0073");return _bcace ;};func (_bfge *textPara )fontsize ()float64 {return _bfge ._bgga [0]._gbcd };func _bbde (_cdad ,_fdfg bounded )float64 {return _cdad .bbox ().Llx -_fdfg .bbox ().Urx };func (_aeagd paraList )xNeighbours (_aabd float64 )map[*textPara ][]int {_cabg :=make ([]event ,2*len (_aeagd ));if _aabd ==0{for _geadc ,_gaeae :=range _aeagd {_cabg [2*_geadc ]=event {_gaeae .Llx ,true ,_geadc };_cabg [2*_geadc +1]=event {_gaeae .Urx ,false ,_geadc };};}else {for _dgbbc ,_daba :=range _aeagd {_cabg [2*_dgbbc ]=event {_daba .Llx -_aabd *_daba .fontsize (),true ,_dgbbc };_cabg [2*_dgbbc +1]=event {_daba .Urx +_aabd *_daba .fontsize (),false ,_dgbbc };};};return _aeagd .eventNeighbours (_cabg );};func (_dfgad *textTable )compositeColCorridors ()map[int ][]float64 {_gagb :=make (map[int ][]float64 ,_dfgad ._fbdb );if _afbd {_fc .Log .Info ("\u0063\u006f\u006d\u0070o\u0073\u0069\u0074\u0065\u0043\u006f\u006c\u0043\u006f\u0072r\u0069d\u006f\u0072\u0073\u003a\u0020\u0077\u003d%\u0064\u0020",_dfgad ._fbdb );};for _fdfe :=0;_fdfe < _dfgad ._fbdb ;_fdfe ++{_gagb [_fdfe ]=nil ;};return _gagb ;};

// RenderMode specifies the text rendering mode (Tmode), which determines whether showing text shall cause
// glyph outlines to be  stroked, filled, used as a clipping boundary, or some combination of the three.
// Stroking, filling, and clipping shall have the same effects for a text object as they do for a path object
// (see 8.5.3, "Path-Painting Operators" and 8.5.4, "Clipping Path Operators").
type RenderMode int ;func _feecb (_cgd *wordBag ,_daaa *textWord ,_cfaa float64 )bool {return _cgd .Urx <=_daaa .Llx &&_daaa .Llx < _cgd .Urx +_cfaa ;};func (_cdaf paraList )merge ()*textPara {_fc .Log .Trace ("\u006d\u0065\u0072\u0067\u0065:\u0020\u0070\u0061\u0072\u0061\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_cdaf ));if len (_cdaf )==0{return nil ;};_cdaf .sortReadingOrder ();_dccfa :=_cdaf [0].PdfRectangle ;_bgbc :=_cdaf [0]._bgga ;for _ ,_cfae :=range _cdaf [1:]{_dccfa =_dgacd (_dccfa ,_cfae .PdfRectangle );_bgbc =append (_bgbc ,_cfae ._bgga ...);};return _bddb (_dccfa ,_bgbc );};func _edaad (_ddecb *PageText )error {_geefc :=_fcc .GetLicenseKey ();if _geefc !=nil &&_geefc .IsLicensed ()||_cg {return nil ;};_a .Printf ("\u0055\u006e\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0064\u0020c\u006f\u0070\u0079\u0020\u006f\u0066\u0020\u0055\u006e\u0069P\u0044\u0046\u000a");_a .Println ("-\u0020\u0047\u0065\u0074\u0020\u0061\u0020\u0066\u0072e\u0065\u0020\u0074\u0072\u0069\u0061\u006c l\u0069\u0063\u0065\u006es\u0065\u0020\u006f\u006e\u0020\u0068\u0074\u0074\u0070s:\u002f\u002fu\u006e\u0069\u0064\u006f\u0063\u002e\u0069\u006f");return _bb .New ("\u0075\u006e\u0069\u0070d\u0066\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0020c\u006fd\u0065\u0020\u0072\u0065\u0071\u0075\u0069r\u0065\u0064");};func (_fgeb *textObject )setTextLeading (_fcdc float64 ){if _fgeb ==nil {return ;};_fgeb ._baa ._cdce =_fcdc ;};func _efab (_bfaea _ca .PdfColorspace ,_gdged _ca .PdfColor )_be .Color {if _bfaea ==nil ||_gdged ==nil {return _be .Black ;};_ccbbc ,_faac :=_bfaea .ColorToRGB (_gdged );if _faac !=nil {_fc .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006fu\u006c\u0064\u0020no\u0074\u0020\u0063\u006f\u006e\u0076e\u0072\u0074\u0020\u0063\u006f\u006c\u006f\u0072\u0020\u0025\u0076\u0020\u0028\u0025\u0076)\u0020\u0074\u006f\u0020\u0052\u0047\u0042\u003a \u0025\u0073",_gdged ,_bfaea ,_faac );return _be .Black ;};_agfc ,_cgdg :=_ccbbc .(*_ca .PdfColorDeviceRGB );if !_cgdg {_fc .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0065\u0064 \u0063\u006f\u006c\u006f\u0072\u0020\u0069\u0073\u0020\u006e\u006f\u0074\u0020i\u006e\u0020\u0074\u0068\u0065\u0020\u0052\u0047\u0042\u0020\u0063\u006flo\u0072\u0073\u0070\u0061\u0063\u0065\u003a\u0020\u0025\u0076",_ccbbc );return _be .Black ;};return _be .NRGBA {R :uint8 (_agfc .R ()*255),G :uint8 (_agfc .G ()*255),B :uint8 (_agfc .B ()*255),A :uint8 (255)};};func _gaff (_bgcgf _ca .PdfRectangle )*ruling {return &ruling {_adeg :_aefbb ,_bbba :_bgcgf .Llx ,_fdag :_bgcgf .Lly ,_bcbfge :_bgcgf .Ury };};func (_aacda *shapesState )clearPath (){_aacda ._bdgb =nil ;_aacda ._daff =false ;if _ccgb {_fc .Log .Info ("\u0043\u004c\u0045A\u0052\u003a\u0020\u0073\u0073\u003d\u0025\u0073",_aacda );};};func _eacc (_gfcfa _ca .PdfRectangle )*ruling {return &ruling {_adeg :_aefbb ,_bbba :_gfcfa .Urx ,_fdag :_gfcfa .Lly ,_bcbfge :_gfcfa .Ury };};func _ceeg (_dbbcc ,_dgfdf _c .Point )bool {_fbf :=_fe .Abs (_dbbcc .X -_dgfdf .X );_abafb :=_fe .Abs (_dbbcc .Y -_dgfdf .Y );return _fdfgf (_abafb ,_fbf );};func (_decg *textTable )subdivide ()*textTable {_decg .logComposite ("\u0073u\u0062\u0064\u0069\u0076\u0069\u0064e");_aeddf :=_decg .compositeRowCorridors ();_afec :=_decg .compositeColCorridors ();if _afbd {_fc .Log .Info ("\u0073u\u0062\u0064i\u0076\u0069\u0064\u0065:\u000a\u0009\u0072o\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s=\u0025\u0073\u000a\t\u0063\u006fl\u0043\u006f\u0072\u0072\u0069\u0064o\u0072\u0073=\u0025\u0073",_ccgff (_aeddf ),_ccgff (_afec ));};if len (_aeddf )==0||len (_afec )==0{return _decg ;};_egdga (_aeddf );_egdga (_afec );if _afbd {_fc .Log .Info ("\u0073\u0075\u0062\u0064\u0069\u0076\u0069\u0064\u0065\u0020\u0066\u0069\u0078\u0065\u0064\u003a\u000a\u0009r\u006f\u0077\u0043\u006f\u0072\u0072\u0069d\u006f\u0072\u0073\u003d\u0025\u0073\u000a\u0009\u0063\u006f\u006cC\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u003d\u0025\u0073",_ccgff (_aeddf ),_ccgff (_afec ));};_fdbc ,_ebgg :=_adcd (_decg ._effde ,_aeddf );_ebfdf ,_ebac :=_adcd (_decg ._fbdb ,_afec );_gddd :=make (map[uint64 ]*textPara ,_ebac *_ebgg );_agdf :=&textTable {PdfRectangle :_decg .PdfRectangle ,_gagea :_decg ._gagea ,_effde :_ebgg ,_fbdb :_ebac ,_ecfge :_gddd };if _afbd {_fc .Log .Info ("\u0073\u0075b\u0064\u0069\u0076\u0069\u0064\u0065\u003a\u0020\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u0020\u003d\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u0020\u0063\u0065\u006c\u006c\u0073\u003d\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u000a"+"\u0009\u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s\u003d\u0025\u0073\u000a"+"\u0009\u0063\u006f\u006c\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s\u003d\u0025\u0073\u000a"+"\u0009\u0079\u004f\u0066\u0066\u0073\u0065\u0074\u0073=\u0025\u002b\u0076\u000a"+"\u0009\u0078\u004f\u0066\u0066\u0073\u0065\u0074\u0073\u003d\u0025\u002b\u0076",_decg ._fbdb ,_decg ._effde ,_ebac ,_ebgg ,_ccgff (_aeddf ),_ccgff (_afec ),_fdbc ,_ebfdf );};for _acae :=0;_acae < _decg ._effde ;_acae ++{_bfdae :=_fdbc [_acae ];for _eeaaf :=0;_eeaaf < _decg ._fbdb ;_eeaaf ++{_eaca :=_ebfdf [_eeaaf ];if _afbd {_a .Printf ("\u0025\u0036\u0064\u002c %\u0032\u0064\u003a\u0020\u0078\u0030\u003d\u0025\u0064\u0020\u0079\u0030\u003d\u0025d\u000a",_eeaaf ,_acae ,_eaca ,_bfdae );};_dbeec ,_fdab :=_decg ._febee [_acfb (_eeaaf ,_acae )];if !_fdab {continue ;};_ggbf :=_dbeec .split (_aeddf [_acae ],_afec [_eeaaf ]);for _fggag :=0;_fggag < _ggbf ._effde ;_fggag ++{for _dfggg :=0;_dfggg < _ggbf ._fbdb ;_dfggg ++{_fefa :=_ggbf .get (_dfggg ,_fggag );_agdf .put (_eaca +_dfggg ,_bfdae +_fggag ,_fefa );if _afbd {_a .Printf ("\u0025\u0038\u0064\u002c\u0020\u0025\u0032\u0064\u003a\u0020\u0025\u0073\u000a",_eaca +_dfggg ,_bfdae +_fggag ,_fefa );};};};};};return _agdf ;};func (_afff *textObject )showTextAdjusted (_ffcf *_gc .PdfObjectArray )error {_fea :=false ;for _ ,_dfg :=range _ffcf .Elements (){switch _dfg .(type ){case *_gc .PdfObjectFloat ,*_gc .PdfObjectInteger :_def ,_afeb :=_gc .GetNumberAsFloat (_dfg );if _afeb !=nil {_fc .Log .Debug ("\u0045\u0052\u0052\u004fR\u003a\u0020\u0073\u0068\u006f\u0077\u0054\u0065\u0078t\u0041\u0064\u006a\u0075\u0073\u0074\u0065\u0064\u002e\u0020\u0042\u0061\u0064\u0020\u006e\u0075\u006d\u0065r\u0069\u0063\u0061\u006c\u0020a\u0072\u0067\u002e\u0020\u006f\u003d\u0025\u0073\u0020\u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_dfg ,_ffcf );return _afeb ;};_agb ,_ddd :=-_def *0.001*_afff ._baa ._ccbe ,0.0;if _fea {_ddd ,_agb =_agb ,_ddd ;};_egeg :=_ccf (_c .Point {X :_agb ,Y :_ddd });_afff ._baeg .Concat (_egeg );case *_gc .PdfObjectString :_cbe ,_afffd :=_gc .GetStringBytes (_dfg );if !_afffd {_fc .Log .Trace ("s\u0068\u006f\u0077\u0054\u0065\u0078\u0074\u0041\u0064j\u0075\u0073\u0074\u0065\u0064\u003a\u0020Ba\u0064\u0020\u0073\u0074r\u0069\u006e\u0067\u0020\u0061\u0072\u0067\u002e\u0020o=\u0025\u0073 \u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_dfg ,_ffcf );return _gc .ErrTypeError ;};_afff .renderText (_cbe );default:_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0073\u0068\u006f\u0077\u0054\u0065\u0078\u0074A\u0064\u006a\u0075\u0073\u0074\u0065\u0064\u002e\u0020\u0055\u006e\u0065\u0078p\u0065\u0063\u0074\u0065\u0064\u0020\u0074\u0079\u0070\u0065\u0020\u0028%T\u0029\u0020\u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_dfg ,_ffcf );return _gc .ErrTypeError ;};};return nil ;};func (_gcca gridTile )contains (_adbe _ca .PdfRectangle )bool {if _gcca .numBorders ()< 3{return false ;};if _gcca ._acfdf &&_adbe .Llx < _gcca .Llx -_ffab {return false ;};if _gcca ._baab &&_adbe .Urx > _gcca .Urx +_ffab {return false ;};if _gcca ._agaa &&_adbe .Lly < _gcca .Lly -_ffab {return false ;};if _gcca ._afabc &&_adbe .Ury > _gcca .Ury +_ffab {return false ;};return true ;};

// String returns a string describing `tm`.
func (_cfac TextMark )String ()string {_fgecf :=_cfac .BBox ;var _dddf string ;if _cfac .Font !=nil {_dddf =_cfac .Font .String ();if len (_dddf )> 50{_dddf =_dddf [:50]+"\u002e\u002e\u002e";};};var _gdab string ;if _cfac .Meta {_gdab ="\u0020\u002a\u004d\u002a";};return _a .Sprintf ("\u007b\u0054\u0065\u0078t\u004d\u0061\u0072\u006b\u003a\u0020\u0025\u0064\u0020%\u0071\u003d\u0025\u0030\u0032\u0078\u0020\u0028\u0025\u0036\u002e\u0032\u0066\u002c\u0020\u0025\u0036\u002e2\u0066\u0029\u0020\u0028\u00256\u002e\u0032\u0066\u002c\u0020\u0025\u0036\u002e\u0032\u0066\u0029\u0020\u0025\u0073\u0025\u0073\u007d",_cfac .Offset ,_cfac .Text ,[]rune (_cfac .Text ),_fgecf .Llx ,_fgecf .Lly ,_fgecf .Urx ,_fgecf .Ury ,_dddf ,_gdab );};func (_bgff *shapesState )drawRectangle (_dedf ,_fffd ,_eccc ,_aga float64 ){if _ccgb {_gbdd :=_bgff .devicePoint (_dedf ,_fffd );_aea :=_bgff .devicePoint (_dedf +_eccc ,_fffd +_aga );_abac :=_ca .PdfRectangle {Llx :_gbdd .X ,Lly :_gbdd .Y ,Urx :_aea .X ,Ury :_aea .Y };_fc .Log .Info ("d\u0072a\u0077\u0052\u0065\u0063\u0074\u0061\u006e\u0067l\u0065\u003a\u0020\u00256.\u0032\u0066",_abac );};_bgff .newSubPath ();_bgff .moveTo (_dedf ,_fffd );_bgff .lineTo (_dedf +_eccc ,_fffd );_bgff .lineTo (_dedf +_eccc ,_fffd +_aga );_bgff .lineTo (_dedf ,_fffd +_aga );_bgff .closePath ();};func (_gfaf *textObject )newTextMark (_ddgd string ,_dbcf _c .Matrix ,_cbaf _c .Point ,_bgfg float64 ,_afa *_ca .PdfFont ,_gfaea float64 ,_gdfga ,_faec _be .Color )(textMark ,bool ){_deag :=_dbcf .Angle ();_befg :=_cce (_deag ,_gage );var _egac float64 ;if _befg %180!=90{_egac =_dbcf .ScalingFactorY ();}else {_egac =_dbcf .ScalingFactorX ();};_aacf :=_gab (_dbcf );_fcead :=_ca .PdfRectangle {Llx :_aacf .X ,Lly :_aacf .Y ,Urx :_cbaf .X ,Ury :_cbaf .Y };switch _befg %360{case 90:_fcead .Urx -=_egac ;case 180:_fcead .Ury -=_egac ;case 270:_fcead .Urx +=_egac ;case 0:_fcead .Ury +=_egac ;default:_befg =0;_fcead .Ury +=_egac ;};if _fcead .Llx > _fcead .Urx {_fcead .Llx ,_fcead .Urx =_fcead .Urx ,_fcead .Llx ;};if _fcead .Lly > _fcead .Ury {_fcead .Lly ,_fcead .Ury =_fcead .Ury ,_fcead .Lly ;};_gcfb ,_gagd :=_ccfa (_fcead ,_gfaf ._gede ._bdb );if !_gagd {_fc .Log .Debug ("\u0054\u0065\u0078\u0074\u0020m\u0061\u0072\u006b\u0020\u006f\u0075\u0074\u0073\u0069\u0064\u0065\u0020\u0070a\u0067\u0065\u002e\u0020\u0062\u0062\u006f\u0078\u003d\u0025\u0067\u0020\u006d\u0065\u0064\u0069\u0061\u0042\u006f\u0078\u003d\u0025\u0067\u0020\u0074\u0065\u0078\u0074\u003d\u0025q",_fcead ,_gfaf ._gede ._bdb ,_ddgd );};_fcead =_gcfb ;_bfdg :=_fcead ;_gfba :=_gfaf ._gede ._bdb ;switch _befg %360{case 90:_gfba .Urx ,_gfba .Ury =_gfba .Ury ,_gfba .Urx ;_bfdg =_ca .PdfRectangle {Llx :_gfba .Urx -_fcead .Ury ,Urx :_gfba .Urx -_fcead .Lly ,Lly :_fcead .Llx ,Ury :_fcead .Urx };case 180:_bfdg =_ca .PdfRectangle {Llx :_gfba .Urx -_fcead .Llx ,Urx :_gfba .Urx -_fcead .Urx ,Lly :_gfba .Ury -_fcead .Lly ,Ury :_gfba .Ury -_fcead .Ury };case 270:_gfba .Urx ,_gfba .Ury =_gfba .Ury ,_gfba .Urx ;_bfdg =_ca .PdfRectangle {Llx :_fcead .Ury ,Urx :_fcead .Lly ,Lly :_gfba .Ury -_fcead .Llx ,Ury :_gfba .Ury -_fcead .Urx };};if _bfdg .Llx > _bfdg .Urx {_bfdg .Llx ,_bfdg .Urx =_bfdg .Urx ,_bfdg .Llx ;};if _bfdg .Lly > _bfdg .Ury {_bfdg .Lly ,_bfdg .Ury =_bfdg .Ury ,_bfdg .Lly ;};_cdbe :=textMark {_cfdg :_ddgd ,PdfRectangle :_bfdg ,_bfd :_fcead ,_fbeb :_afa ,_gacd :_egac ,_bffg :_gfaea ,_bedb :_dbcf ,_ggb :_cbaf ,_dbgg :_befg ,_fgfd :_gdfga ,_fdee :_faec };if _gff {_fc .Log .Info ("n\u0065\u0077\u0054\u0065\u0078\u0074M\u0061\u0072\u006b\u003a\u0020\u0073t\u0061\u0072\u0074\u003d\u0025\u002e\u0032f\u0020\u0065\u006e\u0064\u003d\u0025\u002e\u0032\u0066\u0020%\u0073",_aacf ,_cbaf ,_cdbe .String ());};return _cdbe ,_gagd ;};func (_afae paraList )inTile (_abbdd gridTile )paraList {var _cadf paraList ;for _ ,_cacef :=range _afae {if _abbdd .contains (_cacef .PdfRectangle ){_cadf =append (_cadf ,_cacef );};};if _afbd {_a .Printf ("\u0020 \u0020\u0069\u006e\u0054i\u006c\u0065\u003a\u0020\u0020%\u0073 \u0069n\u0073\u0069\u0064\u0065\u003d\u0025\u0064\n",_abbdd ,len (_cadf ));for _fgcg ,_cbfbc :=range _cadf {_a .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_fgcg ,_cbfbc );};_a .Println ("");};return _cadf ;};func _becb (_aaaee int ,_ebee func (int ,int )bool )[]int {_ffad :=make ([]int ,_aaaee );for _babag :=range _ffad {_ffad [_babag ]=_babag ;};_fg .Slice (_ffad ,func (_cbdbb ,_gdbe int )bool {return _ebee (_ffad [_cbdbb ],_ffad [_gdbe ])});return _ffad ;};func (_degdc *wordBag )highestWord (_edbe int ,_dgfd ,_fegaf float64 )*textWord {for _ ,_afdb :=range _degdc ._eedgg [_edbe ]{if _dgfd <=_afdb ._bccba &&_afdb ._bccba <=_fegaf {return _afdb ;};};return nil ;};func (_fgdb paraList )eventNeighbours (_bbfba []event )map[*textPara ][]int {_fg .Slice (_bbfba ,func (_cfaed ,_gdgg int )bool {_ggaf ,_dbbf :=_bbfba [_cfaed ],_bbfba [_gdgg ];_gcgca ,_bfaa :=_ggaf ._eecfe ,_dbbf ._eecfe ;if _gcgca !=_bfaa {return _gcgca < _bfaa ;};if _ggaf ._gbebd !=_dbbf ._gbebd {return _ggaf ._gbebd ;};return _cfaed < _gdgg ;});_gbfb :=make (map[int ]intSet );_fgab :=make (intSet );for _ ,_ggeec :=range _bbfba {if _ggeec ._gbebd {_gbfb [_ggeec ._ffbf ]=make (intSet );for _cbbd :=range _fgab {if _cbbd !=_ggeec ._ffbf {_gbfb [_ggeec ._ffbf ].add (_cbbd );_gbfb [_cbbd ].add (_ggeec ._ffbf );};};_fgab .add (_ggeec ._ffbf );}else {_fgab .del (_ggeec ._ffbf );};};_ccgc :=map[*textPara ][]int {};for _bedg ,_adaf :=range _gbfb {_bedd :=_fgdb [_bedg ];if len (_adaf )==0{_ccgc [_bedd ]=nil ;continue ;};_aaea :=make ([]int ,len (_adaf ));_bceb :=0;for _efbd :=range _adaf {_aaea [_bceb ]=_efbd ;_bceb ++;};_ccgc [_bedd ]=_aaea ;};return _ccgc ;};func _dfae (_gcff []*textWord ,_gafbd int )[]*textWord {_bedff :=len (_gcff );copy (_gcff [_gafbd :],_gcff [_gafbd +1:]);return _gcff [:_bedff -1];};func (_cfdgd *wordBag )arrangeText ()*textPara {_cfdgd .sort ();if _babe {_cfdgd .removeDuplicates ();};var _ffag []*textLine ;for _ ,_fade :=range _cfdgd .depthIndexes (){for !_cfdgd .empty (_fade ){_aecf :=_cfdgd .firstReadingIndex (_fade );_bfaf :=_cfdgd .firstWord (_aecf );_dgcg :=_beaf (_cfdgd ,_aecf );_bcga :=_bfaf ._feeea ;_eaba :=_bfaf ._bccba -_cbfc *_bcga ;_afeba :=_bfaf ._bccba +_cbfc *_bcga ;_gfaa :=_bada *_bcga ;_aedf :=_dade *_bcga ;_affb :for {var _dcba *textWord ;_dcdd :=0;for _ ,_afffe :=range _cfdgd .depthBand (_eaba ,_afeba ){_cgb :=_cfdgd .highestWord (_afffe ,_eaba ,_afeba );if _cgb ==nil {continue ;};_geadb :=_bbde (_cgb ,_dgcg ._gggb [len (_dgcg ._gggb )-1]);if _geadb < -_aedf {break _affb ;};if _geadb > _gfaa {continue ;};if _dcba !=nil &&_gcdf (_cgb ,_dcba )>=0{continue ;};_dcba =_cgb ;_dcdd =_afffe ;};if _dcba ==nil {break ;};_dgcg .pullWord (_cfdgd ,_dcba ,_dcdd );};_dgcg .markWordBoundaries ();_ffag =append (_ffag ,_dgcg );};};if len (_ffag )==0{return nil ;};_fg .Slice (_ffag ,func (_dcfadb ,_dfb int )bool {return _acgd (_ffag [_dcfadb ],_ffag [_dfb ])< 0});_bcgg :=_bddb (_cfdgd .PdfRectangle ,_ffag );if _bgeg {_fc .Log .Info ("\u0061\u0072\u0072an\u0067\u0065\u0054\u0065\u0078\u0074\u0020\u0021\u0021\u0021\u0020\u0070\u0061\u0072\u0061\u003d\u0025\u0073",_bcgg .String ());if _fdd {for _dfac ,_efbb :=range _bcgg ._bgga {_a .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_dfac ,_efbb .String ());if _cagd {for _bgefg ,_ffdb :=range _efbb ._gggb {_a .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_bgefg ,_ffdb .String ());for _bfda ,_fbee :=range _ffdb ._ccbcf {_a .Printf ("\u00251\u0032\u0064\u003a\u0020\u0025\u0073\n",_bfda ,_fbee .String ());};};};};};};return _bcgg ;};type subpath struct{_deaf []_c .Point ;_cgfa bool ;};func _adac (_defc []float64 ,_dgbbf ,_fdbaf float64 )[]float64 {_acgc ,_gggeb :=_dgbbf ,_fdbaf ;if _gggeb < _acgc {_acgc ,_gggeb =_gggeb ,_acgc ;};_agecb :=make ([]float64 ,0,len (_defc )+2);_agecb =append (_agecb ,_dgbbf );for _ ,_adf :=range _defc {if _adf <=_acgc {continue ;}else if _adf >=_gggeb {break ;};_agecb =append (_agecb ,_adf );};_agecb =append (_agecb ,_fdbaf );return _agecb ;};

// String returns a human readable description of `ss`.
func (_ebbdg *shapesState )String ()string {return _a .Sprintf ("\u007b\u0025\u0064\u0020su\u0062\u0070\u0061\u0074\u0068\u0073\u0020\u0066\u0072\u0065\u0073\u0068\u003d\u0025t\u007d",len (_ebbdg ._bdgb ),_ebbdg ._daff );};func _eabf (_begf ,_gbaf bounded )float64 {_dcgef :=_gcdf (_begf ,_gbaf );if !_adabg (_dcgef ){return _dcgef ;};return _bcbd (_begf ,_gbaf );};func (_dbfa rulingList )sortStrict (){_fg .Slice (_dbfa ,func (_feea ,_fcff int )bool {_fcbg ,_abddd :=_dbfa [_feea ],_dbfa [_fcff ];_ggfb ,_dcce :=_fcbg ._adeg ,_abddd ._adeg ;if _ggfb !=_dcce {return _ggfb > _dcce ;};_fdfge ,_dcff :=_fcbg ._bbba ,_abddd ._bbba ;if !_adabg (_fdfge -_dcff ){return _fdfge < _dcff ;};_fdfge ,_dcff =_fcbg ._fdag ,_abddd ._fdag ;if _fdfge !=_dcff {return _fdfge < _dcff ;};return _fcbg ._bcbfge < _abddd ._bcbfge ;});};func _aabc (_egdf _ca .PdfRectangle ,_ebdd ,_ebdbd ,_aedg ,_bbaa *ruling )gridTile {_feadb :=_egdf .Llx ;_cfce :=_egdf .Urx ;_aagc :=_egdf .Lly ;_fgdf :=_egdf .Ury ;return gridTile {PdfRectangle :_egdf ,_acfdf :_ebdd !=nil &&_ebdd .encloses (_aagc ,_fgdf ),_baab :_ebdbd !=nil &&_ebdbd .encloses (_aagc ,_fgdf ),_agaa :_aedg !=nil &&_aedg .encloses (_feadb ,_cfce ),_afabc :_bbaa !=nil &&_bbaa .encloses (_feadb ,_cfce )};};func (_cdeg *textWord )toTextMarks (_geebb *int )[]TextMark {var _ececb []TextMark ;for _ ,_fbcb :=range _cdeg ._ccbcf {_ececb =_bfea (_ececb ,_geebb ,_fbcb .ToTextMark ());};return _ececb ;};func (_ddbg *wordBag )sort (){for _ ,_abfa :=range _ddbg ._eedgg {_fg .Slice (_abfa ,func (_fffb ,_acab int )bool {return _gcdf (_abfa [_fffb ],_abfa [_acab ])< 0});};};func (_bdbec *textTable )emptyRow (_fddb int )bool {for _fdac :=0;_fdac < _bdbec ._fbdb ;_fdac ++{_bgdde :=_bdbec .get (_fdac ,_fddb );if _bgdde !=nil &&_bgdde .text ()!=""{return false ;};};return true ;};func (_aaae *shapesState )cubicTo (_beacd ,_gefg ,_cfga ,_cded ,_bfce ,_cgc float64 ){if _ccgb {_fc .Log .Info ("\u0063\u0075\u0062\u0069\u0063\u0054\u006f\u003a");};_aaae .addPoint (_bfce ,_cgc );};func _ebdb (_baag string )string {_addg :=[]rune (_baag );return string (_addg [:len (_addg )-1])};func (_gfbc *textTable )reduceTiling (_gdddg gridTiling ,_gfbcf float64 )*textTable {_adebf :=make ([]int ,0,_gfbc ._effde );_ffac :=make ([]int ,0,_gfbc ._fbdb );_cfgd :=_gdddg ._fcecc ;_gcgb :=_gdddg ._fabe ;for _fcbdg :=0;_fcbdg < _gfbc ._effde ;_fcbdg ++{_gcce :=_fcbdg > 0&&_fe .Abs (_gcgb [_fcbdg -1]-_gcgb [_fcbdg ])< _gfbcf &&_gfbc .emptyRow (_fcbdg );if !_gcce {_adebf =append (_adebf ,_fcbdg );};};for _egcg :=0;_egcg < _gfbc ._fbdb ;_egcg ++{_gadaf :=_egcg < _gfbc ._fbdb -1&&_fe .Abs (_cfgd [_egcg +1]-_cfgd [_egcg ])< _gfbcf &&_gfbc .emptyColumn (_egcg );if !_gadaf {_ffac =append (_ffac ,_egcg );};};if len (_adebf )==_gfbc ._effde &&len (_ffac )==_gfbc ._fbdb {return _gfbc ;};_gbba :=textTable {_gagea :_gfbc ._gagea ,_fbdb :len (_ffac ),_effde :len (_adebf ),_febee :make (map[uint64 ]compositeCell ,len (_ffac )*len (_adebf ))};if _afbd {_fc .Log .Info ("\u0072\u0065\u0064\u0075c\u0065\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0025d\u0078%\u0064\u0020\u002d\u003e\u0020\u0025\u0064x\u0025\u0064",_gfbc ._fbdb ,_gfbc ._effde ,len (_ffac ),len (_adebf ));_fc .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0043\u006f\u006c\u0073\u003a\u0020\u0025\u002b\u0076",_ffac );_fc .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0052\u006f\u0077\u0073\u003a\u0020\u0025\u002b\u0076",_adebf );};for _dcee ,_cgdb :=range _adebf {for _babbc ,_bdaeb :=range _ffac {_cbcg ,_ecfeb :=_gfbc .getComposite (_bdaeb ,_cgdb );if len (_cbcg )==0{continue ;};if _afbd {_a .Printf ("\u0020 \u0025\u0032\u0064\u002c \u0025\u0032\u0064\u0020\u0028%\u0032d\u002c \u0025\u0032\u0064\u0029\u0020\u0025\u0071\n",_babbc ,_dcee ,_bdaeb ,_cgdb ,_fafa (_cbcg .merge ().text (),50));};_gbba .putComposite (_babbc ,_dcee ,_cbcg ,_ecfeb );};};return &_gbba ;};func (_adg *textObject )moveTextSetLeading (_fge ,_gbg float64 ){_adg ._baa ._cdce =-_gbg ;_adg .moveLP (_fge ,_gbg );};func _cace (_fgdd ,_agbf *textPara )bool {if _fgdd ._dage ||_agbf ._dage {return true ;};return _adabg (_fgdd .depth ()-_agbf .depth ());};func (_fcgd *subpath )clear (){*_fcgd =subpath {}};func _ccfa (_agef ,_dbge _ca .PdfRectangle )(_ca .PdfRectangle ,bool ){if !_bafb (_agef ,_dbge ){return _ca .PdfRectangle {},false ;};return _ca .PdfRectangle {Llx :_fe .Max (_agef .Llx ,_dbge .Llx ),Urx :_fe .Min (_agef .Urx ,_dbge .Urx ),Lly :_fe .Max (_agef .Lly ,_dbge .Lly ),Ury :_fe .Min (_agef .Ury ,_dbge .Ury )},true ;};

// ImageExtractOptions contains options for controlling image extraction from
// PDF pages.
type ImageExtractOptions struct{IncludeInlineStencilMasks bool ;};func (_gacbe paraList )findTables (_gcbd []gridTiling )[]*textTable {_gacbe .addNeighbours ();_fg .Slice (_gacbe ,func (_egfc ,_bbecb int )bool {return _eabf (_gacbe [_egfc ],_gacbe [_bbecb ])< 0});var _ecba []*textTable ;if _bde {_fabd :=_gacbe .findGridTables (_gcbd );_ecba =append (_ecba ,_fabd ...);};if _aaf {_aeaff :=_gacbe .findTextTables ();_ecba =append (_ecba ,_aeaff ...);};return _ecba ;};func (_fdbg *textPara )toTextMarks (_abeb *int )[]TextMark {if _fdbg ._eccf ==nil {return _fdbg .toCellTextMarks (_abeb );};var _gcbb []TextMark ;for _deab :=0;_deab < _fdbg ._eccf ._effde ;_deab ++{for _dged :=0;_dged < _fdbg ._eccf ._fbdb ;_dged ++{_cgfac :=_fdbg ._eccf .get (_dged ,_deab );if _cgfac ==nil {_gcbb =_gadd (_gcbb ,_abeb ,"\u0009");}else {_abfaf :=_cgfac .toCellTextMarks (_abeb );_gcbb =append (_gcbb ,_abfaf ...);};_gcbb =_gadd (_gcbb ,_abeb ,"\u0020");};if _deab < _fdbg ._eccf ._effde -1{_gcbb =_gadd (_gcbb ,_abeb ,"\u000a");};};return _gcbb ;};func _fdcc (_bcgd string )bool {if _fa .RuneCountInString (_bcgd )< _bdgf {return false ;};_gfcde ,_egca :=_fa .DecodeLastRuneInString (_bcgd );if _egca <=0||!_d .Is (_d .Hyphen ,_gfcde ){return false ;};_gfcde ,_egca =_fa .DecodeLastRuneInString (_bcgd [:len (_bcgd )-_egca ]);return _egca > 0&&!_d .IsSpace (_gfcde );};func (_baaab *textWord )appendMark (_fada *textMark ,_egbe _ca .PdfRectangle ){_baaab ._ccbcf =append (_baaab ._ccbcf ,_fada );_baaab .PdfRectangle =_dgacd (_baaab .PdfRectangle ,_fada .PdfRectangle );if _fada ._gacd > _baaab ._feeea {_baaab ._feeea =_fada ._gacd ;};_baaab ._bccba =_egbe .Ury -_baaab .PdfRectangle .Lly ;};func (_feecbe rulingList )intersections ()map[int ]intSet {var _ddedb ,_cbbb []int ;for _baad ,_bfde :=range _feecbe {switch _bfde ._adeg {case _aefbb :_ddedb =append (_ddedb ,_baad );case _cdab :_cbbb =append (_cbbb ,_baad );};};if len (_ddedb )< _dgaf +1||len (_cbbb )< _efed +1{return nil ;};if len (_ddedb )+len (_cbbb )> _adbc {_fc .Log .Debug ("\u0069\u006e\u0074\u0065\u0072\u0073e\u0063\u0074\u0069\u006f\u006e\u0073\u003a\u0020\u0054\u004f\u004f\u0020\u004d\u0041\u004e\u0059\u0020\u0072\u0075\u006ci\u006e\u0067\u0073\u0020\u0076\u0065\u0063\u0073\u003d\u0025\u0064\u0020\u003d\u0020%\u0064 \u0078\u0020\u0025\u0064",len (_feecbe ),len (_ddedb ),len (_cbbb ));return nil ;};_agbdf :=make (map[int ]intSet ,len (_ddedb )+len (_cbbb ));for _ ,_bbee :=range _ddedb {for _ ,_bfeg :=range _cbbb {if _feecbe [_bbee ].intersects (_feecbe [_bfeg ]){if _ ,_ebfd :=_agbdf [_bbee ];!_ebfd {_agbdf [_bbee ]=make (intSet );};if _ ,_ccda :=_agbdf [_bfeg ];!_ccda {_agbdf [_bfeg ]=make (intSet );};_agbdf [_bbee ].add (_bfeg );_agbdf [_bfeg ].add (_bbee );};};};return _agbdf ;};type textTable struct{_ca .PdfRectangle ;_fbdb ,_effde int ;_gagea bool ;_ecfge map[uint64 ]*textPara ;_febee map[uint64 ]compositeCell ;};

// TextMarkArray is a collection of TextMarks.
type TextMarkArray struct{_bgebf []TextMark };func (_geeb paraList )findTableGrid (_fffdb gridTiling )(*textTable ,map[*textPara ]struct{}){_gdfad :=len (_fffdb ._fcecc );_daag :=len (_fffdb ._fabe );_egda :=textTable {_gagea :true ,_fbdb :_gdfad ,_effde :_daag ,_ecfge :make (map[uint64 ]*textPara ,_gdfad *_daag ),_febee :make (map[uint64 ]compositeCell ,_gdfad *_daag )};_dfgf :=make (map[*textPara ]struct{});_afda :=int ((1.0-_efd )*float64 (_gdfad *_daag ));_cbabg :=0;if _gdfb {_fc .Log .Info ("\u0066\u0069\u006e\u0064Ta\u0062\u006c\u0065\u0047\u0072\u0069\u0064\u003a\u0020\u0025\u0064\u0020\u0078\u0020%\u0064",_gdfad ,_daag );};for _eefg ,_aede :=range _fffdb ._fabe {_aacc ,_badc :=_fffdb ._bgfcf [_aede ];if !_badc {continue ;};for _feaa ,_ccfb :=range _fffdb ._fcecc {_dbfb ,_edfb :=_aacc [_ccfb ];if !_edfb {continue ;};_bbgcd :=_geeb .inTile (_dbfb );if len (_bbgcd )==0{_cbabg ++;if _cbabg > _afda {if _gdfb {_fc .Log .Info ("\u0021\u006e\u0075m\u0045\u006d\u0070\u0074\u0079\u003d\u0025\u0064",_cbabg );};return nil ,nil ;};}else {_egda .putComposite (_feaa ,_eefg ,_bbgcd ,_dbfb .PdfRectangle );for _ ,_eacff :=range _bbgcd {_dfgf [_eacff ]=struct{}{};};};};};_ffgfa :=0;for _ffdcf :=0;_ffdcf < _gdfad ;_ffdcf ++{_agae :=_egda .get (_ffdcf ,0);if _agae ==nil ||!_agae ._dage {_ffgfa ++;};};if _ffgfa ==0{if _gdfb {_fc .Log .Info ("\u0021\u006e\u0075m\u0048\u0065\u0061\u0064\u0065\u0072\u003d\u0030");};return nil ,nil ;};_afedg :=_egda .reduceTiling (_fffdb ,_debe );_afedg =_afedg .subdivide ();return _afedg ,_dfgf ;};type stateStack []*textState ;func (_fdbba *shapesState )lineTo (_fec ,_fggd float64 ){if _ccgb {_fc .Log .Info ("\u006c\u0069\u006eeT\u006f\u0028\u0025\u002e\u0032\u0066\u002c\u0025\u002e\u0032\u0066\u0020\u0070\u003d\u0025\u002e\u0032\u0066",_fec ,_fggd ,_fdbba .devicePoint (_fec ,_fggd ));};_fdbba .addPoint (_fec ,_fggd );};

// ToText returns the page text as a single string.
// Deprecated: This function is deprecated and will be removed in a future major version. Please use
// Text() instead.
func (_ffb PageText )ToText ()string {return _ffb .Text ()};func _cdaa (_dagge []*textMark ,_agbbf _ca .PdfRectangle )*textWord {_geab :=_dagge [0].PdfRectangle ;_ddeda :=_dagge [0]._gacd ;for _ ,_cedbc :=range _dagge [1:]{_geab =_dgacd (_geab ,_cedbc .PdfRectangle );if _cedbc ._gacd > _ddeda {_ddeda =_cedbc ._gacd ;};};return &textWord {PdfRectangle :_geab ,_ccbcf :_dagge ,_bccba :_agbbf .Ury -_geab .Lly ,_feeea :_ddeda };};func (_ba *imageExtractContext )extractContentStreamImages (_bac string ,_gf *_ca .PdfPageResources )error {_bbgf :=_bbg .NewContentStreamParser (_bac );_fee ,_fac :=_bbgf .Parse ();if _fac !=nil {return _fac ;};if _ba ._aed ==nil {_ba ._aed =map[*_gc .PdfObjectStream ]*cachedImage {};};if _ba ._bdg ==nil {_ba ._bdg =&ImageExtractOptions {};};_cag :=_bbg .NewContentStreamProcessor (*_fee );_cag .AddHandler (_bbg .HandlerConditionEnumAllOperands ,"",_ba .processOperand );return _cag .Process (_gf );};func (_agac *subpath )last ()_c .Point {return _agac ._deaf [len (_agac ._deaf )-1]};func (_caaae *subpath )isQuadrilateral ()bool {if len (_caaae ._deaf )< 4||len (_caaae ._deaf )> 5{return false ;};if len (_caaae ._deaf )==5{_eaafa :=_caaae ._deaf [0];_adegb :=_caaae ._deaf [4];if _eaafa .X !=_adegb .X ||_eaafa .Y !=_adegb .Y {return false ;};};return true ;};func (_baga *textTable )getDown ()paraList {_aeeb :=make (paraList ,_baga ._fbdb );for _edbb :=0;_edbb < _baga ._fbdb ;_edbb ++{_abea :=_baga .get (_edbb ,_baga ._effde -1)._cbcb ;if _abea ==nil ||_abea ._bcecf {return nil ;};_aeeb [_edbb ]=_abea ;};for _dgdd :=0;_dgdd < _baga ._fbdb -1;_dgdd ++{if _aeeb [_dgdd ]._cbbc !=_aeeb [_dgdd +1]{return nil ;};};return _aeeb ;};

// String returns a string describing `pt`.
func (_gaea PageText )String ()string {_eba :=_a .Sprintf ("P\u0061\u0067\u0065\u0054ex\u0074:\u0020\u0025\u0064\u0020\u0065l\u0065\u006d\u0065\u006e\u0074\u0073",len (_gaea ._efe ));_dcab :=[]string {"\u002d"+_eba };for _ ,_gfeg :=range _gaea ._efe {_dcab =append (_dcab ,_gfeg .String ());};_dcab =append (_dcab ,"\u002b"+_eba );return _g .Join (_dcab ,"\u000a");};func (_dde *textObject )getStrokeColor ()_be .Color {return _efab (_dde ._cgf .ColorspaceStroking ,_dde ._cgf .ColorStroking );};

// String returns a string describing `ma`.
func (_fgae TextMarkArray )String ()string {_bfef :=len (_fgae ._bgebf );if _bfef ==0{return "\u0045\u004d\u0050T\u0059";};_feeg :=_fgae ._bgebf [0];_cff :=_fgae ._bgebf [_bfef -1];return _a .Sprintf ("\u007b\u0054\u0045\u0058\u0054\u004d\u0041\u0052K\u0041\u0052\u0052AY\u003a\u0020\u0025\u0064\u0020\u0065l\u0065\u006d\u0065\u006e\u0074\u0073\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025s\u000a\u0009\u0020\u006c\u0061\u0073\u0074\u003d%\u0073\u007d",_bfef ,_feeg ,_cff );};func (_cfe *textObject )nextLine (){_cfe .moveLP (0,-_cfe ._baa ._cdce )};func _cebca (_gecb []*textWord ,_ddaa *textWord )[]*textWord {for _cbbe ,_ebeg :=range _gecb {if _ebeg ==_ddaa {return _dfae (_gecb ,_cbbe );};};_fc .Log .Error ("\u0072\u0065\u006d\u006f\u0076e\u0057\u006f\u0072\u0064\u003a\u0020\u0077\u006f\u0072\u0064\u0073\u0020\u0064o\u0065\u0073\u006e\u0027\u0074\u0020\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0020\u0077\u006f\u0072\u0064\u003d\u0025\u0073",_ddaa );return nil ;};func (_bed *textObject )checkOp (_fgad *_bbg .ContentStreamOperation ,_ffaa int ,_gdga bool )(_eggc bool ,_ffe error ){if _bed ==nil {var _aaa []_gc .PdfObject ;if _ffaa > 0{_aaa =_fgad .Params ;if len (_aaa )> _ffaa {_aaa =_aaa [:_ffaa ];};};_fc .Log .Debug ("\u0025\u0023q \u006f\u0070\u0065r\u0061\u006e\u0064\u0020out\u0073id\u0065\u0020\u0074\u0065\u0078\u0074\u002e p\u0061\u0072\u0061\u006d\u0073\u003d\u0025+\u0076",_fgad .Operand ,_aaa );};if _ffaa >=0{if len (_fgad .Params )!=_ffaa {if _gdga {_ffe =_bb .New ("\u0069n\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0070\u0061r\u0061m\u0065t\u0065\u0072\u0020\u0063\u006f\u0075\u006et");};_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0025\u0023\u0071\u0020\u0073\u0068\u006f\u0075\u006c\u0064\u0020h\u0061\u0076\u0065\u0020\u0025\u0064\u0020i\u006e\u0070\u0075\u0074\u0020\u0070\u0061\u0072\u0061\u006d\u0073,\u0020\u0067\u006f\u0074\u0020\u0025\u0064\u0020\u0025\u002b\u0076",_fgad .Operand ,_ffaa ,len (_fgad .Params ),_fgad .Params );return false ,_ffe ;};};return true ,nil ;};const (_aggf markKind =iota ;_bbbad ;_aeff ;_cgegf ;);func (_cebc compositeCell )String ()string {_cacg :="";if len (_cebc .paraList )> 0{_cacg =_fafa (_cebc .paraList .merge ().text (),50);};return _a .Sprintf ("\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0064\u0020\u0070\u0061\u0072a\u0073\u0020\u0025\u0071",_cebc .PdfRectangle ,len (_cebc .paraList ),_cacg );};

// TableCell is a cell in a TextTable.
type TableCell struct{

// Text is the extracted text.
Text string ;

// Marks returns the TextMarks corresponding to the text in Text.
Marks TextMarkArray ;};func (_gbeb paraList )llyOrdering ()[]int {_edgee :=make ([]int ,len (_gbeb ));for _edcd :=range _gbeb {_edgee [_edcd ]=_edcd ;};_fg .SliceStable (_edgee ,func (_fecc ,_cbdbf int )bool {_dcfad ,_bgge :=_edgee [_fecc ],_edgee [_cbdbf ];return _gbeb [_dcfad ].Lly < _gbeb [_bgge ].Lly ;});return _edgee ;};func (_bfac paraList )lines ()[]*textLine {var _dgef []*textLine ;for _ ,_becc :=range _bfac {_dgef =append (_dgef ,_becc ._bgga ...);};return _dgef ;};func (_bfae rulingList )comp (_ccbc ,_ceea int )bool {_edcf ,_dcabb :=_bfae [_ccbc ],_bfae [_ceea ];_dafed ,_eegae :=_edcf ._adeg ,_dcabb ._adeg ;if _dafed !=_eegae {return _dafed > _eegae ;};if _dafed ==_aaeg {return false ;};_bebb :=func (_baaa bool )bool {if _dafed ==_cdab {return _baaa ;};return !_baaa ;};_bbac ,_geee :=_edcf ._bbba ,_dcabb ._bbba ;if _bbac !=_geee {return _bebb (_bbac > _geee );};_bbac ,_geee =_edcf ._fdag ,_dcabb ._fdag ;if _bbac !=_geee {return _bebb (_bbac < _geee );};return _bebb (_edcf ._bcbfge < _dcabb ._bcbfge );};func (_aacb paraList )tables ()[]TextTable {var _ebfc []TextTable ;if _afbd {_fc .Log .Info ("\u0070\u0061\u0072\u0061\u0073\u002e\u0074\u0061\u0062\u006c\u0065\u0073\u003a");};for _ ,_gead :=range _aacb {_bdgbf :=_gead ._eccf ;if _bdgbf !=nil &&_bdgbf .isExportable (){_ebfc =append (_ebfc ,_bdgbf .toTextTable ());};};return _ebfc ;};

// ExtractText processes and extracts all text data in content streams and returns as a string.
// It takes into account character encodings in the PDF file, which are decoded by
// CharcodeBytesToUnicode.
// Characters that can't be decoded are replaced with MissingCodeRune ('\ufffd' = �).
func (_bae *Extractor )ExtractText ()(string ,error ){_fcf ,_ ,_ ,_beg :=_bae .ExtractTextWithStats ();return _fcf ,_beg ;};func (_caed *textTable )put (_eeega ,_debf int ,_ceafe *textPara ){_caed ._ecfge [_acfb (_eeega ,_debf )]=_ceafe ;};

// PageImages represents extracted images on a PDF page with spatial information:
// display position and size.
type PageImages struct{Images []ImageMark ;};func (_edfd *textObject )getCurrentFont ()*_ca .PdfFont {var _abf *_ca .PdfFont ;if !_edfd ._gceg .empty (){_abf =_edfd ._gceg .top ()._dbg ;};if _abf ==nil {_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u004e\u006f\u0020\u0066\u006f\u006e\u0074\u0020\u0064\u0065\u0066\u0069\u006e\u0065\u0064\u002e\u0020U\u0073\u0069\u006e\u0067\u0020d\u0065\u0066a\u0075\u006c\u0074\u002e");return _ca .DefaultFont ();};return _abf ;};func (_dfab *textTable )getComposite (_gedgc ,_eebe int )(paraList ,_ca .PdfRectangle ){_cacdc ,_gfaee :=_dfab ._febee [_acfb (_gedgc ,_eebe )];if _afbd {_a .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0067\u0065\u0074\u0043\u006f\u006d\u0070o\u0073i\u0074\u0065\u0028\u0025\u0064\u002c\u0025\u0064\u0029\u002d\u003e\u0025\u0073\u000a",_gedgc ,_eebe ,_cacdc .String ());};if !_gfaee {return nil ,_ca .PdfRectangle {};};return _cacdc .parasBBox ();};type textWord struct{_ca .PdfRectangle ;_bccba float64 ;_degca string ;_ccbcf []*textMark ;_feeea float64 ;_abgde bool ;};

// String returns a description of `k`.
func (_egebb rulingKind )String ()string {_cbea ,_ecbe :=_cega [_egebb ];if !_ecbe {return _a .Sprintf ("\u004e\u006ft\u0020\u0061\u0020r\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0025\u0064",_egebb );};return _cbea ;};func _cabag (_fedb []compositeCell )[]float64 {var _fceb []*textLine ;_bfeb :=0;for _ ,_dagcf :=range _fedb {_bfeb +=len (_dagcf .paraList );_fceb =append (_fceb ,_dagcf .lines ()...);};_fg .Slice (_fceb ,func (_debda ,_ecbaa int )bool {_beff ,_ggfe :=_fceb [_debda ],_fceb [_ecbaa ];_feda ,_dbefe :=_beff ._gggd ,_ggfe ._gggd ;if !_adabg (_feda -_dbefe ){return _feda < _dbefe ;};return _beff .Llx < _ggfe .Llx ;});if _afbd {_a .Printf ("\u0020\u0020\u0020 r\u006f\u0077\u0042\u006f\u0072\u0064\u0065\u0072\u0073:\u0020%\u0064 \u0070a\u0072\u0061\u0073\u0020\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u000a",_bfeb ,len (_fceb ));for _acbf ,_ebcg :=range _fceb {_a .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_acbf ,_ebcg );};};var _bceag []float64 ;_gbafc :=_fceb [0];var _ddcc [][]*textLine ;_fbbd :=[]*textLine {_gbafc };for _edgf ,_eage :=range _fceb [1:]{if _eage .Ury < _gbafc .Lly {_febca :=0.5*(_eage .Ury +_gbafc .Lly );if _afbd {_a .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u003c\u0020\u0025\u0036.\u0032f\u0020\u0062\u006f\u0072\u0064\u0065\u0072\u003d\u0025\u0036\u002e\u0032\u0066\u000a"+"\u0009\u0020\u0071\u003d\u0025\u0073\u000a\u0009\u0020p\u003d\u0025\u0073\u000a",_edgf ,_eage .Ury ,_gbafc .Lly ,_febca ,_gbafc ,_eage );};_bceag =append (_bceag ,_febca );_ddcc =append (_ddcc ,_fbbd );_fbbd =nil ;};_fbbd =append (_fbbd ,_eage );if _eage .Lly < _gbafc .Lly {_gbafc =_eage ;};};if len (_fbbd )> 0{_ddcc =append (_ddcc ,_fbbd );};if _afbd {_a .Printf (" \u0020\u0020\u0020\u0020\u0020\u0020 \u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064o\u0072\u0073\u003d%\u0036.\u0032\u0066\u000a",_bceag );};if _afbd {_fc .Log .Info ("\u0072\u006f\u0077\u003d\u0025\u0064",len (_fedb ));for _ggeg ,_addd :=range _fedb {_a .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_ggeg ,_addd );};_fc .Log .Info ("\u0067r\u006f\u0075\u0070\u0073\u003d\u0025d",len (_ddcc ));for _gafd ,_daga :=range _ddcc {_a .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0064\u000a",_gafd ,len (_daga ));for _bcdged ,_geac :=range _daga {_a .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_bcdged ,_geac );};};};_dffc :=true ;for _dcec ,_fdde :=range _ddcc {_bfbcf :=true ;for _ecag ,_edbbf :=range _fedb {if _afbd {_a .Printf ("\u0020\u0020\u0020\u007e\u007e\u007e\u0067\u0072\u006f\u0075\u0070\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064\u0020\u0063\u0065\u006cl\u0020\u0025\u0064\u0020\u006ff\u0020\u0025d\u0020\u0025\u0073\u000a",_dcec ,len (_ddcc ),_ecag ,len (_fedb ),_edbbf );};if !_edbbf .hasLines (_fdde ){if _afbd {_a .Printf ("\u0020\u0020\u0020\u0021\u0021\u0021\u0067\u0072\u006f\u0075\u0070\u0020\u0025d\u0020\u006f\u0066\u0020\u0025\u0064 \u0063\u0065\u006c\u006c\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064 \u004f\u0055\u0054\u000a",_dcec ,len (_ddcc ),_ecag ,len (_fedb ));};_bfbcf =false ;break ;};};if !_bfbcf {_dffc =false ;break ;};};if !_dffc {if _afbd {_fc .Log .Info ("\u0072\u006f\u0077\u0020\u0063o\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u0020\u0064\u006f\u006e\u0027\u0074 \u0073\u0070\u0061\u006e\u0020\u0061\u006c\u006c\u0020\u0063\u0065\u006c\u006c\u0073\u0020\u0069\u006e\u0020\u0072\u006f\u0077\u002e\u0020\u0069\u0067\u006e\u006f\u0072\u0069\u006eg");};_bceag =nil ;};if _afbd &&_bceag !=nil {_a .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u002a\u002a*\u0072\u006f\u0077\u0043\u006f\u0072\u0072i\u0064\u006f\u0072\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u000a",_bceag );};return _bceag ;};func (_afag paraList )log (_acec string ){if !_aeed {return ;};_fc .Log .Info ("%\u0038\u0073\u003a\u0020\u0025\u0064 \u0070\u0061\u0072\u0061\u0073\u0020=\u003d\u003d\u003d\u003d\u003d\u003d\u002d-\u002d\u002d\u002d\u002d\u002d\u003d\u003d\u003d\u003d\u003d=\u003d",_acec ,len (_afag ));for _ffbb ,_fggbe :=range _afag {if _fggbe ==nil {continue ;};_fgbf :=_fggbe .text ();_dedd :="\u0020\u0020";if _fggbe ._eccf !=nil {_dedd =_a .Sprintf ("\u005b%\u0064\u0078\u0025\u0064\u005d",_fggbe ._eccf ._fbdb ,_fggbe ._eccf ._effde );};_a .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0025s\u0020\u0025\u0071\u000a",_ffbb ,_fggbe .PdfRectangle ,_dedd ,_fafa (_fgbf ,50));};};func _ebdf (_cdd map[float64 ]gridTile )[]float64 {_abddf :=make ([]float64 ,0,len (_cdd ));for _caef :=range _cdd {_abddf =append (_abddf ,_caef );};_fg .Float64s (_abddf );return _abddf ;};type imageExtractContext struct{_ef []ImageMark ;_bbf int ;_ee int ;_ed int ;_aed map[*_gc .PdfObjectStream ]*cachedImage ;_bdg *ImageExtractOptions ;};func (_ff *imageExtractContext )extractInlineImage (_gdf *_bbg .ContentStreamInlineImage ,_eaa _bbg .GraphicsState ,_dg *_ca .PdfPageResources )error {_bcd ,_aec :=_gdf .ToImage (_dg );if _aec !=nil {return _aec ;};_edg ,_aec :=_gdf .GetColorSpace (_dg );if _aec !=nil {return _aec ;};if _edg ==nil {_edg =_ca .NewPdfColorspaceDeviceGray ();};_cbd ,_aec :=_edg .ImageToRGB (*_bcd );if _aec !=nil {return _aec ;};_gea :=ImageMark {Image :&_cbd ,Width :_eaa .CTM .ScalingFactorX (),Height :_eaa .CTM .ScalingFactorY (),Angle :_eaa .CTM .Angle ()};_gea .X ,_gea .Y =_eaa .CTM .Translation ();_ff ._ef =append (_ff ._ef ,_gea );_ff ._bbf ++;return nil ;};func _bbfee (_fdcca ,_egae int )int {if _fdcca < _egae {return _fdcca ;};return _egae ;};type event struct{_eecfe float64 ;_gbebd bool ;_ffbf int ;};func (_faab *textTable )markCells (){for _aebg :=0;_aebg < _faab ._effde ;_aebg ++{for _ddde :=0;_ddde < _faab ._fbdb ;_ddde ++{_fccdf :=_faab .get (_ddde ,_aebg );if _fccdf !=nil {_fccdf ._bcecf =true ;};};};};func _abebc (_gdcd []pathSection ){if _debc < 0.0{return ;};if _egbc {_fc .Log .Info ("\u0067\u0072\u0061\u006e\u0075\u006c\u0061\u0072\u0069\u007a\u0065\u003a\u0020\u0025\u0064 \u0073u\u0062\u0070\u0061\u0074\u0068\u0020\u0073\u0065\u0063\u0074\u0069\u006f\u006e\u0073",len (_gdcd ));};for _dgga ,_aeccc :=range _gdcd {for _dfad ,_fcecb :=range _aeccc ._caf {for _aaab ,_gcbfe :=range _fcecb ._deaf {_fcecb ._deaf [_aaab ]=_c .Point {X :_efcef (_gcbfe .X ),Y :_efcef (_gcbfe .Y )};if _egbc {_fbgc :=_fcecb ._deaf [_aaab ];if !_egdd (_gcbfe ,_fbgc ){_dabd :=_c .Point {X :_fbgc .X -_gcbfe .X ,Y :_fbgc .Y -_gcbfe .Y };_a .Printf ("\u0025\u0034d \u002d\u0020\u00254\u0064\u0020\u002d\u0020%4d\u003a %\u002e\u0032\u0066\u0020\u2192\u0020\u0025.2\u0066\u0020\u0028\u0025\u0067\u0029\u000a",_dgga ,_dfad ,_aaab ,_gcbfe ,_fbgc ,_dabd );};};};};};};func _dgacd (_ccdd ,_cdff _ca .PdfRectangle )_ca .PdfRectangle {return _ca .PdfRectangle {Llx :_fe .Min (_ccdd .Llx ,_cdff .Llx ),Lly :_fe .Min (_ccdd .Lly ,_cdff .Lly ),Urx :_fe .Max (_ccdd .Urx ,_cdff .Urx ),Ury :_fe .Max (_ccdd .Ury ,_cdff .Ury )};};func (_daee paraList )addNeighbours (){_bfdaed :=func (_gbca []int ,_ggcad *textPara )([]*textPara ,[]*textPara ){_gfdef :=make ([]*textPara ,0,len (_gbca )-1);_fcae :=make ([]*textPara ,0,len (_gbca )-1);for _ ,_fbce :=range _gbca {_adggb :=_daee [_fbce ];if _adggb .Urx <=_ggcad .Llx {_gfdef =append (_gfdef ,_adggb );}else if _adggb .Llx >=_ggcad .Urx {_fcae =append (_fcae ,_adggb );};};return _gfdef ,_fcae ;};_fcca :=func (_efde []int ,_fcbda *textPara )([]*textPara ,[]*textPara ){_cdfgeg :=make ([]*textPara ,0,len (_efde )-1);_caafa :=make ([]*textPara ,0,len (_efde )-1);for _ ,_ecfac :=range _efde {_baca :=_daee [_ecfac ];if _baca .Ury <=_fcbda .Lly {_caafa =append (_caafa ,_baca );}else if _baca .Lly >=_fcbda .Ury {_cdfgeg =append (_cdfgeg ,_baca );};};return _cdfgeg ,_caafa ;};_gbae :=_daee .yNeighbours (_acdd );for _ ,_abfe :=range _daee {_fbda :=_gbae [_abfe ];if len (_fbda )==0{continue ;};_cdag ,_dfccg :=_bfdaed (_fbda ,_abfe );if len (_cdag )==0&&len (_dfccg )==0{continue ;};if len (_cdag )> 0{_bbgce :=_cdag [0];for _ ,_face :=range _cdag [1:]{if _face .Urx >=_bbgce .Urx {_bbgce =_face ;};};for _ ,_ddbbf :=range _cdag {if _ddbbf !=_bbgce &&_ddbbf .Urx > _bbgce .Llx {_bbgce =nil ;break ;};};if _bbgce !=nil &&_bceg (_abfe .PdfRectangle ,_bbgce .PdfRectangle ){_abfe ._bfag =_bbgce ;};};if len (_dfccg )> 0{_fagc :=_dfccg [0];for _ ,_eaga :=range _dfccg [1:]{if _eaga .Llx <=_fagc .Llx {_fagc =_eaga ;};};for _ ,_daaba :=range _dfccg {if _daaba !=_fagc &&_daaba .Llx < _fagc .Urx {_fagc =nil ;break ;};};if _fagc !=nil &&_bceg (_abfe .PdfRectangle ,_fagc .PdfRectangle ){_abfe ._cbbc =_fagc ;};};};_gbae =_daee .xNeighbours (_bcbc );for _ ,_bgcc :=range _daee {_dfdg :=_gbae [_bgcc ];if len (_dfdg )==0{continue ;};_cbdf ,_agbbb :=_fcca (_dfdg ,_bgcc );if len (_cbdf )==0&&len (_agbbb )==0{continue ;};if len (_agbbb )> 0{_dgbg :=_agbbb [0];for _ ,_dfgb :=range _agbbb [1:]{if _dfgb .Ury >=_dgbg .Ury {_dgbg =_dfgb ;};};for _ ,_dbgcd :=range _agbbb {if _dbgcd !=_dgbg &&_dbgcd .Ury > _dgbg .Lly {_dgbg =nil ;break ;};};if _dgbg !=nil &&_dbdcd (_bgcc .PdfRectangle ,_dgbg .PdfRectangle ){_bgcc ._cbcb =_dgbg ;};};if len (_cbdf )> 0{_gcbefb :=_cbdf [0];for _ ,_abgd :=range _cbdf [1:]{if _abgd .Lly <=_gcbefb .Lly {_gcbefb =_abgd ;};};for _ ,_bffa :=range _cbdf {if _bffa !=_gcbefb &&_bffa .Lly < _gcbefb .Ury {_gcbefb =nil ;break ;};};if _gcbefb !=nil &&_dbdcd (_bgcc .PdfRectangle ,_gcbefb .PdfRectangle ){_bgcc ._gggg =_gcbefb ;};};};for _ ,_ececg :=range _daee {if _ececg ._bfag !=nil &&_ececg ._bfag ._cbbc !=_ececg {_ececg ._bfag =nil ;};if _ececg ._gggg !=nil &&_ececg ._gggg ._cbcb !=_ececg {_ececg ._gggg =nil ;};if _ececg ._cbbc !=nil &&_ececg ._cbbc ._bfag !=_ececg {_ececg ._cbbc =nil ;};if _ececg ._cbcb !=nil &&_ececg ._cbcb ._gggg !=_ececg {_ececg ._cbcb =nil ;};};};func _gbdc (_aefbd ,_beebe float64 )string {_egea :=!_adabg (_aefbd -_beebe );if _egea {return "\u000a";};return "\u0020";};var (_aggd =map[rune ]string {0x0060:"\u0300",0x02CB:"\u0300",0x0027:"\u0301",0x00B4:"\u0301",0x02B9:"\u0301",0x02CA:"\u0301",0x005E:"\u0302",0x02C6:"\u0302",0x007E:"\u0303",0x02DC:"\u0303",0x00AF:"\u0304",0x02C9:"\u0304",0x02D8:"\u0306",0x02D9:"\u0307",0x00A8:"\u0308",0x00B0:"\u030a",0x02DA:"\u030a",0x02BA:"\u030b",0x02DD:"\u030b",0x02C7:"\u030c",0x02C8:"\u030d",0x0022:"\u030e",0x02BB:"\u0312",0x02BC:"\u0313",0x0486:"\u0313",0x055A:"\u0313",0x02BD:"\u0314",0x0485:"\u0314",0x0559:"\u0314",0x02D4:"\u031d",0x02D5:"\u031e",0x02D6:"\u031f",0x02D7:"\u0320",0x02B2:"\u0321",0x00B8:"\u0327",0x02CC:"\u0329",0x02B7:"\u032b",0x02CD:"\u0331",0x005F:"\u0332",0x204E:"\u0359"};);func (_ddea rulingList )primMinMax ()(float64 ,float64 ){_bccca ,_egdgf :=_ddea [0]._bbba ,_ddea [0]._bbba ;for _ ,_afbfe :=range _ddea [1:]{if _afbfe ._bbba < _bccca {_bccca =_afbfe ._bbba ;}else if _afbfe ._bbba > _egdgf {_egdgf =_afbfe ._bbba ;};};return _bccca ,_egdgf ;};func (_cbcfd compositeCell )split (_gaef ,_eceb []float64 )*textTable {_fgda :=len (_gaef )+1;_fbbca :=len (_eceb )+1;if _afbd {_fc .Log .Info ("\u0063\u006f\u006d\u0070\u006f\u0073\u0069t\u0065\u0043\u0065l\u006c\u002e\u0073\u0070l\u0069\u0074\u003a\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u000a\u0009\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u003d\u0025\u0073\u000a"+"\u0009\u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073=\u0025\u0036\u002e\u0032\u0066\u000a\t\u0063\u006f\u006c\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u003d%\u0036\u002e\u0032\u0066",_fbbca ,_fgda ,_cbcfd ,_gaef ,_eceb );_a .Printf ("\u0020\u0020\u0020\u0020\u0025\u0064\u0020\u0070\u0061\u0072\u0061\u0073\u000a",len (_cbcfd .paraList ));for _aceg ,_badd :=range _cbcfd .paraList {_a .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_aceg ,_badd .String ());};_a .Printf ("\u0020\u0020\u0020\u0020\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u000a",len (_cbcfd .lines ()));for _bbcf ,_gcfbg :=range _cbcfd .lines (){_a .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_bbcf ,_gcfbg );};};_gaef =_adac (_gaef ,_cbcfd .Ury ,_cbcfd .Lly );_eceb =_adac (_eceb ,_cbcfd .Llx ,_cbcfd .Urx );_ddgde :=make (map[uint64 ]*textPara ,_fbbca *_fgda );_afgfd :=textTable {_fbdb :_fbbca ,_effde :_fgda ,_ecfge :_ddgde };_ccdec :=_cbcfd .paraList ;_fg .Slice (_ccdec ,func (_cbca ,_eeggd int )bool {_fbbga ,_bffe :=_ccdec [_cbca ],_ccdec [_eeggd ];_cfca ,_aggc :=_fbbga .Lly ,_bffe .Lly ;if _cfca !=_aggc {return _cfca < _aggc ;};return _fbbga .Llx < _bffe .Llx ;});_cee :=make (map[uint64 ]_ca .PdfRectangle ,_fbbca *_fgda );for _ddedc ,_bfbfa :=range _gaef [1:]{_gebf :=_gaef [_ddedc ];for _cbda ,_bcfa :=range _eceb [1:]{_aegb :=_eceb [_cbda ];_cee [_acfb (_cbda ,_ddedc )]=_ca .PdfRectangle {Llx :_aegb ,Urx :_bcfa ,Lly :_bfbfa ,Ury :_gebf };};};if _afbd {_fc .Log .Info ("\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u0043\u0065l\u006c\u002e\u0073\u0070\u006c\u0069\u0074\u003a\u0020\u0072e\u0063\u0074\u0073");_a .Printf ("\u0020\u0020\u0020\u0020");for _acfd :=0;_acfd < _fbbca ;_acfd ++{_a .Printf ("\u0025\u0033\u0030\u0064\u002c\u0020",_acfd );};_a .Println ();for _dbcge :=0;_dbcge < _fgda ;_dbcge ++{_a .Printf ("\u0020\u0020\u0025\u0032\u0064\u003a",_dbcge );for _cfcfc :=0;_cfcfc < _fbbca ;_cfcfc ++{_a .Printf ("\u00256\u002e\u0032\u0066\u002c\u0020",_cee [_acfb (_cfcfc ,_dbcge )]);};_a .Println ();};};_begfa :=func (_dbgfb *textLine )(int ,int ){for _ceabc :=0;_ceabc < _fgda ;_ceabc ++{for _abbg :=0;_abbg < _fbbca ;_abbg ++{if _bdge (_cee [_acfb (_abbg ,_ceabc )],_dbgfb .PdfRectangle ){return _abbg ,_ceabc ;};};};return -1,-1;};_eeed :=make (map[uint64 ][]*textLine ,_fbbca *_fgda );for _ ,_babcb :=range _ccdec .lines (){_cdcb ,_eagf :=_begfa (_babcb );if _cdcb < 0{continue ;};_eeed [_acfb (_cdcb ,_eagf )]=append (_eeed [_acfb (_cdcb ,_eagf )],_babcb );};for _bgefc :=0;_bgefc < len (_gaef )-1;_bgefc ++{_gcbg :=_gaef [_bgefc ];_bgcg :=_gaef [_bgefc +1];for _gcbge :=0;_gcbge < len (_eceb )-1;_gcbge ++{_bfff :=_eceb [_gcbge ];_gaba :=_eceb [_gcbge +1];_bcbg :=_ca .PdfRectangle {Llx :_bfff ,Urx :_gaba ,Lly :_bgcg ,Ury :_gcbg };_fgcf :=_eeed [_acfb (_gcbge ,_bgefc )];if len (_fgcf )==0{continue ;};_ffabc :=_bddb (_bcbg ,_fgcf );_afgfd .put (_gcbge ,_bgefc ,_ffabc );};};return &_afgfd ;};

// String returns a description of `l`.
func (_gfge *textLine )String ()string {return _a .Sprintf ("\u0025\u002e2\u0066\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\"%\u0073\u0022",_gfge ._gggd ,_gfge .PdfRectangle ,_gfge ._gbcd ,_gfge .text ());};

// Elements returns the TextMarks in `ma`.
func (_gbd *TextMarkArray )Elements ()[]TextMark {return _gbd ._bgebf };func (_ecae *textPara )bbox ()_ca .PdfRectangle {return _ecae .PdfRectangle };

// String returns a human readable description of `vecs`.
func (_aefc rulingList )String ()string {if len (_aefc )==0{return "\u007b \u0045\u004d\u0050\u0054\u0059\u0020}";};_faf ,_bbdc :=_aefc .vertsHorzs ();_gfdgd :=len (_faf );_aeafd :=len (_bbdc );if _gfdgd ==0||_aeafd ==0{return _a .Sprintf ("\u007b%\u0064\u0020\u0078\u0020\u0025\u0064}",_gfdgd ,_aeafd );};_ebeb :=_ca .PdfRectangle {Llx :_faf [0]._bbba ,Urx :_faf [_gfdgd -1]._bbba ,Lly :_bbdc [_aeafd -1]._bbba ,Ury :_bbdc [0]._bbba };return _a .Sprintf ("\u007b\u0025d\u0020\u0078\u0020%\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u007d",_gfdgd ,_aeafd ,_ebeb );};func (_cdge *shapesState )moveTo (_eaff ,_bbdb float64 ){_cdge ._daff =true ;_cdge ._gfb =_cdge .devicePoint (_eaff ,_bbdb );if _ccgb {_fc .Log .Info ("\u006d\u006fv\u0065\u0054\u006f\u003a\u0020\u0025\u002e\u0032\u0066\u002c\u0025\u002e\u0032\u0066\u0020\u0064\u0065\u0076\u0069\u0063\u0065\u003d%.\u0032\u0066",_eaff ,_bbdb ,_cdge ._gfb );};};type bounded interface{bbox ()_ca .PdfRectangle };func _dggbf (_efca ,_gedec _c .Point )rulingKind {_edbfb :=_fe .Abs (_efca .X -_gedec .X );_ccad :=_fe .Abs (_efca .Y -_gedec .Y );return _cfdf (_edbfb ,_ccad ,_dafg );};func _gfde (_eef []*wordBag )[]*wordBag {if len (_eef )<=1{return _eef ;};if _bgeg {_fc .Log .Info ("\u006d\u0065\u0072\u0067\u0065\u0057\u006f\u0072\u0064B\u0061\u0067\u0073\u003a");};_fg .Slice (_eef ,func (_dccfg ,_eeda int )bool {_adcc ,_dbab :=_eef [_dccfg ],_eef [_eeda ];_eea :=_adcc .Width ()*_adcc .Height ();_affad :=_dbab .Width ()*_dbab .Height ();if _eea !=_affad {return _eea > _affad ;};if _adcc .Height ()!=_dbab .Height (){return _adcc .Height ()> _dbab .Height ();};return _dccfg < _eeda ;});var _egcf []*wordBag ;_dgab :=make (intSet );for _cdceb :=0;_cdceb < len (_eef );_cdceb ++{if _dgab .has (_cdceb ){continue ;};_gdcb :=_eef [_cdceb ];for _caba :=_cdceb +1;_caba < len (_eef );_caba ++{if _dgab .has (_cdceb ){continue ;};_fgga :=_eef [_caba ];_gbbd :=_gdcb .PdfRectangle ;_gbbd .Llx -=_gdcb ._deb ;if _bdge (_gbbd ,_fgga .PdfRectangle ){_gdcb .absorb (_fgga );_dgab .add (_caba );};};_egcf =append (_egcf ,_gdcb );};if len (_eef )!=len (_egcf )+len (_dgab ){_fc .Log .Error ("\u006d\u0065\u0072ge\u0057\u006f\u0072\u0064\u0042\u0061\u0067\u0073\u003a \u0025d\u2192%\u0064 \u0061\u0062\u0073\u006f\u0072\u0062\u0065\u0064\u003d\u0025\u0064",len (_eef ),len (_egcf ),len (_dgab ));};return _egcf ;};func (_gcac paraList )sortReadingOrder (){_fc .Log .Trace ("\u0073\u006fr\u0074\u0052\u0065\u0061\u0064i\u006e\u0067\u004f\u0072\u0064e\u0072\u003a\u0020\u0070\u0061\u0072\u0061\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_gcac ));if len (_gcac )<=1{return ;};_gcac .computeEBBoxes ();_fg .Slice (_gcac ,func (_ebdg ,_dgbb int )bool {return _acgd (_gcac [_ebdg ],_gcac [_dgbb ])<=0});_aaag :=_gcac .topoOrder ();_gcac .reorder (_aaag );};

// String returns a string descibing `i`.
func (_aaadc gridTile )String ()string {_ecgdb :=func (_ggbc bool ,_cgbgg string )string {if _ggbc {return _cgbgg ;};return "\u005f";};return _a .Sprintf ("\u00256\u002e2\u0066\u0020\u0025\u0031\u0073%\u0031\u0073%\u0031\u0073\u0025\u0031\u0073",_aaadc .PdfRectangle ,_ecgdb (_aaadc ._acfdf ,"\u004c"),_ecgdb (_aaadc ._baab ,"\u0052"),_ecgdb (_aaadc ._agaa ,"\u0042"),_ecgdb (_aaadc ._afabc ,"\u0054"));};

// ImageMark represents an image drawn on a page and its position in device coordinates.
// All coordinates are in device coordinates.
type ImageMark struct{Image *_ca .Image ;

// Dimensions of the image as displayed in the PDF.
Width float64 ;Height float64 ;

// Position of the image in PDF coordinates (lower left corner).
X float64 ;Y float64 ;

// Angle in degrees, if rotated.
Angle float64 ;};func _fafa (_agcf string ,_ebbfe int )string {if len (_agcf )< _ebbfe {return _agcf ;};return _agcf [:_ebbfe ];};func _gbagc (_bgeac ,_becca float64 )bool {return _fe .Abs (_bgeac -_becca )<=_cfaac };const (RenderModeStroke RenderMode =1<<iota ;RenderModeFill ;RenderModeClip ;);func (_fbgd lineRuling )asRuling ()(*ruling ,bool ){_gcg :=ruling {_adeg :_fbgd ._faaee ,Color :_fbgd .Color ,_gccd :_bbbad };switch _fbgd ._faaee {case _aefbb :_gcg ._bbba =_fbgd .xMean ();_gcg ._fdag =_fe .Min (_fbgd ._aae .Y ,_fbgd ._dabc .Y );_gcg ._bcbfge =_fe .Max (_fbgd ._aae .Y ,_fbgd ._dabc .Y );case _cdab :_gcg ._bbba =_fbgd .yMean ();_gcg ._fdag =_fe .Min (_fbgd ._aae .X ,_fbgd ._dabc .X );_gcg ._bcbfge =_fe .Max (_fbgd ._aae .X ,_fbgd ._dabc .X );default:_fc .Log .Error ("\u0062\u0061\u0064\u0020pr\u0069\u006d\u0061\u0072\u0079\u0020\u006b\u0069\u006e\u0064\u003d\u0025\u0064",_fbgd ._faaee );return nil ,false ;};return &_gcg ,true ;};func _gabe (_ddac []TextMark ,_fbga *int )[]TextMark {_gdfgd :=_ddac [len (_ddac )-1];_dccga :=[]rune (_gdfgd .Text );if len (_dccga )==1{_ddac =_ddac [:len (_ddac )-1];_cbfcc :=_ddac [len (_ddac )-1];*_fbga =_cbfcc .Offset +len (_cbfcc .Text );}else {_gfdg :=_ebdb (_gdfgd .Text );*_fbga +=len (_gfdg )-len (_gdfgd .Text );_gdfgd .Text =_gfdg ;};return _ddac ;};func (_bgead intSet )has (_ddbd int )bool {_ ,_bfgcd :=_bgead [_ddbd ];return _bfgcd };func (_ddff *shapesState )devicePoint (_gaf ,_ceab float64 )_c .Point {_cda :=_ddff ._beac .Mult (_ddff ._febce );_gaf ,_ceab =_cda .Transform (_gaf ,_ceab );return _c .NewPoint (_gaf ,_ceab );};func (_cfc *Extractor )extractPageText (_fcd string ,_fcg *_ca .PdfPageResources ,_db _c .Matrix ,_dbe int )(*PageText ,int ,int ,error ){_fc .Log .Trace ("\u0065x\u0074\u0072\u0061\u0063t\u0050\u0061\u0067\u0065\u0054e\u0078t\u003a \u006c\u0065\u0076\u0065\u006c\u003d\u0025d",_dbe );_acb :=&PageText {_eccdg :_cfc ._bdb };_cfa :=_dca (_cfc ._bdb );var _ead stateStack ;_de :=_ceba (_cfc ,_fcg ,_bbg .GraphicsState {},&_cfa ,&_ead );_eccd :=shapesState {_beac :_db ,_febce :_c .IdentityMatrix (),_dba :_de };var _ecg bool ;if _dbe > _da {_feec :=_bb .New ("\u0066\u006f\u0072\u006d s\u0074\u0061\u0063\u006b\u0020\u006f\u0076\u0065\u0072\u0066\u006c\u006f\u0077");_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a \u0065\u0078\u0074\u0072\u0061\u0063\u0074\u0050\u0061\u0067\u0065\u0054\u0065\u0078\u0074\u002e\u0020\u0072\u0065\u0063u\u0072\u0073\u0069\u006f\u006e\u0020\u006c\u0065\u0076\u0065\u006c\u003d\u0025\u0064 \u0065r\u0072\u003d\u0025\u0076",_dbe ,_feec );return _acb ,_cfa ._fff ,_cfa ._bbda ,_feec ;};_baea :=_bbg .NewContentStreamParser (_fcd );_cbg ,_dbb :=_baea .Parse ();if _dbb !=nil {_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020e\u0078\u0074\u0072a\u0063\u0074\u0050\u0061g\u0065\u0054\u0065\u0078\u0074\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0066\u0061\u0069\u006c\u0065\u0064\u002e\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_dbb );return _acb ,_cfa ._fff ,_cfa ._bbda ,_dbb ;};_ggge :=_bbg .NewContentStreamProcessor (*_cbg );_ggge .AddHandler (_bbg .HandlerConditionEnumAllOperands ,"",func (_bge *_bbg .ContentStreamOperation ,_bbc _bbg .GraphicsState ,_eac *_ca .PdfPageResources )error {_agg :=_bge .Operand ;if _fgaa {_fc .Log .Info ("\u0026&\u0026\u0020\u006f\u0070\u003d\u0025s",_bge );};switch _agg {case "\u0071":if _ccgb {_fc .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_eccd ._febce );};_ead .push (&_cfa );case "\u0051":if !_ead .empty (){_cfa =*_ead .top ();if len (_ead )>=2{_ead .pop ();};};_eccd ._febce =_bbc .CTM ;if _ccgb {_fc .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_eccd ._febce );};case "\u0042\u0054":if _ecg {_fc .Log .Debug ("\u0042\u0054\u0020\u0063\u0061\u006c\u006c\u0065\u0064\u0020\u0077\u0068\u0069\u006c\u0065 \u0069n\u0020\u0061\u0020\u0074\u0065\u0078\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074");_acb ._efe =append (_acb ._efe ,_de ._cef ...);};_ecg =true ;_bee :=_bbc ;_bee .CTM =_db .Mult (_bee .CTM );_de =_ceba (_cfc ,_eac ,_bee ,&_cfa ,&_ead );_eccd ._dba =_de ;case "\u0045\u0054":if !_ecg {_fc .Log .Debug ("\u0045\u0054\u0020ca\u006c\u006c\u0065\u0064\u0020\u006f\u0075\u0074\u0073i\u0064e\u0020o\u0066 \u0061\u0020\u0074\u0065\u0078\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074");};_ecg =false ;_acb ._efe =append (_acb ._efe ,_de ._cef ...);_de .reset ();case "\u0054\u002a":_de .nextLine ();case "\u0054\u0064":if _edb ,_gcb :=_de .checkOp (_bge ,2,true );!_edb {_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_gcb );return _gcb ;};_acc ,_cfcg ,_fced :=_efbbb (_bge .Params );if _fced !=nil {return _fced ;};_de .moveText (_acc ,_cfcg );case "\u0054\u0044":if _bf ,_dce :=_de .checkOp (_bge ,2,true );!_bf {_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_dce );return _dce ;};_acd ,_eaege ,_dea :=_efbbb (_bge .Params );if _dea !=nil {_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_dea );return _dea ;};_de .moveTextSetLeading (_acd ,_eaege );case "\u0054\u006a":if _fga ,_bcdg :=_de .checkOp (_bge ,1,true );!_fga {_fc .Log .Debug ("\u0045\u0052\u0052\u004fR:\u0020\u0054\u006a\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0065\u0072\u0072\u003d%\u0076",_bge ,_bcdg );return _bcdg ;};_ece ,_beb :=_gc .GetStringBytes (_bge .Params [0]);if !_beb {_fc .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020T\u006a\u0020o\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074S\u0074\u0072\u0069\u006e\u0067\u0042\u0079\u0074\u0065\u0073\u0020\u0066a\u0069\u006c\u0065\u0064",_bge );return _gc .ErrTypeError ;};return _de .showText (_ece );case "\u0054\u004a":if _gdd ,_edf :=_de .checkOp (_bge ,1,true );!_gdd {_fc .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u004a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_edf );return _edf ;};_ccc ,_cbf :=_gc .GetArray (_bge .Params [0]);if !_cbf {_fc .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0054\u004a\u0020\u006f\u0070\u003d\u0025s\u0020G\u0065t\u0041r\u0072\u0061\u0079\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065\u0064",_bge );return _dbb ;};return _de .showTextAdjusted (_ccc );case "\u0027":if _aac ,_eed :=_de .checkOp (_bge ,1,true );!_aac {_fc .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u0027\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_eed );return _eed ;};_eab ,_gfae :=_gc .GetStringBytes (_bge .Params [0]);if !_gfae {_fc .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020'\u0020\u006f\u0070\u003d%s \u0047et\u0053\u0074\u0072\u0069\u006e\u0067\u0042yt\u0065\u0073\u0020\u0066\u0061\u0069\u006ce\u0064",_bge );return _gc .ErrTypeError ;};_de .nextLine ();return _de .showText (_eab );case "\u0022":if _bgef ,_bgf :=_de .checkOp (_bge ,3,true );!_bgef {_fc .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u0022\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bgf );return _bgf ;};_bff ,_ecf ,_fccd :=_efbbb (_bge .Params [:2]);if _fccd !=nil {return _fccd ;};_gee ,_bgd :=_gc .GetStringBytes (_bge .Params [2]);if !_bgd {_fc .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020\"\u0020\u006f\u0070\u003d%s \u0047et\u0053\u0074\u0072\u0069\u006e\u0067\u0042yt\u0065\u0073\u0020\u0066\u0061\u0069\u006ce\u0064",_bge );return _gc .ErrTypeError ;};_de .setCharSpacing (_bff );_de .setWordSpacing (_ecf );_de .nextLine ();return _de .showText (_gee );case "\u0054\u004c":_dgd ,_afc :=_age (_bge );if _afc !=nil {_fc .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u004c\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_afc );return _afc ;};_de .setTextLeading (_dgd );case "\u0054\u0063":_aab ,_aedd :=_age (_bge );if _aedd !=nil {_fc .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0063\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_aedd );return _aedd ;};_de .setCharSpacing (_aab );case "\u0054\u0066":if _cde ,_eag :=_de .checkOp (_bge ,2,true );!_cde {_fc .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0066\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_eag );return _eag ;};_eb ,_ggc :=_gc .GetNameVal (_bge .Params [0]);if !_ggc {_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a \u0054\u0066\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074\u004ea\u006d\u0065\u0056\u0061\u006c\u0020\u0066a\u0069\u006c\u0065\u0064",_bge );return _gc .ErrTypeError ;};_egg ,_bca :=_gc .GetNumberAsFloat (_bge .Params [1]);if !_ggc {_fc .Log .Debug ("\u0045\u0052\u0052O\u0052\u003a\u0020\u0054\u0066\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074\u0046\u006c\u006f\u0061\u0074\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065d\u002e\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bge ,_bca );return _bca ;};_bca =_de .setFont (_eb ,_egg );_de ._egb =_gd .Is (_bca ,_gc .ErrNotSupported );if _bca !=nil &&!_de ._egb {return _bca ;};case "\u0054\u006d":if _efg ,_fed :=_de .checkOp (_bge ,6,true );!_efg {_fc .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u006d\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_fed );return _fed ;};_gfd ,_gccc :=_gc .GetNumbersAsFloat (_bge .Params );if _gccc !=nil {_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_gccc );return _gccc ;};_de .setTextMatrix (_gfd );case "\u0054\u0072":if _dd ,_bab :=_de .checkOp (_bge ,1,true );!_dd {_fc .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0072\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bab );return _bab ;};_aeca ,_dcg :=_gc .GetIntVal (_bge .Params [0]);if !_dcg {_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0054\u0072\u0020\u006f\u0070\u003d\u0025\u0073 \u0047e\u0074\u0049\u006e\u0074\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065\u0064",_bge );return _gc .ErrTypeError ;};_de .setTextRenderMode (_aeca );case "\u0054\u0073":if _dag ,_gef :=_de .checkOp (_bge ,1,true );!_dag {_fc .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0073\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_gef );return _gef ;};_egce ,_bce :=_gc .GetNumberAsFloat (_bge .Params [0]);if _bce !=nil {_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bce );return _bce ;};_de .setTextRise (_egce );case "\u0054\u0077":if _caa ,_bfb :=_de .checkOp (_bge ,1,true );!_caa {_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bfb );return _bfb ;};_dfa ,_bfe :=_gc .GetNumberAsFloat (_bge .Params [0]);if _bfe !=nil {_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bfe );return _bfe ;};_de .setWordSpacing (_dfa );case "\u0054\u007a":if _efaf ,_ddb :=_de .checkOp (_bge ,1,true );!_efaf {_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_ddb );return _ddb ;};_fgg ,_ceg :=_gc .GetNumberAsFloat (_bge .Params [0]);if _ceg !=nil {_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_ceg );return _ceg ;};_de .setHorizScaling (_fgg );case "\u0063\u006d":_eccd ._febce =_bbc .CTM ;if _eccd ._febce .Singular (){_eacf :=_c .IdentityMatrix ().Translate (_eccd ._febce .Translation ());_fc .Log .Debug ("S\u0069n\u0067\u0075\u006c\u0061\u0072\u0020\u0063\u0074m\u003d\u0025\u0073\u2192%s",_eccd ._febce ,_eacf );_eccd ._febce =_eacf ;};if _ccgb {_fc .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_eccd ._febce );};case "\u006d":if len (_bge .Params )!=2{_fc .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006d\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0076\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_ac );return nil ;};_efgb ,_cbdb :=_gc .GetNumbersAsFloat (_bge .Params );if _cbdb !=nil {return _cbdb ;};_fc .Log .Debug ("\u004d\u006f\u0076\u0065\u0020\u0074\u006f\u003a\u0020\u0025\u002e\u0032\u0066",_efgb );_eccd .moveTo (_efgb [0],_efgb [1]);case "\u006c":if len (_bge .Params )!=2{_fc .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006c\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0076\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_ac );return nil ;};_feb ,_cdf :=_gc .GetNumbersAsFloat (_bge .Params );if _cdf !=nil {return _cdf ;};_eccd .lineTo (_feb [0],_feb [1]);case "\u0063":if len (_bge .Params )!=6{return _ac ;};_ddf ,_eee :=_gc .GetNumbersAsFloat (_bge .Params );if _eee !=nil {return _eee ;};_fc .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020b\u0065\u007a\u0069\u0065\u0072 \u0070a\u0072a\u006d\u0073\u003a\u0020\u0025\u002e\u0032f",_ddf );_eccd .cubicTo (_ddf [0],_ddf [1],_ddf [2],_ddf [3],_ddf [4],_ddf [5]);case "\u0076","\u0079":if len (_bge .Params )!=4{return _ac ;};_gb ,_cfg :=_gc .GetNumbersAsFloat (_bge .Params );if _cfg !=nil {return _cfg ;};_fc .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020b\u0065\u007a\u0069\u0065\u0072 \u0070a\u0072a\u006d\u0073\u003a\u0020\u0025\u002e\u0032f",_gb );_eccd .quadraticTo (_gb [0],_gb [1],_gb [2],_gb [3]);case "\u0068":_eccd .closePath ();case "\u0072\u0065":if len (_bge .Params )!=4{return _ac ;};_baec ,_aff :=_gc .GetNumbersAsFloat (_bge .Params );if _aff !=nil {return _aff ;};_eccd .drawRectangle (_baec [0],_baec [1],_baec [2],_baec [3]);_eccd .closePath ();case "\u0053":_eccd .stroke (&_acb ._gcbe );_eccd .clearPath ();case "\u0073":_eccd .closePath ();_eccd .stroke (&_acb ._gcbe );_eccd .clearPath ();case "\u0046":_eccd .fill (&_acb ._fdc );_eccd .clearPath ();case "\u0066","\u0066\u002a":_eccd .closePath ();_eccd .fill (&_acb ._fdc );_eccd .clearPath ();case "\u0042","\u0042\u002a":_eccd .fill (&_acb ._fdc );_eccd .stroke (&_acb ._gcbe );_eccd .clearPath ();case "\u0062","\u0062\u002a":_eccd .closePath ();_eccd .fill (&_acb ._fdc );_eccd .stroke (&_acb ._gcbe );_eccd .clearPath ();case "\u006e":_eccd .clearPath ();case "\u0044\u006f":if len (_bge .Params )==0{_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0058\u004fbj\u0065c\u0074\u0020\u006e\u0061\u006d\u0065\u0020\u006f\u0070\u0065\u0072\u0061n\u0064\u0020\u0066\u006f\u0072\u0020\u0044\u006f\u0020\u006f\u0070\u0065\u0072\u0061\u0074\u006f\u0072.\u0020\u0047\u006f\u0074\u0020\u0025\u002b\u0076\u002e",_bge .Params );return _gc .ErrRangeError ;};_aabg ,_dbd :=_gc .GetName (_bge .Params [0]);if !_dbd {_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0044\u006f\u0020\u006f\u0070e\u0072a\u0074\u006f\u0072\u0020\u0058\u004f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0061\u006d\u0065\u0020\u006fp\u0065\u0072\u0061\u006e\u0064\u003a\u0020\u0025\u002b\u0076\u002e",_bge .Params [0]);return _gc .ErrTypeError ;};_ ,_cfd :=_eac .GetXObjectByName (*_aabg );if _cfd !=_ca .XObjectTypeForm {break ;};_gdc ,_dbd :=_cfc ._gcf [_aabg .String ()];if !_dbd {_dcc ,_cdga :=_eac .GetXObjectFormByName (*_aabg );if _cdga !=nil {_fc .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_cdga );return _cdga ;};_dab ,_cdga :=_dcc .GetContentStream ();if _cdga !=nil {_fc .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_cdga );return _cdga ;};_ada :=_dcc .Resources ;if _ada ==nil {_ada =_eac ;};_febg ,_bgfc ,_gda ,_cdga :=_cfc .extractPageText (string (_dab ),_ada ,_db .Mult (_bbc .CTM ),_dbe +1);if _cdga !=nil {_fc .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_cdga );return _cdga ;};_gdc =textResult {*_febg ,_bgfc ,_gda };_cfc ._gcf [_aabg .String ()]=_gdc ;};_eccd ._febce =_bbc .CTM ;if _ccgb {_fc .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_eccd ._febce );};_acb ._efe =append (_acb ._efe ,_gdc ._fccc ._efe ...);_acb ._gcbe =append (_acb ._gcbe ,_gdc ._fccc ._gcbe ...);_acb ._fdc =append (_acb ._fdc ,_gdc ._fccc ._fdc ...);_cfa ._fff +=_gdc ._ffa ;_cfa ._bbda +=_gdc ._ged ;case "\u0072\u0067","\u0067","\u006b","\u0063\u0073","\u0073\u0063","\u0073\u0063\u006e":_de ._cgf .ColorspaceNonStroking =_bbc .ColorspaceNonStroking ;_de ._cgf .ColorNonStroking =_bbc .ColorNonStroking ;case "\u0052\u0047","\u0047","\u004b","\u0043\u0053","\u0053\u0043","\u0053\u0043\u004e":_de ._cgf .ColorspaceStroking =_bbc .ColorspaceStroking ;_de ._cgf .ColorStroking =_bbc .ColorStroking ;};return nil ;});_dbb =_ggge .Process (_fcg );return _acb ,_cfa ._fff ,_cfa ._bbda ,_dbb ;};

// String returns a human readable description of `path`.
func (_aadd *subpath )String ()string {_affa :=_aadd ._deaf ;_aeccg :=len (_affa );if _aeccg <=5{return _a .Sprintf ("\u0025d\u003a\u0020\u0025\u0036\u002e\u0032f",_aeccg ,_affa );};return _a .Sprintf ("\u0025d\u003a\u0020\u0025\u0036.\u0032\u0066\u0020\u0025\u0036.\u0032f\u0020.\u002e\u002e\u0020\u0025\u0036\u002e\u0032f",_aeccg ,_affa [0],_affa [1],_affa [_aeccg -1]);};func (_fdb *textObject )setFont (_gga string ,_gbga float64 )error {if _fdb ==nil {return nil ;};_fdb ._baa ._ccbe =_gbga ;_afb ,_bgdf :=_fdb .getFont (_gga );if _bgdf !=nil {return _bgdf ;};_fdb ._baa ._dbg =_afb ;if _fdb ._gceg .empty (){_fdb ._gceg .push (_fdb ._baa );}else {_fdb ._gceg .top ()._dbg =_fdb ._baa ._dbg ;};return nil ;};func (_dggb *wordBag )empty (_aeac int )bool {_ ,_eafd :=_dggb ._eedgg [_aeac ];return !_eafd };func _gccge (_cgef ,_cagc *textPara )bool {return _dbdcd (_cgef ._eegg ,_cagc ._eegg )};func (_dccg *stateStack )pop ()*textState {if _dccg .empty (){return nil ;};_adgd :=*(*_dccg )[len (*_dccg )-1];*_dccg =(*_dccg )[:len (*_dccg )-1];return &_adgd ;};func (_efdgf *textTable )emptyColumn (_adab int )bool {for _ggbce :=0;_ggbce < _efdgf ._effde ;_ggbce ++{_cegb :=_efdgf .get (_adab ,_ggbce );if _cegb !=nil &&_cegb .text ()!=""{return false ;};};return true ;};func _bcaa (_bfbc *textWord ,_egf float64 ,_dded ,_febec rulingList )*wordBag {_gegc :=_ddce (_bfbc ._bccba );_dfgg :=[]*textWord {_bfbc };_fbg :=wordBag {_eedgg :map[int ][]*textWord {_gegc :_dfgg },PdfRectangle :_bfbc .PdfRectangle ,_deb :_bfbc ._feeea ,_bcc :_egf ,_gddg :_dded ,_afdd :_febec };return &_fbg ;};func _efcef (_fcgfa float64 )float64 {return _debc *_fe .Round (_fcgfa /_debc )};func (_fabaf *textPara )isAtom ()*textTable {_fgge :=_fabaf ;_dcabf :=_fabaf ._cbbc ;_fecfe :=_fabaf ._cbcb ;if !(_dcabf !=nil &&!_dcabf ._bcecf &&_fecfe !=nil &&!_fecfe ._bcecf ){return nil ;};_abbga :=_dcabf ._cbcb ;if !(_abbga !=nil &&!_abbga ._bcecf &&_abbga ==_fecfe ._cbbc ){return nil ;};return _gecg (_fgge ,_dcabf ,_fecfe ,_abbga );};func _ccf (_afef _c .Point )_c .Matrix {return _c .TranslationMatrix (_afef .X ,_afef .Y )};func (_aebba *textPara )toCellTextMarks (_ccag *int )[]TextMark {var _gbbc []TextMark ;for _adga ,_bdbb :=range _aebba ._bgga {_afcb :=_bdbb .toTextMarks (_ccag );_ebba :=_ffbc &&_bdbb .endsInHyphen ()&&_adga !=len (_aebba ._bgga )-1;if _ebba {_afcb =_gabe (_afcb ,_ccag );};_gbbc =append (_gbbc ,_afcb ...);if !(_ebba ||_adga ==len (_aebba ._bgga )-1){_gbbc =_gadd (_gbbc ,_ccag ,_gbdc (_bdbb ._gggd ,_aebba ._bgga [_adga +1]._gggd ));};};return _gbbc ;};func (_fdfdf *textWord )absorb (_gafb *textWord ){_fdfdf .PdfRectangle =_dgacd (_fdfdf .PdfRectangle ,_gafb .PdfRectangle );_fdfdf ._ccbcf =append (_fdfdf ._ccbcf ,_gafb ._ccbcf ...);};func (_cbgg *ruling )gridIntersecting (_dgfe *ruling )bool {return _gbagc (_cbgg ._fdag ,_dgfe ._fdag )&&_gbagc (_cbgg ._bcbfge ,_dgfe ._bcbfge );};func _bcag (_ffae _ca .PdfRectangle ,_bagd bounded )float64 {return _ffae .Ury -_bagd .bbox ().Lly };func _ceba (_gdeg *Extractor ,_aaac *_ca .PdfPageResources ,_bcf _bbg .GraphicsState ,_fgec *textState ,_eaf *stateStack )*textObject {return &textObject {_gede :_gdeg ,_bcec :_aaac ,_cgf :_bcf ,_gceg :_eaf ,_baa :_fgec ,_baeg :_c .IdentityMatrix (),_fdg :_c .IdentityMatrix ()};};type gridTiling struct{_ca .PdfRectangle ;_fcecc []float64 ;_fabe []float64 ;_bgfcf map[float64 ]map[float64 ]gridTile ;};func (_dcfa *wordBag )makeRemovals ()map[int ]map[*textWord ]struct{}{_gdaa :=make (map[int ]map[*textWord ]struct{},len (_dcfa ._eedgg ));for _fege :=range _dcfa ._eedgg {_gdaa [_fege ]=make (map[*textWord ]struct{});};return _gdaa ;};func (_dcf *textObject )setCharSpacing (_adc float64 ){if _dcf ==nil {return ;};_dcf ._baa ._aad =_adc ;if _fgbc {_fc .Log .Info ("\u0073\u0065t\u0043\u0068\u0061\u0072\u0053\u0070\u0061\u0063\u0069\u006e\u0067\u003a\u0020\u0025\u002e\u0032\u0066\u0020\u0073\u0074\u0061\u0074e=\u0025\u0073",_adc ,_dcf ._baa .String ());};};func _eeefd (_gbdg func (*wordBag ,*textWord ,float64 )bool ,_cfbb float64 )func (*wordBag ,*textWord )bool {return func (_gdfg *wordBag ,_cdcaf *textWord )bool {return _gbdg (_gdfg ,_cdcaf ,_cfbb )};};func (_ebfb *ruling )alignsPrimary (_dagfd *ruling )bool {return _ebfb ._adeg ==_dagfd ._adeg &&_fe .Abs (_ebfb ._bbba -_dagfd ._bbba )< _baac *0.5;};func (_bbd *textObject )setHorizScaling (_bgde float64 ){if _bbd ==nil {return ;};_bbd ._baa ._aegc =_bgde ;};func (_fdfa rulingList )aligned ()bool {if len (_fdfa )< 2{return false ;};_caea :=make (map[*ruling ]int );_caea [_fdfa [0]]=0;for _ ,_cfgae :=range _fdfa [1:]{_egcff :=false ;for _gfef :=range _caea {if _cfgae .gridIntersecting (_gfef ){_caea [_gfef ]++;_egcff =true ;break ;};};if !_egcff {_caea [_cfgae ]=0;};};_ecdd :=0;for _ ,_egfe :=range _caea {if _egfe ==0{_ecdd ++;};};_debg :=float64 (_ecdd )/float64 (len (_fdfa ));_dgbf :=_debg <=1.0-_gebc ;if _egbc {_fc .Log .Info ("\u0061\u006c\u0069\u0067\u006e\u0065\u0064\u003d\u0025\u0074\u0020\u0075\u006em\u0061\u0074\u0063\u0068\u0065\u0064=\u0025\u002e\u0032\u0066\u003d\u0025\u0064\u002f\u0025\u0064\u0020\u0076\u0065c\u0073\u003d\u0025\u0073",_dgbf ,_debg ,_ecdd ,len (_fdfa ),_fdfa .String ());};return _dgbf ;};type gridTile struct{_ca .PdfRectangle ;_afabc ,_acfdf ,_agaa ,_baab bool ;};func _bcbdc (_fcbd *wordBag ,_abbc float64 ,_dgafg ,_eff rulingList )[]*wordBag {var _decb []*wordBag ;for _ ,_fadb :=range _fcbd .depthIndexes (){_gbag :=false ;for !_fcbd .empty (_fadb ){_deff :=_fcbd .firstReadingIndex (_fadb );_gdfc :=_fcbd .firstWord (_deff );_ecga :=_bcaa (_gdfc ,_abbc ,_dgafg ,_eff );_fcbd .removeWord (_gdfc ,_deff );if _eadc {_fc .Log .Info ("\u0066\u0069\u0072\u0073\u0074\u0057\u006f\u0072\u0064\u0020\u005e\u005e^\u005e\u0020\u0025\u0073",_gdfc .String ());};for _cac :=true ;_cac ;_cac =_gbag {_gbag =false ;_dfgc :=_egbcd *_ecga ._deb ;_dffg :=_ddffe *_ecga ._deb ;_ebbba :=_gdaf *_ecga ._deb ;if _eadc {_fc .Log .Info ("\u0070a\u0072a\u0057\u006f\u0072\u0064\u0073\u0020\u0064\u0065\u0070\u0074\u0068 \u0025\u002e\u0032\u0066 \u002d\u0020\u0025\u002e\u0032f\u0020\u006d\u0061\u0078\u0049\u006e\u0074\u0072\u0061\u0044\u0065\u0070\u0074\u0068\u0047\u0061\u0070\u003d\u0025\u002e\u0032\u0066\u0020\u006d\u0061\u0078\u0049\u006e\u0074\u0072\u0061R\u0065\u0061\u0064\u0069\u006e\u0067\u0047\u0061p\u003d\u0025\u002e\u0032\u0066",_ecga .minDepth (),_ecga .maxDepth (),_ebbba ,_dffg );};if _fcbd .scanBand ("\u0076\u0065\u0072\u0074\u0069\u0063\u0061\u006c",_ecga ,_eeefd (_bgfa ,0),_ecga .minDepth ()-_ebbba ,_ecga .maxDepth ()+_ebbba ,_dbec ,false ,false )> 0{_gbag =true ;};if _fcbd .scanBand ("\u0068\u006f\u0072\u0069\u007a\u006f\u006e\u0074\u0061\u006c",_ecga ,_eeefd (_bgfa ,_dffg ),_ecga .minDepth (),_ecga .maxDepth (),_gcda ,false ,false )> 0{_gbag =true ;};if _gbag {continue ;};_edba :=_fcbd .scanBand ("",_ecga ,_eeefd (_feecb ,_dfgc ),_ecga .minDepth (),_ecga .maxDepth (),_cgdc ,true ,false );if _edba > 0{_cada :=(_ecga .maxDepth ()-_ecga .minDepth ())/_ecga ._deb ;if (_edba > 1&&float64 (_edba )> 0.3*_cada )||_edba <=10{if _fcbd .scanBand ("\u006f\u0074\u0068e\u0072",_ecga ,_eeefd (_feecb ,_dfgc ),_ecga .minDepth (),_ecga .maxDepth (),_cgdc ,false ,true )> 0{_gbag =true ;};};};};_decb =append (_decb ,_ecga );};};return _decb ;};func (_ffd *subpath )add (_bbcc ..._c .Point ){_ffd ._deaf =append (_ffd ._deaf ,_bbcc ...)};func (_bcg *subpath )removeDuplicates (){if len (_bcg ._deaf )==0{return ;};_adgb :=[]_c .Point {_bcg ._deaf [0]};for _ ,_adba :=range _bcg ._deaf [1:]{if !_egdd (_adba ,_adgb [len (_adgb )-1]){_adgb =append (_adgb ,_adba );};};_bcg ._deaf =_adgb ;};func (_beba gridTile )complete ()bool {return _beba .numBorders ()==4};type paraList []*textPara ;type lineRuling struct{_faaee rulingKind ;_bcfb markKind ;_be .Color ;_aae ,_dabc _c .Point ;};func (_ffcd *textWord )computeText ()string {_bfdfg :=make ([]string ,len (_ffcd ._ccbcf ));for _aebd ,_dbfg :=range _ffcd ._ccbcf {_bfdfg [_aebd ]=_dbfg ._cfdg ;};return _g .Join (_bfdfg ,"");};func (_cefa *textMark )inDiacriticArea (_gbfc *textMark )bool {_gebca :=_cefa .Llx -_gbfc .Llx ;_ddfc :=_cefa .Urx -_gbfc .Urx ;_cbfb :=_cefa .Lly -_gbfc .Lly ;return _fe .Abs (_gebca +_ddfc )< _cefa .Width ()*_gafc &&_fe .Abs (_cbfb )< _cefa .Height ()*_gafc ;};func (_eeg *wordBag )depthRange (_fcec ,_fdgg int )[]int {var _dfff []int ;for _eeef :=range _eeg ._eedgg {if _fcec <=_eeef &&_eeef <=_fdgg {_dfff =append (_dfff ,_eeef );};};if len (_dfff )==0{return nil ;};_fg .Ints (_dfff );return _dfff ;};func (_bbe *PageText )computeViews (){var _fbbg rulingList ;if _ebag {_bbdd :=_bgdfa (_bbe ._gcbe );_fbbg =append (_fbbg ,_bbdd ...);};if _ebd {_bdbc :=_cfab (_bbe ._fdc );_fbbg =append (_fbbg ,_bdbc ...);};_fbbg ,_acg :=_fbbg .toTilings ();var _gcbc paraList ;_ccbb :=len (_bbe ._efe );for _daa :=0;_daa < 360&&_ccbb > 0;_daa +=90{_dcd :=make ([]*textMark ,0,len (_bbe ._efe )-_ccbb );for _ ,_ffcc :=range _bbe ._efe {if _ffcc ._dbgg ==_daa {_dcd =append (_dcd ,_ffcc );};};if len (_dcd )> 0{_aacd :=_ggga (_dcd ,_bbe ._eccdg ,_fbbg ,_acg );_gcbc =append (_gcbc ,_aacd ...);_ccbb -=len (_dcd );};};_ddeg :=new (_gg .Buffer );_gcbc .writeText (_ddeg );_bbe ._fdba =_ddeg .String ();_bbe ._ecb =_gcbc .toTextMarks ();_bbe ._gcef =_gcbc .tables ();if _afbd {_fc .Log .Info ("\u0063\u006f\u006dpu\u0074\u0065\u0056\u0069\u0065\u0077\u0073\u003a\u0020\u0074\u0061\u0062\u006c\u0065\u0073\u003d\u0025\u0064",len (_bbe ._gcef ));};};func (_cebg *shapesState )newSubPath (){_cebg .clearPath ();if _ccgb {_fc .Log .Info ("\u006e\u0065\u0077\u0053\u0075\u0062\u0050\u0061\u0074h\u003a\u0020\u0025\u0073",_cebg );};};func (_dccb *subpath )close (){if !_egdd (_dccb ._deaf [0],_dccb .last ()){_dccb .add (_dccb ._deaf [0]);};_dccb ._cgfa =true ;_dccb .removeDuplicates ();};type shapesState struct{_febce _c .Matrix ;_beac _c .Matrix ;_bdgb []*subpath ;_daff bool ;_gfb _c .Point ;_dba *textObject ;};func (_dfbf rulingList )removeDuplicates ()rulingList {if len (_dfbf )==0{return nil ;};_dfbf .sort ();_gggcc :=rulingList {_dfbf [0]};for _ ,_addf :=range _dfbf [1:]{if _addf .equals (_gggcc [len (_gggcc )-1]){continue ;};_gggcc =append (_gggcc ,_addf );};return _gggcc ;};

// ExtractPageText returns the text contents of `e` (an Extractor for a page) as a PageText.
// TODO(peterwilliams97): The stats complicate this function signature and aren't very useful.
//                        Replace with a function like Extract() (*PageText, error)
func (_egc *Extractor )ExtractPageText ()(*PageText ,int ,int ,error ){_cdc ,_bag ,_gag ,_cebf :=_egc .extractPageText (_egc ._ag ,_egc ._ae ,_c .IdentityMatrix (),0);if _cebf !=nil {return nil ,0,0,_cebf ;};_cdc .computeViews ();_cebf =_edaad (_cdc );if _cebf !=nil {return nil ,0,0,_cebf ;};return _cdc ,_bag ,_gag ,nil ;};func (_ffgc rulingList )snapToGroupsDirection ()rulingList {_ffgc .sortStrict ();_bace :=make (map[*ruling ]rulingList ,len (_ffgc ));_daed :=_ffgc [0];_eddd :=func (_bdec *ruling ){_daed =_bdec ;_bace [_daed ]=rulingList {_bdec }};_eddd (_ffgc [0]);for _ ,_acfa :=range _ffgc [1:]{if _acfa ._bbba < _daed ._bbba -_abce {_fc .Log .Error ("\u0073\u006e\u0061\u0070T\u006f\u0047\u0072\u006f\u0075\u0070\u0073\u0044\u0069r\u0065\u0063\u0074\u0069\u006f\u006e\u003a\u0020\u0057\u0072\u006f\u006e\u0067\u0020\u0070\u0072\u0069\u006da\u0072\u0079\u0020\u006f\u0072d\u0065\u0072\u002e\u000a\u0009\u0076\u0030\u003d\u0025\u0073\u000a\u0009\u0020\u0076\u003d\u0025\u0073",_daed ,_acfa );};if _acfa ._bbba > _daed ._bbba +_baac {_eddd (_acfa );}else {_bace [_daed ]=append (_bace [_daed ],_acfa );};};_cgdag :=make (map[*ruling ]float64 ,len (_bace ));_gbggf :=make (map[*ruling ]*ruling ,len (_ffgc ));for _daec ,_dgfc :=range _bace {_cgdag [_daec ]=_dgfc .mergePrimary ();for _ ,_edaa :=range _dgfc {_gbggf [_edaa ]=_daec ;};};for _ ,_gacdf :=range _ffgc {_gacdf ._bbba =_cgdag [_gbggf [_gacdf ]];};_aaaa :=make (rulingList ,0,len (_ffgc ));for _ ,_accfg :=range _bace {_faaef :=_accfg .splitSec ();for _faed ,_gbdcd :=range _faaef {_bdfc :=_gbdcd .merge ();if len (_aaaa )> 0{_bbfb :=_aaaa [len (_aaaa )-1];if _bbfb .alignsPrimary (_bdfc )&&_bbfb .alignsSec (_bdfc ){_fc .Log .Error ("\u0073\u006e\u0061\u0070\u0054\u006fG\u0072\u006f\u0075\u0070\u0073\u0044\u0069\u0072\u0065\u0063\u0074\u0069\u006f\u006e\u003a\u0020\u0044\u0075\u0070\u006ci\u0063\u0061\u0074\u0065\u0020\u0069\u003d\u0025\u0064\u000a\u0009\u0077\u003d\u0025s\u000a\t\u0076\u003d\u0025\u0073",_faed ,_bbfb ,_bdfc );continue ;};};_aaaa =append (_aaaa ,_bdfc );};};_aaaa .sortStrict ();return _aaaa ;};func (_gae *imageExtractContext )extractFormImages (_ad *_gc .PdfObjectName ,_ggg _bbg .GraphicsState ,_cfb *_ca .PdfPageResources )error {_geg ,_fce :=_cfb .GetXObjectFormByName (*_ad );if _fce !=nil {return _fce ;};if _geg ==nil {return nil ;};_gfe ,_fce :=_geg .GetContentStream ();if _fce !=nil {return _fce ;};_efb :=_geg .Resources ;if _efb ==nil {_efb =_cfb ;};_fce =_gae .extractContentStreamImages (string (_gfe ),_efb );if _fce !=nil {return _fce ;};_gae ._ed ++;return nil ;};func (_cbcfe *ruling )equals (_bbce *ruling )bool {return _cbcfe ._adeg ==_bbce ._adeg &&_gbagc (_cbcfe ._bbba ,_bbce ._bbba )&&_gbagc (_cbcfe ._fdag ,_bbce ._fdag )&&_gbagc (_cbcfe ._bcbfge ,_bbce ._bcbfge );};func _dafc (_fffc _ca .PdfRectangle )rulingKind {_cfea :=_fffc .Width ();_fcba :=_fffc .Height ();if _cfea > _fcba {if _cfea >=_dafg {return _cdab ;};}else {if _fcba >=_dafg {return _aefbb ;};};return _aaeg ;};func (_bfgb *shapesState )establishSubpath ()*subpath {_fae ,_acf :=_bfgb .lastpointEstablished ();if !_acf {_bfgb ._bdgb =append (_bfgb ._bdgb ,_geag (_fae ));};if len (_bfgb ._bdgb )==0{return nil ;};_bfgb ._daff =false ;return _bfgb ._bdgb [len (_bfgb ._bdgb )-1];};func _fcea (_defa bounded )float64 {return -_defa .bbox ().Lly };func (_bccgg paraList )findTextTables ()[]*textTable {var _cabc []*textTable ;for _ ,_ccce :=range _bccgg {if _ccce .taken ()||_ccce .Width ()==0{continue ;};_bdfcg :=_ccce .isAtom ();if _bdfcg ==nil {continue ;};_bdfcg .growTable ();if _bdfcg ._fbdb *_bdfcg ._effde < _bccb {continue ;};_bdfcg .markCells ();_bdfcg .log ("\u0067\u0072\u006fw\u006e");_cabc =append (_cabc ,_bdfcg );};return _cabc ;};func (_cdca *wordBag )depthBand (_bdabc ,_fbd float64 )[]int {if len (_cdca ._eedgg )==0{return nil ;};return _cdca .depthRange (_cdca .getDepthIdx (_bdabc ),_cdca .getDepthIdx (_fbd ));};func _ceae (_bccgc map[float64 ]map[float64 ]gridTile )[]float64 {_ceabf :=make ([]float64 ,0,len (_bccgc ));_gcbfa :=make (map[float64 ]struct{},len (_bccgc ));for _ ,_bcecfg :=range _bccgc {for _dfgca :=range _bcecfg {if _ ,_feee :=_gcbfa [_dfgca ];_feee {continue ;};_ceabf =append (_ceabf ,_dfgca );_gcbfa [_dfgca ]=struct{}{};};};_fg .Float64s (_ceabf );return _ceabf ;};func (_acfe *textLine )text ()string {var _bdbd []string ;for _ ,_geaf :=range _acfe ._gggb {if _geaf ._abgde {_bdbd =append (_bdbd ,"\u0020");};_bdbd =append (_bdbd ,_geaf ._degca );};return _g .Join (_bdbd ,"");};func (_eeaa *ruling )alignsSec (_ddcf *ruling )bool {const _befef =_baac +1.0;return _eeaa ._fdag -_befef <=_ddcf ._bcbfge &&_ddcf ._fdag -_befef <=_eeaa ._bcbfge ;};func _cfab (_degf []pathSection )rulingList {_abebc (_degf );if _egbc {_fc .Log .Info ("\u006da\u006b\u0065\u0046\u0069l\u006c\u0052\u0075\u006c\u0069n\u0067s\u003a \u0025\u0064\u0020\u0066\u0069\u006c\u006cs",len (_degf ));};var _cefg rulingList ;for _ ,_adgf :=range _degf {for _ ,_ffcfd :=range _adgf ._caf {if !_ffcfd .isQuadrilateral (){if _egbc {_fc .Log .Error ("!\u0069s\u0051\u0075\u0061\u0064\u0072\u0069\u006c\u0061t\u0065\u0072\u0061\u006c: \u0025\u0073",_ffcfd );};continue ;};if _agecg ,_edbf :=_ffcfd .makeRectRuling (_adgf .Color );_edbf {_cefg =append (_cefg ,_agecg );}else {if _faba {_fc .Log .Error ("\u0021\u006d\u0061\u006beR\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0025\u0073",_ffcfd );};};};};if _egbc {_fc .Log .Info ("\u006d\u0061\u006b\u0065Fi\u006c\u006c\u0052\u0075\u006c\u0069\u006e\u0067\u0073\u003a\u0020\u0025\u0073",_cefg .String ());};return _cefg ;};func (_eggde *textTable )toTextTable ()TextTable {if _afbd {_fc .Log .Info ("t\u006fT\u0065\u0078\u0074\u0054\u0061\u0062\u006c\u0065:\u0020\u0025\u0064\u0020x \u0025\u0064",_eggde ._fbdb ,_eggde ._effde );};_acacg :=make ([][]TableCell ,_eggde ._effde );for _cagb :=0;_cagb < _eggde ._effde ;_cagb ++{_acacg [_cagb ]=make ([]TableCell ,_eggde ._fbdb );for _fgdfb :=0;_fgdfb < _eggde ._fbdb ;_fgdfb ++{_dadg :=_eggde .get (_fgdfb ,_cagb );if _dadg ==nil {continue ;};if _afbd {_a .Printf ("\u0025\u0034\u0064 \u0025\u0032\u0064\u003a\u0020\u0025\u0073\u000a",_fgdfb ,_cagb ,_dadg );};_acacg [_cagb ][_fgdfb ].Text =_dadg .text ();_cbaff :=0;_acacg [_cagb ][_fgdfb ].Marks ._bgebf =_dadg .toTextMarks (&_cbaff );};};return TextTable {W :_eggde ._fbdb ,H :_eggde ._effde ,Cells :_acacg };};func (_acdc rulingList )isActualGrid ()(rulingList ,bool ){_dcgc ,_faeg :=_acdc .augmentGrid ();if !(len (_dcgc )>=_dgaf +1&&len (_faeg )>=_efed +1){if _egbc {_fc .Log .Info ("\u0069s\u0041\u0063t\u0075\u0061\u006c\u0047r\u0069\u0064\u003a \u004e\u006f\u0074\u0020\u0061\u006c\u0069\u0067\u006eed\u002e\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u003c\u0020\u0025d\u0020\u0078 \u0025\u0064",len (_dcgc ),len (_faeg ),_dgaf +1,_efed +1);};return nil ,false ;};if _egbc {_fc .Log .Info ("\u0069\u0073\u0041\u0063\u0074\u0075a\u006c\u0047\u0072\u0069\u0064\u003a\u0020\u0025\u0073\u0020\u003a\u0020\u0025t\u0020\u0026\u0020\u0025\u0074\u0020\u2192 \u0025\u0074",_acdc ,len (_dcgc )>=2,len (_faeg )>=2,len (_dcgc )>=2&&len (_faeg )>=2);for _fdced ,_ddega :=range _acdc {_a .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0076\u000a",_fdced ,_ddega );};};if _acea {_fcfb ,_efgdaf :=_dcgc [0],_dcgc [len (_dcgc )-1];_fgcb ,_fcbf :=_faeg [0],_faeg [len (_faeg )-1];if !(_gcaf (_fcfb ._bbba -_fgcb ._fdag )&&_gcaf (_efgdaf ._bbba -_fgcb ._bcbfge )&&_gcaf (_fgcb ._bbba -_fcfb ._bcbfge )&&_gcaf (_fcbf ._bbba -_fcfb ._fdag )){if _egbc {_fc .Log .Info ("\u0069\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069d\u003a\u0020\u0020N\u006f\u0074 \u0061\u006c\u0069\u0067\u006e\u0065d\u002e\n\t\u0076\u0030\u003d\u0025\u0073\u000a\u0009\u0076\u0031\u003d\u0025\u0073\u000a\u0009\u0068\u0030\u003d\u0025\u0073\u000a\u0009\u0068\u0031\u003d\u0025\u0073",_fcfb ,_efgdaf ,_fgcb ,_fcbf );};return nil ,false ;};}else {if !_dcgc .aligned (){if _abde {_fc .Log .Info ("i\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069\u0064\u003a\u0020N\u006f\u0074\u0020\u0061\u006c\u0069\u0067n\u0065\u0064\u0020\u0076\u0065\u0072\u0074\u0073\u002e\u0020%\u0064",len (_dcgc ));};return nil ,false ;};if !_faeg .aligned (){if _egbc {_fc .Log .Info ("i\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069\u0064\u003a\u0020N\u006f\u0074\u0020\u0061\u006c\u0069\u0067n\u0065\u0064\u0020\u0068\u006f\u0072\u007a\u0073\u002e\u0020%\u0064",len (_faeg ));};return nil ,false ;};};_dbcgg :=append (_dcgc ,_faeg ...);return _dbcgg ,true ;};func (_fddf rulingList )augmentGrid ()(rulingList ,rulingList ){_gdeb ,_afbe :=_fddf .vertsHorzs ();if len (_gdeb )==0||len (_afbe )==0{return _gdeb ,_afbe ;};_eegc ,_cefb :=_gdeb ,_afbe ;_egba :=_gdeb .bbox ();_ggdde :=_afbe .bbox ();if _egbc {_fc .Log .Info ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0047\u0072\u0069\u0064\u003a\u0020b\u0062\u006f\u0078\u0056\u003d\u0025\u0036\u002e\u0032\u0066",_egba );_fc .Log .Info ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0047\u0072\u0069\u0064\u003a\u0020b\u0062\u006f\u0078\u0048\u003d\u0025\u0036\u002e\u0032\u0066",_ggdde );};var _cedbaa ,_eacda ,_gaaf ,_aedc *ruling ;if _ggdde .Llx < _egba .Llx -_cfaac {_cedbaa =&ruling {_gccd :_cgegf ,_adeg :_aefbb ,_bbba :_ggdde .Llx ,_fdag :_egba .Lly ,_bcbfge :_egba .Ury };_gdeb =append (rulingList {_cedbaa },_gdeb ...);};if _ggdde .Urx > _egba .Urx +_cfaac {_eacda =&ruling {_gccd :_cgegf ,_adeg :_aefbb ,_bbba :_ggdde .Urx ,_fdag :_egba .Lly ,_bcbfge :_egba .Ury };_gdeb =append (_gdeb ,_eacda );};if _egba .Lly < _ggdde .Lly -_cfaac {_gaaf =&ruling {_gccd :_cgegf ,_adeg :_cdab ,_bbba :_egba .Lly ,_fdag :_ggdde .Llx ,_bcbfge :_ggdde .Urx };_afbe =append (rulingList {_gaaf },_afbe ...);};if _egba .Ury > _ggdde .Ury +_cfaac {_aedc =&ruling {_gccd :_cgegf ,_adeg :_cdab ,_bbba :_egba .Ury ,_fdag :_ggdde .Llx ,_bcbfge :_ggdde .Urx };_afbe =append (_afbe ,_aedc );};if len (_gdeb )+len (_afbe )==len (_fddf ){return _eegc ,_cefb ;};_ddad :=append (_gdeb ,_afbe ...);_fddf .log ("u\u006e\u0061\u0075\u0067\u006d\u0065\u006e\u0074\u0065\u0064");_ddad .log ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0065d");return _gdeb ,_afbe ;};var _bdaf =_e .MustCompile ("\u005e\u005c\u0073\u002a\u0028\u005c\u0064\u002b\u005c\u002e\u003f|\u005b\u0049\u0069\u0076\u005d\u002b\u0029\u005c\u0073\u002a\\\u0029\u003f\u0024");func (_ecefd *ruling )intersects (_dfgae *ruling )bool {_bcfef :=(_ecefd ._adeg ==_aefbb &&_dfgae ._adeg ==_cdab )||(_dfgae ._adeg ==_aefbb &&_ecefd ._adeg ==_cdab );_fead :=func (_gafe ,_fccdg *ruling )bool {return _gafe ._fdag -_cfaac <=_fccdg ._bbba &&_fccdg ._bbba <=_gafe ._bcbfge +_cfaac ;};_aaacd :=_fead (_ecefd ,_dfgae );_gcgd :=_fead (_dfgae ,_ecefd );if _egbc {_a .Printf ("\u0020\u0020\u0020\u0020\u0069\u006e\u0074\u0065\u0072\u0073\u0065\u0063\u0074\u0073\u003a\u0020\u0020\u006fr\u0074\u0068\u006f\u0067\u006f\u006e\u0061l\u003d\u0025\u0074\u0020\u006f\u0031\u003d\u0025\u0074\u0020\u006f2\u003d\u0025\u0074\u0020\u2192\u0020\u0025\u0074\u000a"+"\u0020\u0020\u0020 \u0020\u0020\u0020\u0076\u003d\u0025\u0073\u000a"+" \u0020\u0020\u0020\u0020\u0020\u0077\u003d\u0025\u0073\u000a",_bcfef ,_aaacd ,_gcgd ,_bcfef &&_aaacd &&_gcgd ,_ecefd ,_dfgae );};return _bcfef &&_aaacd &&_gcgd ;};func (_beadb paraList )writeText (_deca _f .Writer ){for _bagb ,_aedb :=range _beadb {if _aedb ._dage {continue ;};_aedb .writeText (_deca );if _bagb !=len (_beadb )-1{if _cace (_aedb ,_beadb [_bagb +1]){_deca .Write ([]byte ("\u0020"));}else {_deca .Write ([]byte ("\u000a"));_deca .Write ([]byte ("\u000a"));};};};_deca .Write ([]byte ("\u000a"));_deca .Write ([]byte ("\u000a"));};
//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

//
// Package extractor is used for quickly extracting PDF content through a simple interface.
// Currently offers functionality for extracting textual content.
//
package extractor ;import (_e "bytes";_g "errors";_cca "fmt";_gf "github.com/unidoc/unipdf/v3/common";_dfd "github.com/unidoc/unipdf/v3/common/license";_gg "github.com/unidoc/unipdf/v3/contentstream";_gfg "github.com/unidoc/unipdf/v3/core";_fg "github.com/unidoc/unipdf/v3/internal/textencoding";_bc "github.com/unidoc/unipdf/v3/internal/transform";_ec "github.com/unidoc/unipdf/v3/model";_dfc "golang.org/x/text/unicode/norm";_cg "golang.org/x/xerrors";_cc "image/color";_c "io";_a "math";_df "regexp";_fb "sort";_cb "strings";_b "unicode";_f "unicode/utf8";);func (_dgb *wordBag )absorb (_abg *wordBag ){_eaff :=_abg .makeRemovals ();for _gada ,_fcf :=range _abg ._gcef {for _ ,_aeeg :=range _fcf {_dgb .pullWord (_aeeg ,_gada ,_eaff );};};_abg .applyRemovals (_eaff );};func _degbf (_bgge ,_efdc _ec .PdfRectangle )(_ec .PdfRectangle ,bool ){if !_fede (_bgge ,_efdc ){return _ec .PdfRectangle {},false ;};return _ec .PdfRectangle {Llx :_a .Max (_bgge .Llx ,_efdc .Llx ),Urx :_a .Min (_bgge .Urx ,_efdc .Urx ),Lly :_a .Max (_bgge .Lly ,_efdc .Lly ),Ury :_a .Min (_bgge .Ury ,_efdc .Ury )},true ;};func (_cdgf lineRuling )asRuling ()(*ruling ,bool ){_adef :=ruling {_cde :_cdgf ._aded ,Color :_cdgf .Color ,_ebg :_bbba };switch _cdgf ._aded {case _adfb :_adef ._bbaca =_cdgf .xMean ();_adef ._fdeee =_a .Min (_cdgf ._fcga .Y ,_cdgf ._cegbc .Y );_adef ._eegg =_a .Max (_cdgf ._fcga .Y ,_cdgf ._cegbc .Y );case _dfcbe :_adef ._bbaca =_cdgf .yMean ();_adef ._fdeee =_a .Min (_cdgf ._fcga .X ,_cdgf ._cegbc .X );_adef ._eegg =_a .Max (_cdgf ._fcga .X ,_cdgf ._cegbc .X );default:_gf .Log .Error ("\u0062\u0061\u0064\u0020pr\u0069\u006d\u0061\u0072\u0079\u0020\u006b\u0069\u006e\u0064\u003d\u0025\u0064",_cdgf ._aded );return nil ,false ;};return &_adef ,true ;};func (_edgc *stateStack )top ()*textState {if _edgc .empty (){return nil ;};return (*_edgc )[_edgc .size ()-1];};var _ecfc =TextMark {Text :"\u005b\u0058\u005d",Original :"\u0020",Meta :true ,FillColor :_cc .White ,StrokeColor :_cc .White };func _dgff (_dba []*wordBag )[]*wordBag {if len (_dba )<=1{return _dba ;};if _bgcb {_gf .Log .Info ("\u006d\u0065\u0072\u0067\u0065\u0057\u006f\u0072\u0064B\u0061\u0067\u0073\u003a");};_fb .Slice (_dba ,func (_ccadb ,_afd int )bool {_fbac ,_ddfa :=_dba [_ccadb ],_dba [_afd ];_dbf :=_fbac .Width ()*_fbac .Height ();_aggf :=_ddfa .Width ()*_ddfa .Height ();if _dbf !=_aggf {return _dbf > _aggf ;};if _fbac .Height ()!=_ddfa .Height (){return _fbac .Height ()> _ddfa .Height ();};return _ccadb < _afd ;});var _geac []*wordBag ;_eaf :=make (intSet );for _gafc :=0;_gafc < len (_dba );_gafc ++{if _eaf .has (_gafc ){continue ;};_fef :=_dba [_gafc ];for _gfc :=_gafc +1;_gfc < len (_dba );_gfc ++{if _eaf .has (_gafc ){continue ;};_ccda :=_dba [_gfc ];_ddab :=_fef .PdfRectangle ;_ddab .Llx -=_fef ._gdff ;if _agd (_ddab ,_ccda .PdfRectangle ){_fef .absorb (_ccda );_eaf .add (_gfc );};};_geac =append (_geac ,_fef );};if len (_dba )!=len (_geac )+len (_eaf ){_gf .Log .Error ("\u006d\u0065\u0072ge\u0057\u006f\u0072\u0064\u0042\u0061\u0067\u0073\u003a \u0025d\u2192%\u0064 \u0061\u0062\u0073\u006f\u0072\u0062\u0065\u0064\u003d\u0025\u0064",len (_dba ),len (_geac ),len (_eaf ));};return _geac ;};func (_ecc *subpath )removeDuplicates (){if len (_ecc ._adfe )==0{return ;};_ded :=[]_bc .Point {_ecc ._adfe [0]};for _ ,_bfbg :=range _ecc ._adfe [1:]{if !_baebb (_bfbg ,_ded [len (_ded )-1]){_ded =append (_ded ,_bfbg );};};_ecc ._adfe =_ded ;};func _faff (_egbd bounded )float64 {return -_egbd .bbox ().Lly };func (_aebe *textLine )endsInHyphen ()bool {_bgeg :=_aebe ._abag [len (_aebe ._abag )-1];_bfca :=_bgeg ._ebeg ;_ecgd ,_egaee :=_f .DecodeLastRuneInString (_bfca );if _egaee <=0||!_b .Is (_b .Hyphen ,_ecgd ){return false ;};if _bgeg ._dfegc &&_ggcf (_bfca ){return true ;};return _ggcf (_aebe .text ());};

// String returns a human readable description of `path`.
func (_gcd *subpath )String ()string {_faaeg :=_gcd ._adfe ;_eed :=len (_faaeg );if _eed <=5{return _cca .Sprintf ("\u0025d\u003a\u0020\u0025\u0036\u002e\u0032f",_eed ,_faaeg );};return _cca .Sprintf ("\u0025d\u003a\u0020\u0025\u0036.\u0032\u0066\u0020\u0025\u0036.\u0032f\u0020.\u002e\u002e\u0020\u0025\u0036\u002e\u0032f",_eed ,_faaeg [0],_faaeg [1],_faaeg [_eed -1]);};type rulingList []*ruling ;func (_cfaa *subpath )makeRectRuling (_ccea _cc .Color )(*ruling ,bool ){if _cecc {_gf .Log .Info ("\u006d\u0061\u006beR\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0070\u0061\u0074\u0068\u003d\u0025\u0076",_cfaa );};_aefa :=_cfaa ._adfe [:4];_bdgf :=make (map[int ]rulingKind ,len (_aefa ));for _defge ,_bggc :=range _aefa {_afea :=_cfaa ._adfe [(_defge +1)%4];_bdgf [_defge ]=_beea (_bggc ,_afea );if _cecc {_cca .Printf ("\u0025\u0034\u0064: \u0025\u0073\u0020\u003d\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u002d\u0020\u0025\u0036\u002e\u0032\u0066",_defge ,_bdgf [_defge ],_bggc ,_afea );};};if _cecc {_cca .Printf ("\u0020\u0020\u0020\u006b\u0069\u006e\u0064\u0073\u003d\u0025\u002b\u0076\u000a",_bdgf );};var _caaa ,_bfab []int ;for _gbff ,_fbbd :=range _bdgf {switch _fbbd {case _dfcbe :_bfab =append (_bfab ,_gbff );case _adfb :_caaa =append (_caaa ,_gbff );};};if _cecc {_cca .Printf ("\u0020\u0020 \u0068\u006f\u0072z\u0073\u003d\u0025\u0064\u0020\u0025\u002b\u0076\u000a",len (_bfab ),_bfab );_cca .Printf ("\u0020\u0020 \u0076\u0065\u0072t\u0073\u003d\u0025\u0064\u0020\u0025\u002b\u0076\u000a",len (_caaa ),_caaa );};_deeae :=(len (_bfab )==2&&len (_caaa )==2)||(len (_bfab )==2&&len (_caaa )==0&&_edfe (_aefa [_bfab [0]],_aefa [_bfab [1]]))||(len (_caaa )==2&&len (_bfab )==0&&_dbdde (_aefa [_caaa [0]],_aefa [_caaa [1]]));if _cecc {_cca .Printf (" \u0020\u0020\u0068\u006f\u0072\u007as\u003d\u0025\u0064\u0020\u0076\u0065\u0072\u0074\u0073=\u0025\u0064\u0020o\u006b=\u0025\u0074\u000a",len (_bfab ),len (_caaa ),_deeae );};if !_deeae {if _cecc {_gf .Log .Error ("\u0021!\u006d\u0061\u006b\u0065R\u0065\u0063\u0074\u0052\u0075l\u0069n\u0067:\u0020\u0070\u0061\u0074\u0068\u003d\u0025v",_cfaa );_cca .Printf (" \u0020\u0020\u0068\u006f\u0072\u007as\u003d\u0025\u0064\u0020\u0076\u0065\u0072\u0074\u0073=\u0025\u0064\u0020o\u006b=\u0025\u0074\u000a",len (_bfab ),len (_caaa ),_deeae );};return &ruling {},false ;};if len (_caaa )==0{for _fece ,_cadg :=range _bdgf {if _cadg !=_dfcbe {_caaa =append (_caaa ,_fece );};};};if len (_bfab )==0{for _efca ,_aefc :=range _bdgf {if _aefc !=_adfb {_bfab =append (_bfab ,_efca );};};};if _cecc {_gf .Log .Info ("\u006da\u006b\u0065R\u0065\u0063\u0074\u0052u\u006c\u0069\u006eg\u003a\u0020\u0068\u006f\u0072\u007a\u0073\u003d\u0025d \u0076\u0065\u0072t\u0073\u003d%\u0064\u0020\u0070\u006f\u0069\u006et\u0073\u003d%\u0064\u000a"+"\u0009\u0020\u0068o\u0072\u007a\u0073\u003d\u0025\u002b\u0076\u000a"+"\u0009\u0020\u0076e\u0072\u0074\u0073\u003d\u0025\u002b\u0076\u000a"+"\t\u0070\u006f\u0069\u006e\u0074\u0073\u003d\u0025\u002b\u0076",len (_bfab ),len (_caaa ),len (_aefa ),_bfab ,_caaa ,_aefa );};var _dcfgb ,_egba ,_aaec ,_fecec _bc .Point ;if _aefa [_bfab [0]].Y > _aefa [_bfab [1]].Y {_aaec ,_fecec =_aefa [_bfab [0]],_aefa [_bfab [1]];}else {_aaec ,_fecec =_aefa [_bfab [1]],_aefa [_bfab [0]];};if _aefa [_caaa [0]].X > _aefa [_caaa [1]].X {_dcfgb ,_egba =_aefa [_caaa [0]],_aefa [_caaa [1]];}else {_dcfgb ,_egba =_aefa [_caaa [1]],_aefa [_caaa [0]];};_faee :=_ec .PdfRectangle {Llx :_dcfgb .X ,Urx :_egba .X ,Lly :_fecec .Y ,Ury :_aaec .Y };if _faee .Llx > _faee .Urx {_faee .Llx ,_faee .Urx =_faee .Urx ,_faee .Llx ;};if _faee .Lly > _faee .Ury {_faee .Lly ,_faee .Ury =_faee .Ury ,_faee .Lly ;};_badfg :=rectRuling {PdfRectangle :_faee ,_bfdf :_dffba (_faee ),Color :_ccea };if _badfg ._bfdf ==_afbda {if _cecc {_gf .Log .Error ("\u006da\u006b\u0065\u0052\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006eg\u003a\u0020\u006b\u0069\u006e\u0064\u003d\u006e\u0069\u006c");};return nil ,false ;};_bddc ,_bccf :=_badfg .asRuling ();if !_bccf {if _cecc {_gf .Log .Error ("\u006da\u006b\u0065\u0052\u0065c\u0074\u0052\u0075\u006c\u0069n\u0067:\u0020!\u0069\u0073\u0052\u0075\u006c\u0069\u006eg");};return nil ,false ;};if _cbee {_cca .Printf ("\u0020\u0020\u0020\u0072\u003d\u0025\u0073\u000a",_bddc .String ());};return _bddc ,true ;};func _gbfaf (_dcgcg []pathSection )rulingList {_bbbbf (_dcgcg );if _cbee {_gf .Log .Info ("\u006da\u006b\u0065\u0046\u0069l\u006c\u0052\u0075\u006c\u0069n\u0067s\u003a \u0025\u0064\u0020\u0066\u0069\u006c\u006cs",len (_dcgcg ));};var _fbd rulingList ;for _ ,_agfg :=range _dcgcg {for _ ,_gfebg :=range _agfg ._gfac {if !_gfebg .isQuadrilateral (){if _cbee {_gf .Log .Error ("!\u0069s\u0051\u0075\u0061\u0064\u0072\u0069\u006c\u0061t\u0065\u0072\u0061\u006c: \u0025\u0073",_gfebg );};continue ;};if _edggc ,_caag :=_gfebg .makeRectRuling (_agfg .Color );_caag {_fbd =append (_fbd ,_edggc );}else {if _cecc {_gf .Log .Error ("\u0021\u006d\u0061\u006beR\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0025\u0073",_gfebg );};};};};if _cbee {_gf .Log .Info ("\u006d\u0061\u006b\u0065Fi\u006c\u006c\u0052\u0075\u006c\u0069\u006e\u0067\u0073\u003a\u0020\u0025\u0073",_fbd .String ());};return _fbd ;};func (_bca *shapesState )clearPath (){_bca ._edgcf =nil ;_bca ._gcad =false ;if _ageg {_gf .Log .Info ("\u0043\u004c\u0045A\u0052\u003a\u0020\u0073\u0073\u003d\u0025\u0073",_bca );};};func (_dac *textObject )setTextRise (_cae float64 ){if _dac ==nil {return ;};_dac ._ccc ._gca =_cae ;};type stateStack []*textState ;func (_cce *wordBag )allWords ()[]*textWord {var _fddf []*textWord ;for _ ,_bbdfe :=range _cce ._gcef {_fddf =append (_fddf ,_bbdfe ...);};return _fddf ;};func _bbfb (_cadgd ,_afcd ,_dage ,_gcda *textPara )*textTable {_gbde :=&textTable {_cdfd :2,_dbdg :2,_ebfa :make (map[uint64 ]*textPara ,4)};_gbde .put (0,0,_cadgd );_gbde .put (1,0,_afcd );_gbde .put (0,1,_dage );_gbde .put (1,1,_gcda );return _gbde ;};func (_dag *imageExtractContext )extractContentStreamImages (_bga string ,_dc *_ec .PdfPageResources )error {_dfe :=_gg .NewContentStreamParser (_bga );_ba ,_cad :=_dfe .Parse ();if _cad !=nil {return _cad ;};if _dag ._cda ==nil {_dag ._cda =map[*_gfg .PdfObjectStream ]*cachedImage {};};if _dag ._fge ==nil {_dag ._fge =&ImageExtractOptions {};};_dgf :=_gg .NewContentStreamProcessor (*_ba );_dgf .AddHandler (_gg .HandlerConditionEnumAllOperands ,"",_dag .processOperand );return _dgf .Process (_dc );};func (_bdfbf *ruling )alignsSec (_ecec *ruling )bool {const _beca =_agdf +1.0;return _bdfbf ._fdeee -_beca <=_ecec ._eegg &&_ecec ._fdeee -_beca <=_bdfbf ._eegg ;};func (_gd *imageExtractContext )processOperand (_gdf *_gg .ContentStreamOperation ,_ggd _gg .GraphicsState ,_cbc *_ec .PdfPageResources )error {if _gdf .Operand =="\u0042\u0049"&&len (_gdf .Params )==1{_dcd ,_dbgd :=_gdf .Params [0].(*_gg .ContentStreamInlineImage );if !_dbgd {return nil ;};if _bdf ,_eea :=_gfg .GetBoolVal (_dcd .ImageMask );_eea {if _bdf &&!_gd ._fge .IncludeInlineStencilMasks {return nil ;};};return _gd .extractInlineImage (_dcd ,_ggd ,_cbc );}else if _gdf .Operand =="\u0044\u006f"&&len (_gdf .Params )==1{_dbe ,_fcb :=_gfg .GetName (_gdf .Params [0]);if !_fcb {_gf .Log .Debug ("E\u0052\u0052\u004f\u0052\u003a\u0020\u0054\u0079\u0070\u0065");return _dg ;};_ ,_dbb :=_cbc .GetXObjectByName (*_dbe );switch _dbb {case _ec .XObjectTypeImage :return _gd .extractXObjectImage (_dbe ,_ggd ,_cbc );case _ec .XObjectTypeForm :return _gd .extractFormImages (_dbe ,_ggd ,_cbc );};};return nil ;};func (_fbcgg *wordBag )text ()string {_abfg :=_fbcgg .allWords ();_fccg :=make ([]string ,len (_abfg ));for _fbf ,_gceg :=range _abfg {_fccg [_fbf ]=_gceg ._ebeg ;};return _cb .Join (_fccg ,"\u0020");};func (_ada *textObject )setTextRenderMode (_fecf int ){if _ada ==nil {return ;};_ada ._ccc ._dgg =RenderMode (_fecf );};

// String returns a human readable description of `s`.
func (_dccc intSet )String ()string {var _adca []int ;for _fccfd :=range _dccc {if _dccc .has (_fccfd ){_adca =append (_adca ,_fccfd );};};_fb .Ints (_adca );return _cca .Sprintf ("\u0025\u002b\u0076",_adca );};func (_ggg *textObject )setCharSpacing (_gbg float64 ){if _ggg ==nil {return ;};_ggg ._ccc ._dbd =_gbg ;if _eaca {_gf .Log .Info ("\u0073\u0065t\u0043\u0068\u0061\u0072\u0053\u0070\u0061\u0063\u0069\u006e\u0067\u003a\u0020\u0025\u002e\u0032\u0066\u0020\u0073\u0074\u0061\u0074e=\u0025\u0073",_gbg ,_ggg ._ccc .String ());};};func (_dabd *subpath )close (){if !_baebb (_dabd ._adfe [0],_dabd .last ()){_dabd .add (_dabd ._adfe [0]);};_dabd ._ega =true ;_dabd .removeDuplicates ();};func (_faae *shapesState )drawRectangle (_fddc ,_fgad ,_abd ,_egc float64 ){if _ageg {_dccf :=_faae .devicePoint (_fddc ,_fgad );_gfag :=_faae .devicePoint (_fddc +_abd ,_fgad +_egc );_dccb :=_ec .PdfRectangle {Llx :_dccf .X ,Lly :_dccf .Y ,Urx :_gfag .X ,Ury :_gfag .Y };_gf .Log .Info ("d\u0072a\u0077\u0052\u0065\u0063\u0074\u0061\u006e\u0067l\u0065\u003a\u0020\u00256.\u0032\u0066",_dccb );};_faae .newSubPath ();_faae .moveTo (_fddc ,_fgad );_faae .lineTo (_fddc +_abd ,_fgad );_faae .lineTo (_fddc +_abd ,_fgad +_egc );_faae .lineTo (_fddc ,_fgad +_egc );_faae .closePath ();};func (_gfgb *imageExtractContext )extractFormImages (_cgb *_gfg .PdfObjectName ,_cbcd _gg .GraphicsState ,_gfe *_ec .PdfPageResources )error {_dfcf ,_eec :=_gfe .GetXObjectFormByName (*_cgb );if _eec !=nil {return _eec ;};if _dfcf ==nil {return nil ;};_cag ,_eec :=_dfcf .GetContentStream ();if _eec !=nil {return _eec ;};_dde :=_dfcf .Resources ;if _dde ==nil {_dde =_gfe ;};_eec =_gfgb .extractContentStreamImages (string (_cag ),_dde );if _eec !=nil {return _eec ;};_gfgb ._cd ++;return nil ;};func (_gbfb *wordBag )removeWord (_dcgc *textWord ,_bge int ){_aaee :=_gbfb ._gcef [_bge ];_aaee =_ddddb (_aaee ,_dcgc );if len (_aaee )==0{delete (_gbfb ._gcef ,_bge );}else {_gbfb ._gcef [_bge ]=_aaee ;};};var (_ccde =map[rune ]string {0x0060:"\u0300",0x02CB:"\u0300",0x0027:"\u0301",0x00B4:"\u0301",0x02B9:"\u0301",0x02CA:"\u0301",0x005E:"\u0302",0x02C6:"\u0302",0x007E:"\u0303",0x02DC:"\u0303",0x00AF:"\u0304",0x02C9:"\u0304",0x02D8:"\u0306",0x02D9:"\u0307",0x00A8:"\u0308",0x00B0:"\u030a",0x02DA:"\u030a",0x02BA:"\u030b",0x02DD:"\u030b",0x02C7:"\u030c",0x02C8:"\u030d",0x0022:"\u030e",0x02BB:"\u0312",0x02BC:"\u0313",0x0486:"\u0313",0x055A:"\u0313",0x02BD:"\u0314",0x0485:"\u0314",0x0559:"\u0314",0x02D4:"\u031d",0x02D5:"\u031e",0x02D6:"\u031f",0x02D7:"\u0320",0x02B2:"\u0321",0x00B8:"\u0327",0x02CC:"\u0329",0x02B7:"\u032b",0x02CD:"\u0331",0x005F:"\u0332",0x204E:"\u0359"};);func (_faf *shapesState )stroke (_gdba *[]pathSection ){_gbc :=pathSection {_gfac :_faf ._edgcf ,Color :_faf ._gefd .getStrokeColor ()};*_gdba =append (*_gdba ,_gbc );if _cbee {_cca .Printf ("\u0020 \u0020\u0020S\u0054\u0052\u004fK\u0045\u003a\u0020\u0025\u0064\u0020\u0073t\u0072\u006f\u006b\u0065\u0073\u0020s\u0073\u003d\u0025\u0073\u0020\u0063\u006f\u006c\u006f\u0072\u003d%\u002b\u0076\u0020\u0025\u0036\u002e\u0032\u0066\u000a",len (*_gdba ),_faf ,_faf ._gefd .getStrokeColor (),_gbc .bbox ());if _gbdfa {for _ggec ,_fcabb :=range _faf ._edgcf {_cca .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_ggec ,_fcabb );if _ggec ==10{break ;};};};};};func (_dgbcfc rulingList )secMinMax ()(float64 ,float64 ){_gdegc ,_ggfg :=_dgbcfc [0]._fdeee ,_dgbcfc [0]._eegg ;for _ ,_bfdd :=range _dgbcfc [1:]{if _bfdd ._fdeee < _gdegc {_gdegc =_bfdd ._fdeee ;};if _bfdd ._eegg > _ggfg {_ggfg =_bfdd ._eegg ;};};return _gdegc ,_ggfg ;};func (_cbafe rulingList )comp (_egadg ,_bcda int )bool {_ecag ,_cedec :=_cbafe [_egadg ],_cbafe [_bcda ];_baebd ,_fcbb :=_ecag ._cde ,_cedec ._cde ;if _baebd !=_fcbb {return _baebd > _fcbb ;};if _baebd ==_afbda {return false ;};_bcff :=func (_bffd bool )bool {if _baebd ==_dfcbe {return _bffd ;};return !_bffd ;};_dbcc ,_gfcf :=_ecag ._bbaca ,_cedec ._bbaca ;if _dbcc !=_gfcf {return _bcff (_dbcc > _gfcf );};_dbcc ,_gfcf =_ecag ._fdeee ,_cedec ._fdeee ;if _dbcc !=_gfcf {return _bcff (_dbcc < _gfcf );};return _bcff (_ecag ._eegg < _cedec ._eegg );};type bounded interface{bbox ()_ec .PdfRectangle };type textLine struct{_ec .PdfRectangle ;_gfdb float64 ;_abag []*textWord ;_dadb float64 ;};func _gdec (_cfd *wordBag ,_febg *textWord ,_ebcf float64 )bool {return _febg .Llx < _cfd .Urx +_ebcf &&_cfd .Llx -_ebcf < _febg .Urx ;};func (_de *imageExtractContext )extractInlineImage (_ef *_gg .ContentStreamInlineImage ,_dcb _gg .GraphicsState ,_ae *_ec .PdfPageResources )error {_ga ,_bf :=_ef .ToImage (_ae );if _bf !=nil {return _bf ;};_ed ,_bf :=_ef .GetColorSpace (_ae );if _bf !=nil {return _bf ;};if _ed ==nil {_ed =_ec .NewPdfColorspaceDeviceGray ();};_cgg ,_bf :=_ed .ImageToRGB (*_ga );if _bf !=nil {return _bf ;};_bdd :=ImageMark {Image :&_cgg ,Width :_dcb .CTM .ScalingFactorX (),Height :_dcb .CTM .ScalingFactorY (),Angle :_dcb .CTM .Angle ()};_bdd .X ,_bdd .Y =_dcb .CTM .Translation ();_de ._ce =append (_de ._ce ,_bdd );_de ._be ++;return nil ;};func _fggd (_fffc *wordBag ,_cgea *textWord ,_ecae float64 )bool {return _fffc .Urx <=_cgea .Llx &&_cgea .Llx < _fffc .Urx +_ecae ;};func (_dcbff rulingList )toTilings ()(rulingList ,[]gridTiling ){_dcbff .log ("\u0074o\u0054\u0069\u006c\u0069\u006e\u0067s");if len (_dcbff )==0{return nil ,nil ;};_dcbff =_dcbff .tidied ("\u0061\u006c\u006c");_dcbff .log ("\u0074\u0069\u0064\u0069\u0065\u0064");_caea :=_dcbff .toGrids ();_eddd :=make ([]gridTiling ,len (_caea ));for _acdb ,_fabd :=range _caea {_eddd [_acdb ]=_fabd .asTiling ();};return _dcbff ,_eddd ;};func (_caeg rulingList )isActualGrid ()(rulingList ,bool ){_geaad ,_accg :=_caeg .augmentGrid ();if !(len (_geaad )>=_bfdg +1&&len (_accg )>=_cede +1){if _cbee {_gf .Log .Info ("\u0069s\u0041\u0063t\u0075\u0061\u006c\u0047r\u0069\u0064\u003a \u004e\u006f\u0074\u0020\u0061\u006c\u0069\u0067\u006eed\u002e\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u003c\u0020\u0025d\u0020\u0078 \u0025\u0064",len (_geaad ),len (_accg ),_bfdg +1,_cede +1);};return nil ,false ;};if _cbee {_gf .Log .Info ("\u0069\u0073\u0041\u0063\u0074\u0075a\u006c\u0047\u0072\u0069\u0064\u003a\u0020\u0025\u0073\u0020\u003a\u0020\u0025t\u0020\u0026\u0020\u0025\u0074\u0020\u2192 \u0025\u0074",_caeg ,len (_geaad )>=2,len (_accg )>=2,len (_geaad )>=2&&len (_accg )>=2);for _aaecd ,_dgdaf :=range _caeg {_cca .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0076\u000a",_aaecd ,_dgdaf );};};if _ccca {_dcea ,_bgff :=_geaad [0],_geaad [len (_geaad )-1];_ggce ,_fdgg :=_accg [0],_accg [len (_accg )-1];if !(_bdcd (_dcea ._bbaca -_ggce ._fdeee )&&_bdcd (_bgff ._bbaca -_ggce ._eegg )&&_bdcd (_ggce ._bbaca -_dcea ._eegg )&&_bdcd (_fdgg ._bbaca -_dcea ._fdeee )){if _cbee {_gf .Log .Info ("\u0069\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069d\u003a\u0020\u0020N\u006f\u0074 \u0061\u006c\u0069\u0067\u006e\u0065d\u002e\n\t\u0076\u0030\u003d\u0025\u0073\u000a\u0009\u0076\u0031\u003d\u0025\u0073\u000a\u0009\u0068\u0030\u003d\u0025\u0073\u000a\u0009\u0068\u0031\u003d\u0025\u0073",_dcea ,_bgff ,_ggce ,_fdgg );};return nil ,false ;};}else {if !_geaad .aligned (){if _gfff {_gf .Log .Info ("i\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069\u0064\u003a\u0020N\u006f\u0074\u0020\u0061\u006c\u0069\u0067n\u0065\u0064\u0020\u0076\u0065\u0072\u0074\u0073\u002e\u0020%\u0064",len (_geaad ));};return nil ,false ;};if !_accg .aligned (){if _cbee {_gf .Log .Info ("i\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069\u0064\u003a\u0020N\u006f\u0074\u0020\u0061\u006c\u0069\u0067n\u0065\u0064\u0020\u0068\u006f\u0072\u007a\u0073\u002e\u0020%\u0064",len (_accg ));};return nil ,false ;};};_acbe :=append (_geaad ,_accg ...);return _acbe ,true ;};func (_bgdg *subpath )clear (){*_bgdg =subpath {}};func (_acee gridTile )complete ()bool {return _acee .numBorders ()==4};func (_bcfc *textLine )markWordBoundaries (){_egbg :=_gbdfg *_bcfc ._dadb ;for _cefgf ,_aegg :=range _bcfc ._abag [1:]{if _aeea (_aegg ,_bcfc ._abag [_cefgf ])>=_egbg {_aegg ._dfegc =true ;};};};func (_cdee rulingList )tidied (_ffdg string )rulingList {_gegg :=_cdee .removeDuplicates ();_gegg .log ("\u0075n\u0069\u0071\u0075\u0065\u0073");_cffb :=_gegg .snapToGroups ();if _cffb ==nil {return nil ;};_cffb .sort ();if _cbee {_gf .Log .Info ("\u0074\u0069\u0064i\u0065\u0064\u003a\u0020\u0025\u0071\u0020\u0076\u0065\u0063\u0073\u003d\u0025\u0064\u0020\u0075\u006e\u0069\u0071\u0075\u0065\u0073\u003d\u0025\u0064\u0020\u0063\u006f\u0061l\u0065\u0073\u0063\u0065\u0064\u003d\u0025\u0064",_ffdg ,len (_cdee ),len (_gegg ),len (_cffb ));};_cffb .log ("\u0063o\u0061\u006c\u0065\u0073\u0063\u0065d");return _cffb ;};type event struct{_abef float64 ;_decdf bool ;_cgba int ;};type cachedImage struct{_gbd *_ec .Image ;_fce _ec .PdfColorspace ;};func (_cbaga paraList )applyTables (_cfdbe []*textTable )paraList {_bfadcc :=make (map[*textPara ]struct{});var _dcfb paraList ;for _ ,_cace :=range _cfdbe {for _ ,_afefd :=range _cace ._ebfa {_bfadcc [_afefd ]=struct{}{};};_dcfb =append (_dcfb ,_cace .newTablePara ());};for _ ,_bgcf :=range _cbaga {if _ ,_dbdded :=_bfadcc [_bgcf ];!_dbdded {_dcfb =append (_dcfb ,_bgcf );};};return _dcfb ;};type textTable struct{_ec .PdfRectangle ;_cdfd ,_dbdg int ;_ecef bool ;_ebfa map[uint64 ]*textPara ;_fcdcdd map[uint64 ]compositeCell ;};func (_efdba *textWord )bbox ()_ec .PdfRectangle {return _efdba .PdfRectangle };func (_caagf *textTable )getComposite (_ggfe ,_ecdb int )(paraList ,_ec .PdfRectangle ){_cagg ,_efdfa :=_caagf ._fcdcdd [_ffea (_ggfe ,_ecdb )];if _cbba {_cca .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0067\u0065\u0074\u0043\u006f\u006d\u0070o\u0073i\u0074\u0065\u0028\u0025\u0064\u002c\u0025\u0064\u0029\u002d\u003e\u0025\u0073\u000a",_ggfe ,_ecdb ,_cagg .String ());};if !_efdfa {return nil ,_ec .PdfRectangle {};};return _cagg .parasBBox ();};func (_dacc gridTiling )log (_bbeg string ){if !_eefge {return ;};_gf .Log .Info ("\u0074i\u006ci\u006e\u0067\u003a\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0071",len (_dacc ._feee ),len (_dacc ._ddbg ),_bbeg );_cca .Printf ("\u0020\u0020\u0020l\u006c\u0078\u003d\u0025\u002e\u0032\u0066\u000a",_dacc ._feee );_cca .Printf ("\u0020\u0020\u0020l\u006c\u0079\u003d\u0025\u002e\u0032\u0066\u000a",_dacc ._ddbg );for _ccfc ,_bfcag :=range _dacc ._ddbg {_edea ,_edbg :=_dacc ._fcdbf [_bfcag ];if !_edbg {continue ;};_cca .Printf ("%\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u000a",_ccfc ,_bfcag );for _gfcd ,_ggfa :=range _dacc ._feee {_caeff ,_ggdb :=_edea [_ggfa ];if !_ggdb {continue ;};_cca .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_gfcd ,_caeff .String ());};};};func (_afeg *shapesState )moveTo (_gdab ,_defa float64 ){_afeg ._gcad =true ;_afeg ._bfa =_afeg .devicePoint (_gdab ,_defa );if _ageg {_gf .Log .Info ("\u006d\u006fv\u0065\u0054\u006f\u003a\u0020\u0025\u002e\u0032\u0066\u002c\u0025\u002e\u0032\u0066\u0020\u0064\u0065\u0076\u0069\u0063\u0065\u003d%.\u0032\u0066",_gdab ,_defa ,_afeg ._bfa );};};var (_dg =_g .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");_fa =_g .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072"););func (_cddd *stateStack )pop ()*textState {if _cddd .empty (){return nil ;};_bgaa :=*(*_cddd )[len (*_cddd )-1];*_cddd =(*_cddd )[:len (*_cddd )-1];return &_bgaa ;};type wordBag struct{_ec .PdfRectangle ;_gdff float64 ;_agccb ,_bcge rulingList ;_aadb float64 ;_gcef map[int ][]*textWord ;};func (_fdbf *textObject )getFontDirect (_afcc string )(*_ec .PdfFont ,error ){_dgda ,_bdg :=_fdbf .getFontDict (_afcc );if _bdg !=nil {return nil ,_bdg ;};_ddda ,_bdg :=_ec .NewPdfFontFromPdfObject (_dgda );if _bdg !=nil {_gf .Log .Debug ("\u0067\u0065\u0074\u0046\u006f\u006e\u0074\u0044\u0069\u0072\u0065\u0063\u0074\u003a\u0020\u004e\u0065\u0077Pd\u0066F\u006f\u006e\u0074\u0046\u0072\u006f\u006d\u0050\u0064\u0066\u004f\u0062j\u0065\u0063\u0074\u0020\u0066\u0061\u0069\u006c\u0065\u0064\u002e\u0020\u006e\u0061\u006d\u0065\u003d%\u0023\u0071\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_afcc ,_bdg );};return _ddda ,_bdg ;};func (_dcfgdd *textTable )reduceTiling (_aace gridTiling ,_bbed float64 )*textTable {_ecdc :=make ([]int ,0,_dcfgdd ._dbdg );_bgfbe :=make ([]int ,0,_dcfgdd ._cdfd );_fceca :=_aace ._feee ;_dbeeb :=_aace ._ddbg ;for _adga :=0;_adga < _dcfgdd ._dbdg ;_adga ++{_agaff :=_adga > 0&&_a .Abs (_dbeeb [_adga -1]-_dbeeb [_adga ])< _bbed &&_dcfgdd .emptyRow (_adga );if !_agaff {_ecdc =append (_ecdc ,_adga );};};for _cbdd :=0;_cbdd < _dcfgdd ._cdfd ;_cbdd ++{_ddcaac :=_cbdd < _dcfgdd ._cdfd -1&&_a .Abs (_fceca [_cbdd +1]-_fceca [_cbdd ])< _bbed &&_dcfgdd .emptyColumn (_cbdd );if !_ddcaac {_bgfbe =append (_bgfbe ,_cbdd );};};if len (_ecdc )==_dcfgdd ._dbdg &&len (_bgfbe )==_dcfgdd ._cdfd {return _dcfgdd ;};_dedge :=textTable {_ecef :_dcfgdd ._ecef ,_cdfd :len (_bgfbe ),_dbdg :len (_ecdc ),_fcdcdd :make (map[uint64 ]compositeCell ,len (_bgfbe )*len (_ecdc ))};if _cbba {_gf .Log .Info ("\u0072\u0065\u0064\u0075c\u0065\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0025d\u0078%\u0064\u0020\u002d\u003e\u0020\u0025\u0064x\u0025\u0064",_dcfgdd ._cdfd ,_dcfgdd ._dbdg ,len (_bgfbe ),len (_ecdc ));_gf .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0043\u006f\u006c\u0073\u003a\u0020\u0025\u002b\u0076",_bgfbe );_gf .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0052\u006f\u0077\u0073\u003a\u0020\u0025\u002b\u0076",_ecdc );};for _bcbb ,_beec :=range _ecdc {for _dgfa ,_gffgc :=range _bgfbe {_cdfb ,_fabee :=_dcfgdd .getComposite (_gffgc ,_beec );if len (_cdfb )==0{continue ;};if _cbba {_cca .Printf ("\u0020 \u0025\u0032\u0064\u002c \u0025\u0032\u0064\u0020\u0028%\u0032d\u002c \u0025\u0032\u0064\u0029\u0020\u0025\u0071\n",_dgfa ,_bcbb ,_gffgc ,_beec ,_efab (_cdfb .merge ().text (),50));};_dedge .putComposite (_dgfa ,_bcbb ,_cdfb ,_fabee );};};return &_dedge ;};func (_bedg *textPara )bbox ()_ec .PdfRectangle {return _bedg .PdfRectangle };func (_fcac *wordBag )sort (){for _ ,_gddd :=range _fcac ._gcef {_fb .Slice (_gddd ,func (_ceg ,_fegd int )bool {return _agee (_gddd [_ceg ],_gddd [_fegd ])< 0});};};func (_feba paraList )findTables (_fcfb []gridTiling )[]*textTable {_feba .addNeighbours ();_fb .Slice (_feba ,func (_cgeag ,_fgbe int )bool {return _cefb (_feba [_cgeag ],_feba [_fgbe ])< 0});var _gfacd []*textTable ;if _fadf {_eegd :=_feba .findGridTables (_fcfb );_gfacd =append (_gfacd ,_eegd ...);};if _cebg {_cebgd :=_feba .findTextTables ();_gfacd =append (_gfacd ,_cebgd ...);};return _gfacd ;};func _agfc (_acb *textWord ,_fccda float64 ,_cafg ,_adggb rulingList )*wordBag {_dfcg :=_cccb (_acb ._dedeg );_deea :=[]*textWord {_acb };_gfeb :=wordBag {_gcef :map[int ][]*textWord {_dfcg :_deea },PdfRectangle :_acb .PdfRectangle ,_gdff :_acb ._fdbea ,_aadb :_fccda ,_agccb :_cafg ,_bcge :_adggb };return &_gfeb ;};

// PageText represents the layout of text on a device page.
type PageText struct{_ffdb []*textMark ;_bdbg string ;_ffae []TextMark ;_eaeb []TextTable ;_fcg _ec .PdfRectangle ;_dfa []pathSection ;_gcc []pathSection ;};func _daa (_ccac _bc .Point )_bc .Matrix {return _bc .TranslationMatrix (_ccac .X ,_ccac .Y )};var _dd =false ;

// PageImages represents extracted images on a PDF page with spatial information:
// display position and size.
type PageImages struct{Images []ImageMark ;};const (_acbc =false ;_fedec =false ;_fbg =false ;_eacf =false ;_ageg =false ;_eaca =false ;_fbbc =false ;_bgdf =false ;_bgcb =false ;_aeda =_bgcb &&true ;_dbgb =_aeda &&false ;_ffcf =_bgcb &&true ;_cbba =false ;_baac =_cbba &&false ;_cage =_cbba &&true ;_cbee =false ;_gbdfa =_cbee &&false ;_gfff =_cbee &&false ;_eefge =_cbee &&true ;_cecc =_cbee &&false ;_bgb =_cbee &&false ;);

// String returns a string describing `tm`.
func (_dfcd TextMark )String ()string {_cee :=_dfcd .BBox ;var _dae string ;if _dfcd .Font !=nil {_dae =_dfcd .Font .String ();if len (_dae )> 50{_dae =_dae [:50]+"\u002e\u002e\u002e";};};var _gce string ;if _dfcd .Meta {_gce ="\u0020\u002a\u004d\u002a";};return _cca .Sprintf ("\u007b\u0054\u0065\u0078t\u004d\u0061\u0072\u006b\u003a\u0020\u0025\u0064\u0020%\u0071\u003d\u0025\u0030\u0032\u0078\u0020\u0028\u0025\u0036\u002e\u0032\u0066\u002c\u0020\u0025\u0036\u002e2\u0066\u0029\u0020\u0028\u00256\u002e\u0032\u0066\u002c\u0020\u0025\u0036\u002e\u0032\u0066\u0029\u0020\u0025\u0073\u0025\u0073\u007d",_dfcd .Offset ,_dfcd .Text ,[]rune (_dfcd .Text ),_cee .Llx ,_cee .Lly ,_cee .Urx ,_cee .Ury ,_dae ,_gce );};func (_bfga rulingList )snapToGroups ()rulingList {_addg ,_eede :=_bfga .vertsHorzs ();if len (_addg )> 0{_addg =_addg .snapToGroupsDirection ();};if len (_eede )> 0{_eede =_eede .snapToGroupsDirection ();};_cafda :=append (_addg ,_eede ...);_cafda .log ("\u0073\u006e\u0061p\u0054\u006f\u0047\u0072\u006f\u0075\u0070\u0073");return _cafda ;};func (_edfagb *textTable )put (_cebf ,_fcae int ,_acfdf *textPara ){_edfagb ._ebfa [_ffea (_cebf ,_fcae )]=_acfdf ;};func (_ffef *shapesState )cubicTo (_cfcd ,_fagb ,_abffe ,_gbdf ,_adg ,_gfge float64 ){if _ageg {_gf .Log .Info ("\u0063\u0075\u0062\u0069\u0063\u0054\u006f\u003a");};_ffef .addPoint (_adg ,_gfge );};func (_egg *wordBag )blocked (_fbba *textWord )bool {if _fbba .Urx < _egg .Llx {_feed :=_bbfa (_fbba .PdfRectangle );_gegf :=_eeafd (_egg .PdfRectangle );if _egg ._agccb .blocks (_feed ,_gegf ){if _bgb {_gf .Log .Info ("\u0062\u006c\u006f\u0063ke\u0064\u0020\u2190\u0078\u003a\u0020\u0025\u0073\u0020\u0025\u0073",_fbba ,_egg );};return true ;};}else if _egg .Urx < _fbba .Llx {_egf :=_bbfa (_egg .PdfRectangle );_ggagf :=_eeafd (_fbba .PdfRectangle );if _egg ._agccb .blocks (_egf ,_ggagf ){if _bgb {_gf .Log .Info ("b\u006co\u0063\u006b\u0065\u0064\u0020\u0078\u2192\u0020:\u0020\u0025\u0073\u0020%s",_fbba ,_egg );};return true ;};};if _fbba .Ury < _egg .Lly {_gacd :=_fbbabd (_fbba .PdfRectangle );_aggcd :=_abeb (_egg .PdfRectangle );if _egg ._bcge .blocks (_gacd ,_aggcd ){if _bgb {_gf .Log .Info ("\u0062\u006c\u006f\u0063ke\u0064\u0020\u2190\u0079\u003a\u0020\u0025\u0073\u0020\u0025\u0073",_fbba ,_egg );};return true ;};}else if _egg .Ury < _fbba .Lly {_dggd :=_fbbabd (_egg .PdfRectangle );_bceg :=_abeb (_fbba .PdfRectangle );if _egg ._bcge .blocks (_dggd ,_bceg ){if _bgb {_gf .Log .Info ("b\u006co\u0063\u006b\u0065\u0064\u0020\u0079\u2192\u0020:\u0020\u0025\u0073\u0020%s",_fbba ,_egg );};return true ;};};return false ;};func (_fcgc rulingList )intersections ()map[int ]intSet {var _bebc ,_ffcfg []int ;for _aega ,_acbfe :=range _fcgc {switch _acbfe ._cde {case _adfb :_bebc =append (_bebc ,_aega );case _dfcbe :_ffcfg =append (_ffcfg ,_aega );};};if len (_bebc )< _bfdg +1||len (_ffcfg )< _cede +1{return nil ;};if len (_bebc )+len (_ffcfg )> _bdgd {_gf .Log .Debug ("\u0069\u006e\u0074\u0065\u0072\u0073e\u0063\u0074\u0069\u006f\u006e\u0073\u003a\u0020\u0054\u004f\u004f\u0020\u004d\u0041\u004e\u0059\u0020\u0072\u0075\u006ci\u006e\u0067\u0073\u0020\u0076\u0065\u0063\u0073\u003d\u0025\u0064\u0020\u003d\u0020%\u0064 \u0078\u0020\u0025\u0064",len (_fcgc ),len (_bebc ),len (_ffcfg ));return nil ;};_dbdda :=make (map[int ]intSet ,len (_bebc )+len (_ffcfg ));for _ ,_gegfd :=range _bebc {for _ ,_gffa :=range _ffcfg {if _fcgc [_gegfd ].intersects (_fcgc [_gffa ]){if _ ,_gcac :=_dbdda [_gegfd ];!_gcac {_dbdda [_gegfd ]=make (intSet );};if _ ,_ebea :=_dbdda [_gffa ];!_ebea {_dbdda [_gffa ]=make (intSet );};_dbdda [_gegfd ].add (_gffa );_dbdda [_gffa ].add (_gegfd );};};};return _dbdda ;};func _dfgeb (_bebf map[float64 ]gridTile )[]float64 {_bgfge :=make ([]float64 ,0,len (_bebf ));for _cdce :=range _bebf {_bgfge =append (_bgfge ,_cdce );};_fb .Float64s (_bgfge );return _bgfge ;};func _edfe (_dfadg ,_ggcc _bc .Point )bool {_ffgbf :=_a .Abs (_dfadg .X -_ggcc .X );_fegdc :=_a .Abs (_dfadg .Y -_ggcc .Y );return _gfgbcf (_fegdc ,_ffgbf );};func _cbb (_dffb _ec .PdfRectangle ,_bdgb bounded )float64 {return _dffb .Ury -_bdgb .bbox ().Lly };func _gbef (_beff ,_dbc _bc .Point )rulingKind {_dbcd :=_a .Abs (_beff .X -_dbc .X );_bgadg :=_a .Abs (_beff .Y -_dbc .Y );return _gfcaf (_dbcd ,_bgadg ,_bdfg );};func (_aac *textObject )moveTextSetLeading (_bfg ,_adcd float64 ){_aac ._ccc ._eae =-_adcd ;_aac .moveLP (_bfg ,_adcd );};const (_adgb =1.0e-6;_dddd =1.0e-4;_fgdc =10;_ebcfe =6;_bgdea =0.5;_cefg =0.12;_bggga =0.19;_bffg =0.04;_befcb =0.04;_bgcc =1.0;_agcce =0.04;_agcf =0.4;_acae =0.7;_cbgb =1.0;_ccaa =0.1;_dbfc =1.4;_ccdbb =0.46;_gbdfg =0.02;_fccga =0.2;_ddba =0.5;_gggf =4;_ddadg =4.0;_dgag =6;_ddef =0.3;_gbce =0.01;_ccfb =0.02;_bfdg =2;_cede =2;_bdgd =500;_bdfg =4.0;_adaf =4.0;_cege =0.05;_ffgad =0.1;_fcca =2.0;_agdf =2.0;_ggc =1.5;_gdgg =3.0;_aacff =0.25;);func (_cbgca *ruling )alignsPrimary (_fbdb *ruling )bool {return _cbgca ._cde ==_fbdb ._cde &&_a .Abs (_cbgca ._bbaca -_fbdb ._bbaca )< _agdf *0.5;};func (_aacf *textObject )checkOp (_age *_gg .ContentStreamOperation ,_ddea int ,_fecfg bool )(_efg bool ,_eddce error ){if _aacf ==nil {var _bgdc []_gfg .PdfObject ;if _ddea > 0{_bgdc =_age .Params ;if len (_bgdc )> _ddea {_bgdc =_bgdc [:_ddea ];};};_gf .Log .Debug ("\u0025\u0023q \u006f\u0070\u0065r\u0061\u006e\u0064\u0020out\u0073id\u0065\u0020\u0074\u0065\u0078\u0074\u002e p\u0061\u0072\u0061\u006d\u0073\u003d\u0025+\u0076",_age .Operand ,_bgdc );};if _ddea >=0{if len (_age .Params )!=_ddea {if _fecfg {_eddce =_g .New ("\u0069n\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0070\u0061r\u0061m\u0065t\u0065\u0072\u0020\u0063\u006f\u0075\u006et");};_gf .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0025\u0023\u0071\u0020\u0073\u0068\u006f\u0075\u006c\u0064\u0020h\u0061\u0076\u0065\u0020\u0025\u0064\u0020i\u006e\u0070\u0075\u0074\u0020\u0070\u0061\u0072\u0061\u006d\u0073,\u0020\u0067\u006f\u0074\u0020\u0025\u0064\u0020\u0025\u002b\u0076",_age .Operand ,_ddea ,len (_age .Params ),_age .Params );return false ,_eddce ;};};return true ,nil ;};func (_ffgb *textObject )getFillColor ()_cc .Color {return _ebcg (_ffgb ._adb .ColorspaceNonStroking ,_ffgb ._adb .ColorNonStroking );};func (_edgg *textObject )newTextMark (_bgdfd string ,_ead _bc .Matrix ,_aebf _bc .Point ,_beef float64 ,_gecd *_ec .PdfFont ,_efbf float64 ,_aecg ,_daeg _cc .Color )(textMark ,bool ){_dfgd :=_ead .Angle ();_fbe :=_efe (_dfgd ,_fgdc );var _efdbc float64 ;if _fbe %180!=90{_efdbc =_ead .ScalingFactorY ();}else {_efdbc =_ead .ScalingFactorX ();};_fgee :=_cbab (_ead );_fbed :=_ec .PdfRectangle {Llx :_fgee .X ,Lly :_fgee .Y ,Urx :_aebf .X ,Ury :_aebf .Y };switch _fbe %360{case 90:_fbed .Urx -=_efdbc ;case 180:_fbed .Ury -=_efdbc ;case 270:_fbed .Urx +=_efdbc ;case 0:_fbed .Ury +=_efdbc ;default:_fbe =0;_fbed .Ury +=_efdbc ;};if _fbed .Llx > _fbed .Urx {_fbed .Llx ,_fbed .Urx =_fbed .Urx ,_fbed .Llx ;};if _fbed .Lly > _fbed .Ury {_fbed .Lly ,_fbed .Ury =_fbed .Ury ,_fbed .Lly ;};_ede ,_ecbe :=_degbf (_fbed ,_edgg ._aae ._eca );if !_ecbe {_gf .Log .Debug ("\u0054\u0065\u0078\u0074\u0020m\u0061\u0072\u006b\u0020\u006f\u0075\u0074\u0073\u0069\u0064\u0065\u0020\u0070a\u0067\u0065\u002e\u0020\u0062\u0062\u006f\u0078\u003d\u0025\u0067\u0020\u006d\u0065\u0064\u0069\u0061\u0042\u006f\u0078\u003d\u0025\u0067\u0020\u0074\u0065\u0078\u0074\u003d\u0025q",_fbed ,_edgg ._aae ._eca ,_bgdfd );};_fbed =_ede ;_dbbbe :=_fbed ;_dede :=_edgg ._aae ._eca ;switch _fbe %360{case 90:_dede .Urx ,_dede .Ury =_dede .Ury ,_dede .Urx ;_dbbbe =_ec .PdfRectangle {Llx :_dede .Urx -_fbed .Ury ,Urx :_dede .Urx -_fbed .Lly ,Lly :_fbed .Llx ,Ury :_fbed .Urx };case 180:_dbbbe =_ec .PdfRectangle {Llx :_dede .Urx -_fbed .Llx ,Urx :_dede .Urx -_fbed .Urx ,Lly :_dede .Ury -_fbed .Lly ,Ury :_dede .Ury -_fbed .Ury };case 270:_dede .Urx ,_dede .Ury =_dede .Ury ,_dede .Urx ;_dbbbe =_ec .PdfRectangle {Llx :_fbed .Ury ,Urx :_fbed .Lly ,Lly :_dede .Ury -_fbed .Llx ,Ury :_dede .Ury -_fbed .Urx };};if _dbbbe .Llx > _dbbbe .Urx {_dbbbe .Llx ,_dbbbe .Urx =_dbbbe .Urx ,_dbbbe .Llx ;};if _dbbbe .Lly > _dbbbe .Ury {_dbbbe .Lly ,_dbbbe .Ury =_dbbbe .Ury ,_dbbbe .Lly ;};_affa :=textMark {_ecge :_bgdfd ,PdfRectangle :_dbbbe ,_cdbb :_fbed ,_afbd :_gecd ,_gdce :_efdbc ,_cdf :_efbf ,_bgfc :_ead ,_cfbf :_aebf ,_gecg :_fbe ,_badf :_aecg ,_cdba :_daeg };if _fedec {_gf .Log .Info ("n\u0065\u0077\u0054\u0065\u0078\u0074M\u0061\u0072\u006b\u003a\u0020\u0073t\u0061\u0072\u0074\u003d\u0025\u002e\u0032f\u0020\u0065\u006e\u0064\u003d\u0025\u002e\u0032\u0066\u0020%\u0073",_fgee ,_aebf ,_affa .String ());};return _affa ,_ecbe ;};func (_aedb *wordBag )arrangeText ()*textPara {_aedb .sort ();if _dgecb {_aedb .removeDuplicates ();};var _bgbd []*textLine ;for _ ,_gdffa :=range _aedb .depthIndexes (){for !_aedb .empty (_gdffa ){_dgagd :=_aedb .firstReadingIndex (_gdffa );_gfaf :=_aedb .firstWord (_dgagd );_effeg :=_agag (_aedb ,_dgagd );_afdd :=_gfaf ._fdbea ;_feef :=_gfaf ._dedeg -_bgdea *_afdd ;_efgb :=_gfaf ._dedeg +_bgdea *_afdd ;_gggfa :=_dbfc *_afdd ;_bffa :=_ccdbb *_afdd ;_dgae :for {var _ffda *textWord ;_agabd :=0;for _ ,_bddfg :=range _aedb .depthBand (_feef ,_efgb ){_cdag :=_aedb .highestWord (_bddfg ,_feef ,_efgb );if _cdag ==nil {continue ;};_gccf :=_aeea (_cdag ,_effeg ._abag [len (_effeg ._abag )-1]);if _gccf < -_bffa {break _dgae ;};if _gccf > _gggfa {continue ;};if _ffda !=nil &&_agee (_cdag ,_ffda )>=0{continue ;};_ffda =_cdag ;_agabd =_bddfg ;};if _ffda ==nil {break ;};_effeg .pullWord (_aedb ,_ffda ,_agabd );};_effeg .markWordBoundaries ();_bgbd =append (_bgbd ,_effeg );};};if len (_bgbd )==0{return nil ;};_fb .Slice (_bgbd ,func (_gfaa ,_fceaf int )bool {return _ecab (_bgbd [_gfaa ],_bgbd [_fceaf ])< 0});_ddca :=_geaf (_aedb .PdfRectangle ,_bgbd );if _bgcb {_gf .Log .Info ("\u0061\u0072\u0072an\u0067\u0065\u0054\u0065\u0078\u0074\u0020\u0021\u0021\u0021\u0020\u0070\u0061\u0072\u0061\u003d\u0025\u0073",_ddca .String ());if _aeda {for _ddbb ,_bced :=range _ddca ._eefga {_cca .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_ddbb ,_bced .String ());if _dbgb {for _bccg ,_decd :=range _bced ._abag {_cca .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_bccg ,_decd .String ());for _bggd ,_bcdc :=range _decd ._gceab {_cca .Printf ("\u00251\u0032\u0064\u003a\u0020\u0025\u0073\n",_bggd ,_bcdc .String ());};};};};};};return _ddca ;};const _fcecd =10;func (_fgag intSet )del (_deacb int ){delete (_fgag ,_deacb )};func _agbc (_gdfg []*textMark ,_cgeg _ec .PdfRectangle ,_becd rulingList ,_dcf []gridTiling )paraList {_gf .Log .Trace ("\u006d\u0061\u006b\u0065\u0054\u0065\u0078\u0074\u0050\u0061\u0067\u0065\u003a \u0025\u0064\u0020\u0065\u006c\u0065m\u0065\u006e\u0074\u0073\u0020\u0070\u0061\u0067\u0065\u0053\u0069\u007a\u0065=\u0025\u002e\u0032\u0066",len (_gdfg ),_cgeg );if len (_gdfg )==0{return nil ;};_ffaeb :=_cedb (_gdfg ,_cgeg );if len (_ffaeb )==0{return nil ;};_becd .log ("\u006d\u0061\u006be\u0054\u0065\u0078\u0074\u0050\u0061\u0067\u0065");_gdae ,_gggda :=_becd .vertsHorzs ();_gdbad :=_eece (_ffaeb ,_cgeg .Ury ,_gdae ,_gggda );_fcbg :=_ecac (_gdbad ,_cgeg .Ury ,_gdae ,_gggda );_fcbg =_dgff (_fcbg );_geaa :=make (paraList ,0,len (_fcbg ));for _ ,_cegb :=range _fcbg {_eegb :=_cegb .arrangeText ();if _eegb !=nil {_geaa =append (_geaa ,_eegb );};};if len (_geaa )>=_dgag {_geaa =_geaa .extractTables (_dcf );};_geaa .sortReadingOrder ();_geaa .log ("\u0073\u006f\u0072te\u0064\u0020\u0069\u006e\u0020\u0072\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u006f\u0072\u0064\u0065\u0072");return _geaa ;};func (_gffg rulingList )sortStrict (){_fb .Slice (_gffg ,func (_eecb ,_affc int )bool {_cccda ,_eefa :=_gffg [_eecb ],_gffg [_affc ];_fgac ,_aagg :=_cccda ._cde ,_eefa ._cde ;if _fgac !=_aagg {return _fgac > _aagg ;};_ebeb ,_dfecd :=_cccda ._bbaca ,_eefa ._bbaca ;if !_efea (_ebeb -_dfecd ){return _ebeb < _dfecd ;};_ebeb ,_dfecd =_cccda ._fdeee ,_eefa ._fdeee ;if _ebeb !=_dfecd {return _ebeb < _dfecd ;};return _cccda ._eegg < _eefa ._eegg ;});};func (_cfaf rulingList )augmentGrid ()(rulingList ,rulingList ){_fafb ,_ggbff :=_cfaf .vertsHorzs ();if len (_fafb )==0||len (_ggbff )==0{return _fafb ,_ggbff ;};_edbe ,_bacb :=_fafb ,_ggbff ;_ddadf :=_fafb .bbox ();_bedc :=_ggbff .bbox ();if _cbee {_gf .Log .Info ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0047\u0072\u0069\u0064\u003a\u0020b\u0062\u006f\u0078\u0056\u003d\u0025\u0036\u002e\u0032\u0066",_ddadf );_gf .Log .Info ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0047\u0072\u0069\u0064\u003a\u0020b\u0062\u006f\u0078\u0048\u003d\u0025\u0036\u002e\u0032\u0066",_bedc );};var _ggeb ,_adaa ,_fbga ,_daef *ruling ;if _bedc .Llx < _ddadf .Llx -_fcca {_ggeb =&ruling {_ebg :_dcee ,_cde :_adfb ,_bbaca :_bedc .Llx ,_fdeee :_ddadf .Lly ,_eegg :_ddadf .Ury };_fafb =append (rulingList {_ggeb },_fafb ...);};if _bedc .Urx > _ddadf .Urx +_fcca {_adaa =&ruling {_ebg :_dcee ,_cde :_adfb ,_bbaca :_bedc .Urx ,_fdeee :_ddadf .Lly ,_eegg :_ddadf .Ury };_fafb =append (_fafb ,_adaa );};if _ddadf .Lly < _bedc .Lly -_fcca {_fbga =&ruling {_ebg :_dcee ,_cde :_dfcbe ,_bbaca :_ddadf .Lly ,_fdeee :_bedc .Llx ,_eegg :_bedc .Urx };_ggbff =append (rulingList {_fbga },_ggbff ...);};if _ddadf .Ury > _bedc .Ury +_fcca {_daef =&ruling {_ebg :_dcee ,_cde :_dfcbe ,_bbaca :_ddadf .Ury ,_fdeee :_bedc .Llx ,_eegg :_bedc .Urx };_ggbff =append (_ggbff ,_daef );};if len (_fafb )+len (_ggbff )==len (_cfaf ){return _edbe ,_bacb ;};_cdffc :=append (_fafb ,_ggbff ...);_cfaf .log ("u\u006e\u0061\u0075\u0067\u006d\u0065\u006e\u0074\u0065\u0064");_cdffc .log ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0065d");return _fafb ,_ggbff ;};func _cedb (_gfadf []*textMark ,_eebd _ec .PdfRectangle )[]*textWord {var _dggfe []*textWord ;var _gdcf *textWord ;if _fedec {_gf .Log .Info ("\u006d\u0061\u006beT\u0065\u0078\u0074\u0057\u006f\u0072\u0064\u0073\u003a\u0020\u0025\u0064\u0020\u006d\u0061\u0072\u006b\u0073",len (_gfadf ));};_gefe :=func (){if _gdcf !=nil {_gbfgc :=_gdcf .computeText ();if !_efda (_gbfgc ){_gdcf ._ebeg =_gbfgc ;_dggfe =append (_dggfe ,_gdcf );if _fedec {_gf .Log .Info ("\u0061\u0064\u0064Ne\u0077\u0057\u006f\u0072\u0064\u003a\u0020\u0025\u0064\u003a\u0020\u0077\u006f\u0072\u0064\u003d\u0025\u0073",len (_dggfe )-1,_gdcf .String ());for _gcbfd ,_fegc :=range _gdcf ._gceab {_cca .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_gcbfd ,_fegc .String ());};};};_gdcf =nil ;};};for _ ,_gdeba :=range _gfadf {if _edc &&_gdcf !=nil &&len (_gdcf ._gceab )> 0{_eeaag :=_gdcf ._gceab [len (_gdcf ._gceab )-1];_agbcg ,_eadec :=_fbgb (_gdeba ._ecge );_facfa ,_fega :=_fbgb (_eeaag ._ecge );if _eadec &&!_fega &&_eeaag .inDiacriticArea (_gdeba ){_gdcf .addDiacritic (_agbcg );continue ;};if _fega &&!_eadec &&_gdeba .inDiacriticArea (_eeaag ){_gdcf ._gceab =_gdcf ._gceab [:len (_gdcf ._gceab )-1];_gdcf .appendMark (_gdeba ,_eebd );_gdcf .addDiacritic (_facfa );continue ;};};_fdfd :=_efda (_gdeba ._ecge );if _fdfd {_gefe ();continue ;};if _gdcf ==nil &&!_fdfd {_gdcf =_bfeea ([]*textMark {_gdeba },_eebd );continue ;};_eaee :=_gdcf ._fdbea ;_cece :=_a .Abs (_cbb (_eebd ,_gdeba )-_gdcf ._dedeg )/_eaee ;_baef :=_aeea (_gdeba ,_gdcf )/_eaee ;if _baef >=_cefg ||!(-_bggga <=_baef &&_cece <=_bffg ){_gefe ();_gdcf =_bfeea ([]*textMark {_gdeba },_eebd );continue ;};_gdcf .appendMark (_gdeba ,_eebd );};_gefe ();return _dggfe ;};func (_cccg *shapesState )lastpointEstablished ()(_bc .Point ,bool ){if _cccg ._gcad {return _cccg ._bfa ,false ;};_bdfc :=len (_cccg ._edgcf );if _bdfc > 0&&_cccg ._edgcf [_bdfc -1]._ega {return _cccg ._edgcf [_bdfc -1].last (),false ;};return _bc .Point {},true ;};

// Marks returns the TextMark collection for a page. It represents all the text on the page.
func (_dfee PageText )Marks ()*TextMarkArray {return &TextMarkArray {_faad :_dfee ._ffae }};func (_adad *ruling )encloses (_aede ,_ddgc float64 )bool {return _adad ._fdeee -_fcca <=_aede &&_ddgc <=_adad ._eegg +_fcca ;};func (_dfgf *textMark )bbox ()_ec .PdfRectangle {return _dfgf .PdfRectangle };type subpath struct{_adfe []_bc .Point ;_ega bool ;};func (_ccbg rulingList )asTiling ()gridTiling {if _eefge {_gf .Log .Info ("r\u0075\u006ci\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0076\u0065\u0063s\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u002b\u002b\u002b\u0020\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d",len (_ccbg ));};for _afcfa ,_bfadc :=range _ccbg [1:]{_geaaf :=_ccbg [_afcfa ];if _geaaf .alignsPrimary (_bfadc )&&_geaaf .alignsSec (_bfadc ){_gf .Log .Error ("a\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0044\u0075\u0070\u006c\u0069\u0063\u0061\u0074\u0065 \u0072\u0075\u006c\u0069\u006e\u0067\u0073\u002e\u000a\u0009v=\u0025\u0073\u000a\t\u0077=\u0025\u0073",_bfadc ,_geaaf );};};_ccbg .sortStrict ();_ccbg .log ("\u0073n\u0061\u0070\u0070\u0065\u0064");_egga ,_gbfg :=_ccbg .vertsHorzs ();_becc :=_egga .primaries ();_cgeab :=_gbfg .primaries ();_abebb :=len (_becc )-1;_dccd :=len (_cgeab )-1;if _abebb ==0||_dccd ==0{return gridTiling {};};_gceef :=_ec .PdfRectangle {Llx :_becc [0],Urx :_becc [_abebb ],Lly :_cgeab [0],Ury :_cgeab [_dccd ]};if _eefge {_gf .Log .Info ("\u0072\u0075l\u0069\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0076\u0065\u0072\u0074s=\u0025\u0064",len (_egga ));for _cffbg ,_ccfa :=range _egga {_cca .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_cffbg ,_ccfa );};_gf .Log .Info ("\u0072\u0075l\u0069\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0068\u006f\u0072\u007as=\u0025\u0064",len (_gbfg ));for _fgfede ,_aafb :=range _gbfg {_cca .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_fgfede ,_aafb );};_gf .Log .Info ("\u0072\u0075\u006c\u0069\u006eg\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067:\u0020\u0020\u0077\u0078\u0068\u003d\u0025\u0064\u0078\u0025\u0064\u000a\u0009\u006c\u006c\u0078\u003d\u0025\u002e\u0032\u0066\u000a\u0009\u006c\u006c\u0079\u003d\u0025\u002e\u0032f",_abebb ,_dccd ,_becc ,_cgeab );};_efcga :=make ([]gridTile ,_abebb *_dccd );for _dcebc :=_dccd -1;_dcebc >=0;_dcebc --{_dcbdd :=_cgeab [_dcebc ];_aafa :=_cgeab [_dcebc +1];for _aefac :=0;_aefac < _abebb ;_aefac ++{_cgbe :=_becc [_aefac ];_dcgcf :=_becc [_aefac +1];_daefg :=_egga .findPrimSec (_cgbe ,_dcbdd );_bfgce :=_egga .findPrimSec (_dcgcf ,_dcbdd );_dedee :=_gbfg .findPrimSec (_dcbdd ,_cgbe );_gace :=_gbfg .findPrimSec (_aafa ,_cgbe );_afce :=_ec .PdfRectangle {Llx :_cgbe ,Urx :_dcgcf ,Lly :_dcbdd ,Ury :_aafa };_bedd :=_eddad (_afce ,_daefg ,_bfgce ,_dedee ,_gace );_efcga [_dcebc *_abebb +_aefac ]=_bedd ;if _eefge {_cca .Printf ("\u0020\u0020\u0078\u003d\u0025\u0032\u0064\u0020\u0079\u003d\u0025\u0032\u0064\u003a\u0020%\u0073 \u0025\u0036\u002e\u0032\u0066\u0020\u0078\u0020\u0025\u0036\u002e\u0032\u0066\u000a",_aefac ,_dcebc ,_bedd .String (),_bedd .Width (),_bedd .Height ());};};};if _eefge {_gf .Log .Info ("r\u0075\u006c\u0069\u006e\u0067\u004c\u0069\u0073\u0074.\u0061\u0073\u0054\u0069\u006c\u0069\u006eg:\u0020\u0063\u006f\u0061l\u0065\u0073\u0063\u0065\u0020\u0068\u006f\u0072\u0069zo\u006e\u0074a\u006c\u002e\u0020\u0025\u0036\u002e\u0032\u0066",_gceef );};_bbfad :=make ([]map[float64 ]gridTile ,_dccd );for _aacg :=_dccd -1;_aacg >=0;_aacg --{if _eefge {_cca .Printf ("\u0020\u0020\u0079\u003d\u0025\u0032\u0064\u000a",_aacg );};_bbfad [_aacg ]=make (map[float64 ]gridTile ,_abebb );for _edbdf :=0;_edbdf < _abebb ;_edbdf ++{_cadge :=_efcga [_aacg *_abebb +_edbdf ];if _eefge {_cca .Printf ("\u0020\u0020\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_edbdf ,_cadge );};if !_cadge ._faeg {continue ;};_dfca :=_edbdf ;for _faegf :=_edbdf +1;!_cadge ._ddabd &&_faegf < _abebb ;_faegf ++{_feefb :=_efcga [_aacg *_abebb +_faegf ];_cadge .Urx =_feefb .Urx ;_cadge ._fgfed =_cadge ._fgfed ||_feefb ._fgfed ;_cadge ._ceee =_cadge ._ceee ||_feefb ._ceee ;_cadge ._ddabd =_feefb ._ddabd ;if _eefge {_cca .Printf ("\u0020 \u0020%\u0034\u0064\u003a\u0020\u0025s\u0020\u2192 \u0025\u0073\u000a",_faegf ,_feefb ,_cadge );};_dfca =_faegf ;};if _eefge {_cca .Printf (" \u0020 \u0025\u0032\u0064\u0020\u002d\u0020\u0025\u0032d\u0020\u2192\u0020\u0025s\n",_edbdf ,_dfca ,_cadge );};_edbdf =_dfca ;_bbfad [_aacg ][_cadge .Llx ]=_cadge ;};};_cddcc :=make (map[float64 ]map[float64 ]gridTile ,_dccd );_gffga :=make (map[float64 ]map[float64 ]struct{},_dccd );for _bcgc :=_dccd -1;_bcgc >=0;_bcgc --{_abed :=_efcga [_bcgc *_abebb ].Lly ;_cddcc [_abed ]=make (map[float64 ]gridTile ,_abebb );_gffga [_abed ]=make (map[float64 ]struct{},_abebb );};if _eefge {_gf .Log .Info ("\u0072u\u006c\u0069n\u0067\u004c\u0069s\u0074\u002e\u0061\u0073\u0054\u0069\u006ci\u006e\u0067\u003a\u0020\u0063\u006fa\u006c\u0065\u0073\u0063\u0065\u0020\u0076\u0065\u0072\u0074\u0069c\u0061\u006c\u002e\u0020\u0025\u0036\u002e\u0032\u0066",_gceef );};for _fdaf :=_dccd -1;_fdaf >=0;_fdaf --{_fdef :=_efcga [_fdaf *_abebb ].Lly ;_eefbg :=_bbfad [_fdaf ];if _eefge {_cca .Printf ("\u0020\u0020\u0079\u003d\u0025\u0032\u0064\u000a",_fdaf );};for _ ,_gfbb :=range _dfgeb (_eefbg ){if _ ,_geafd :=_gffga [_fdef ][_gfbb ];_geafd {continue ;};_eabaa :=_eefbg [_gfbb ];if _eefge {_cca .Printf (" \u0020\u0020\u0020\u0020\u0076\u0030\u003d\u0025\u0073\u000a",_eabaa .String ());};for _abcg :=_fdaf -1;_abcg >=0;_abcg --{if _eabaa ._ceee {break ;};_dfdc :=_bbfad [_abcg ];_gacg ,_egbcd :=_dfdc [_gfbb ];if !_egbcd {break ;};if _gacg .Urx !=_eabaa .Urx {break ;};_eabaa ._ceee =_gacg ._ceee ;_eabaa .Lly =_gacg .Lly ;if _eefge {_cca .Printf ("\u0020\u0020\u0020\u0020  \u0020\u0020\u0076\u003d\u0025\u0073\u0020\u0076\u0030\u003d\u0025\u0073\u000a",_gacg .String (),_eabaa .String ());};_gffga [_gacg .Lly ][_gacg .Llx ]=struct{}{};};if _fdaf ==0{_eabaa ._ceee =true ;};if _eabaa .complete (){_cddcc [_fdef ][_gfbb ]=_eabaa ;};};};_cgfa :=gridTiling {PdfRectangle :_gceef ,_feee :_eecc (_cddcc ),_ddbg :_dcfgd (_cddcc ),_fcdbf :_cddcc };_cgfa .log ("\u0043r\u0065\u0061\u0074\u0065\u0064");return _cgfa ;};func _bbbbf (_abbd []pathSection ){if _dddd < 0.0{return ;};if _cbee {_gf .Log .Info ("\u0067\u0072\u0061\u006e\u0075\u006c\u0061\u0072\u0069\u007a\u0065\u003a\u0020\u0025\u0064 \u0073u\u0062\u0070\u0061\u0074\u0068\u0020\u0073\u0065\u0063\u0074\u0069\u006f\u006e\u0073",len (_abbd ));};for _ccedae ,_bfgcg :=range _abbd {for _aceae ,_abged :=range _bfgcg ._gfac {for _febag ,_deeg :=range _abged ._adfe {_abged ._adfe [_febag ]=_bc .Point {X :_gaafc (_deeg .X ),Y :_gaafc (_deeg .Y )};if _cbee {_fdfb :=_abged ._adfe [_febag ];if !_baebb (_deeg ,_fdfb ){_dggb :=_bc .Point {X :_fdfb .X -_deeg .X ,Y :_fdfb .Y -_deeg .Y };_cca .Printf ("\u0025\u0034d \u002d\u0020\u00254\u0064\u0020\u002d\u0020%4d\u003a %\u002e\u0032\u0066\u0020\u2192\u0020\u0025.2\u0066\u0020\u0028\u0025\u0067\u0029\u000a",_ccedae ,_aceae ,_febag ,_deeg ,_fdfb ,_dggb );};};};};};};

// String returns a description of `v`.
func (_deff *ruling )String ()string {if _deff ._cde ==_afbda {return "\u004e\u004f\u0054\u0020\u0052\u0055\u004c\u0049\u004e\u0047";};_fcfe ,_acdga :="\u0078","\u0079";if _deff ._cde ==_dfcbe {_fcfe ,_acdga ="\u0079","\u0078";};_fccdf :="";if _deff ._dcfg !=0.0{_fccdf =_cca .Sprintf (" \u0077\u0069\u0064\u0074\u0068\u003d\u0025\u002e\u0032\u0066",_deff ._dcfg );};return _cca .Sprintf ("\u0025\u00310\u0073\u0020\u0025\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u0020\u002d\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0028\u0025\u0036\u002e\u0032\u0066\u0029\u0020\u0025\u0073\u0020\u0025\u0076\u0025\u0073",_deff ._cde ,_fcfe ,_deff ._bbaca ,_acdga ,_deff ._fdeee ,_deff ._eegg ,_deff ._eegg -_deff ._fdeee ,_deff ._ebg ,_deff .Color ,_fccdf );};func _dgfg (_bba *_gg .ContentStreamOperation )(float64 ,error ){if len (_bba .Params )!=1{_cff :=_g .New ("\u0069n\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0070\u0061r\u0061m\u0065t\u0065\u0072\u0020\u0063\u006f\u0075\u006et");_gf .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0025\u0023\u0071\u0020\u0073\u0068\u006f\u0075\u006c\u0064\u0020h\u0061\u0076\u0065\u0020\u0025\u0064\u0020i\u006e\u0070\u0075\u0074\u0020\u0070\u0061\u0072\u0061\u006d\u0073,\u0020\u0067\u006f\u0074\u0020\u0025\u0064\u0020\u0025\u002b\u0076",_bba .Operand ,1,len (_bba .Params ),_bba .Params );return 0.0,_cff ;};return _gfg .GetNumberAsFloat (_bba .Params [0]);};func (_cfga *textObject )showText (_ggf []byte )error {return _cfga .renderText (_ggf )};func (_fcbf *textTable )emptyRow (_ffaeeba int )bool {for _efdgf :=0;_efdgf < _fcbf ._cdfd ;_efdgf ++{_gadaa :=_fcbf .get (_efdgf ,_ffaeeba );if _gadaa !=nil &&_gadaa .text ()!=""{return false ;};};return true ;};func _geaf (_gbdd _ec .PdfRectangle ,_bfda []*textLine )*textPara {return &textPara {PdfRectangle :_gbdd ,_eefga :_bfda };};

// New returns an Extractor instance for extracting content from the input PDF page.
func New (page *_ec .PdfPage )(*Extractor ,error ){_ag ,_dab :=page .GetAllContentStreams ();if _dab !=nil {return nil ,_dab ;};_ddf ,_dab :=page .GetMediaBox ();if _dab !=nil {return nil ,_cca .Errorf ("\u0065\u0078\u0074r\u0061\u0063\u0074\u006fr\u0020\u0072\u0065\u0071\u0075\u0069\u0072e\u0073\u0020\u006d\u0065\u0064\u0069\u0061\u0042\u006f\u0078\u002e\u0020\u0025\u0076",_dab );};_gb :=&Extractor {_da :_ag ,_bg :page .Resources ,_eca :*_ddf ,_dfdg :map[string ]fontEntry {},_ee :map[string ]textResult {}};if _gb ._eca .Llx > _gb ._eca .Urx {_gf .Log .Info ("\u004d\u0065\u0064\u0069\u0061\u0042o\u0078\u0020\u0068\u0061\u0073\u0020\u0058\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073\u0020r\u0065\u0076\u0065\u0072\u0073\u0065\u0064\u002e\u0020\u0025\u002e\u0032\u0066\u0020F\u0069x\u0069\u006e\u0067\u002e",_gb ._eca );_gb ._eca .Llx ,_gb ._eca .Urx =_gb ._eca .Urx ,_gb ._eca .Llx ;};if _gb ._eca .Lly > _gb ._eca .Ury {_gf .Log .Info ("\u004d\u0065\u0064\u0069\u0061\u0042o\u0078\u0020\u0068\u0061\u0073\u0020\u0059\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073\u0020r\u0065\u0076\u0065\u0072\u0073\u0065\u0064\u002e\u0020\u0025\u002e\u0032\u0066\u0020F\u0069x\u0069\u006e\u0067\u002e",_gb ._eca );_gb ._eca .Lly ,_gb ._eca .Ury =_gb ._eca .Ury ,_gb ._eca .Lly ;};return _gb ,nil ;};type markKind int ;func _fbgb (_daaad string )(string ,bool ){_gebfb :=[]rune (_daaad );if len (_gebfb )!=1{return "",false ;};_bdaagd ,_aabg :=_ccde [_gebfb [0]];return _bdaagd ,_aabg ;};func (_gefg *shapesState )devicePoint (_aaad ,_efcg float64 )_bc .Point {_bdcg :=_gefg ._dabb .Mult (_gefg ._caab );_aaad ,_efcg =_bdcg .Transform (_aaad ,_efcg );return _bc .NewPoint (_aaad ,_efcg );};func (_bfeef *textTable )get (_cdddd ,_babbc int )*textPara {return _bfeef ._ebfa [_ffea (_cdddd ,_babbc )];};func (_abad compositeCell )String ()string {_acdg :="";if len (_abad .paraList )> 0{_acdg =_efab (_abad .paraList .merge ().text (),50);};return _cca .Sprintf ("\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0064\u0020\u0070\u0061\u0072a\u0073\u0020\u0025\u0071",_abad .PdfRectangle ,len (_abad .paraList ),_acdg );};type textWord struct{_ec .PdfRectangle ;_dedeg float64 ;_ebeg string ;_gceab []*textMark ;_fdbea float64 ;_dfegc bool ;};func (_fgdb *wordBag )firstWord (_bfag int )*textWord {return _fgdb ._gcef [_bfag ][0]};func _gfgbcf (_cged ,_eeag float64 )bool {return _cged /_a .Max (_ffgad ,_eeag )< _cege };func (_fafe *ruling )intersects (_fdge *ruling )bool {_dgaab :=(_fafe ._cde ==_adfb &&_fdge ._cde ==_dfcbe )||(_fdge ._cde ==_adfb &&_fafe ._cde ==_dfcbe );_gfaff :=func (_acfc ,_fada *ruling )bool {return _acfc ._fdeee -_fcca <=_fada ._bbaca &&_fada ._bbaca <=_acfc ._eegg +_fcca ;};_dddde :=_gfaff (_fafe ,_fdge );_gbac :=_gfaff (_fdge ,_fafe );if _cbee {_cca .Printf ("\u0020\u0020\u0020\u0020\u0069\u006e\u0074\u0065\u0072\u0073\u0065\u0063\u0074\u0073\u003a\u0020\u0020\u006fr\u0074\u0068\u006f\u0067\u006f\u006e\u0061l\u003d\u0025\u0074\u0020\u006f\u0031\u003d\u0025\u0074\u0020\u006f2\u003d\u0025\u0074\u0020\u2192\u0020\u0025\u0074\u000a"+"\u0020\u0020\u0020 \u0020\u0020\u0020\u0076\u003d\u0025\u0073\u000a"+" \u0020\u0020\u0020\u0020\u0020\u0077\u003d\u0025\u0073\u000a",_dgaab ,_dddde ,_gbac ,_dgaab &&_dddde &&_gbac ,_fafe ,_fdge );};return _dgaab &&_dddde &&_gbac ;};

// TextMark represents extracted text on a page with information regarding both textual content,
// formatting (font and size) and positioning.
// It is the smallest unit of text on a PDF page, typically a single character.
//
// getBBox() in test_text.go shows how to compute bounding boxes of substrings of extracted text.
// The following code extracts the text on PDF page `page` into `text` then finds the bounding box
// `bbox` of substring `term` in `text`.
//
//     ex, _ := New(page)
//     // handle errors
//     pageText, _, _, err := ex.ExtractPageText()
//     // handle errors
//     text := pageText.Text()
//     textMarks := pageText.Marks()
//
//     	start := strings.Index(text, term)
//      end := start + len(term)
//      spanMarks, err := textMarks.RangeOffset(start, end)
//      // handle errors
//      bbox, ok := spanMarks.BBox()
//      // handle errors
type TextMark struct{

// Text is the extracted text.
Text string ;

// Original is the text in the PDF. It has not been decoded like `Text`.
Original string ;

// BBox is the bounding box of the text.
BBox _ec .PdfRectangle ;

// Font is the font the text was drawn with.
Font *_ec .PdfFont ;

// FontSize is the font size the text was drawn with.
FontSize float64 ;

// Offset is the offset of the start of TextMark.Text in the extracted text. If you do this
//   text, textMarks := pageText.Text(), pageText.Marks()
//   marks := textMarks.Elements()
// then marks[i].Offset is the offset of marks[i].Text in text.
Offset int ;

// Meta is set true for spaces and line breaks that we insert in the extracted text. We insert
// spaces (line breaks) when we see characters that are over a threshold horizontal (vertical)
//  distance  apart. See wordJoiner (lineJoiner) in PageText.computeViews().
Meta bool ;

// FillColor is the fill color of the text.
// The color is nil for spaces and line breaks (i.e. the Meta field is true).
FillColor _cc .Color ;

// StrokeColor is the stroke color of the text.
// The color is nil for spaces and line breaks (i.e. the Meta field is true).
StrokeColor _cc .Color ;

// Orientation is the text orientation
Orientation int ;};

// String returns a human readable description of `vecs`.
func (_gffbd rulingList )String ()string {if len (_gffbd )==0{return "\u007b \u0045\u004d\u0050\u0054\u0059\u0020}";};_bcgba ,_aceb :=_gffbd .vertsHorzs ();_cdaga :=len (_bcgba );_bbacad :=len (_aceb );if _cdaga ==0||_bbacad ==0{return _cca .Sprintf ("\u007b%\u0064\u0020\u0078\u0020\u0025\u0064}",_cdaga ,_bbacad );};_egceb :=_ec .PdfRectangle {Llx :_bcgba [0]._bbaca ,Urx :_bcgba [_cdaga -1]._bbaca ,Lly :_aceb [_bbacad -1]._bbaca ,Ury :_aceb [0]._bbaca };return _cca .Sprintf ("\u007b\u0025d\u0020\u0078\u0020%\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u007d",_cdaga ,_bbacad ,_egceb );};

// ExtractText processes and extracts all text data in content streams and returns as a string.
// It takes into account character encodings in the PDF file, which are decoded by
// CharcodeBytesToUnicode.
// Characters that can't be decoded are replaced with MissingCodeRune ('\ufffd' = �).
func (_ad *Extractor )ExtractText ()(string ,error ){_fag ,_ ,_ ,_aa :=_ad .ExtractTextWithStats ();return _fag ,_aa ;};func (_ccae rulingList )connections (_ddaa map[int ]intSet ,_adecg int )intSet {_ceda :=make (intSet );_gccd :=make (intSet );var _adgd func (int );_adgd =func (_caabb int ){if !_gccd .has (_caabb ){_gccd .add (_caabb );for _fbea :=range _ccae {if _ddaa [_fbea ].has (_caabb ){_ceda .add (_fbea );};};for _egfc :=range _ccae {if _ceda .has (_egfc ){_adgd (_egfc );};};};};_adgd (_adecg );return _ceda ;};func (_efcb *shapesState )newSubPath (){_efcb .clearPath ();if _ageg {_gf .Log .Info ("\u006e\u0065\u0077\u0053\u0075\u0062\u0050\u0061\u0074h\u003a\u0020\u0025\u0073",_efcb );};};

// String returns a description of `tm`.
func (_eebc *textMark )String ()string {return _cca .Sprintf ("\u0025\u002e\u0032f \u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\u0022\u0025\u0073\u0022",_eebc .PdfRectangle ,_eebc ._gdce ,_eebc ._ecge );};func (_fgd *Extractor )extractPageText (_cfg string ,_bfe *_ec .PdfPageResources ,_cagc _bc .Matrix ,_eb int )(*PageText ,int ,int ,error ){_gf .Log .Trace ("\u0065x\u0074\u0072\u0061\u0063t\u0050\u0061\u0067\u0065\u0054e\u0078t\u003a \u006c\u0065\u0076\u0065\u006c\u003d\u0025d",_eb );_ggdg :=&PageText {_fcg :_fgd ._eca };_efa :=_cdg (_fgd ._eca );_fcea :=stateStack {&_efa };_ccd :=_gggd (_fgd ,_bfe ,_gg .GraphicsState {},&_efa ,&_fcea );_ac :=shapesState {_dabb :_cagc ,_caab :_bc .IdentityMatrix (),_gefd :_ccd };var _acf bool ;if _eb > _bcg {_faa :=_g .New ("\u0066\u006f\u0072\u006d s\u0074\u0061\u0063\u006b\u0020\u006f\u0076\u0065\u0072\u0066\u006c\u006f\u0077");_gf .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a \u0065\u0078\u0074\u0072\u0061\u0063\u0074\u0050\u0061\u0067\u0065\u0054\u0065\u0078\u0074\u002e\u0020\u0072\u0065\u0063u\u0072\u0073\u0069\u006f\u006e\u0020\u006c\u0065\u0076\u0065\u006c\u003d\u0025\u0064 \u0065r\u0072\u003d\u0025\u0076",_eb ,_faa );return _ggdg ,_efa ._caec ,_efa ._bedb ,_faa ;};_bce :=_gg .NewContentStreamParser (_cfg );_gge ,_degd :=_bce .Parse ();if _degd !=nil {_gf .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020e\u0078\u0074\u0072a\u0063\u0074\u0050\u0061g\u0065\u0054\u0065\u0078\u0074\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0066\u0061\u0069\u006c\u0065\u0064\u002e\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_degd );return _ggdg ,_efa ._caec ,_efa ._bedb ,_degd ;};_cab :=_gg .NewContentStreamProcessor (*_gge );_cab .AddHandler (_gg .HandlerConditionEnumAllOperands ,"",func (_gae *_gg .ContentStreamOperation ,_bdfb _gg .GraphicsState ,_gga *_ec .PdfPageResources )error {_cgc :=_gae .Operand ;if _fbg {_gf .Log .Info ("\u0026&\u0026\u0020\u006f\u0070\u003d\u0025s",_gae );};switch _cgc {case "\u0071":if _ageg {_gf .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_ac ._caab );};_fcea .push (&_efa );case "\u0051":if !_fcea .empty (){if len (_fcea )>=2{_fcea .pop ();};_efa =*_fcea .top ();};_ac ._caab =_bdfb .CTM ;if _ageg {_gf .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_ac ._caab );};case "\u0042\u0054":if _acf {_gf .Log .Debug ("\u0042\u0054\u0020\u0063\u0061\u006c\u006c\u0065\u0064\u0020\u0077\u0068\u0069\u006c\u0065 \u0069n\u0020\u0061\u0020\u0074\u0065\u0078\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074");_ggdg ._ffdb =append (_ggdg ._ffdb ,_ccd ._fdf ...);};_acf =true ;_bcf :=_bdfb ;_bcf .CTM =_cagc .Mult (_bcf .CTM );_ccd =_gggd (_fgd ,_gga ,_bcf ,&_efa ,&_fcea );_ac ._gefd =_ccd ;case "\u0045\u0054":if !_acf {_gf .Log .Debug ("\u0045\u0054\u0020ca\u006c\u006c\u0065\u0064\u0020\u006f\u0075\u0074\u0073i\u0064e\u0020o\u0066 \u0061\u0020\u0074\u0065\u0078\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074");};_acf =false ;_ggdg ._ffdb =append (_ggdg ._ffdb ,_ccd ._fdf ...);_ccd .reset ();case "\u0054\u002a":_ccd .nextLine ();case "\u0054\u0064":if _gaf ,_ggac :=_ccd .checkOp (_gae ,2,true );!_gaf {_gf .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_ggac );return _ggac ;};_ge ,_adf ,_acfe :=_cega (_gae .Params );if _acfe !=nil {return _acfe ;};_ccd .moveText (_ge ,_adf );case "\u0054\u0044":if _bag ,_degb :=_ccd .checkOp (_gae ,2,true );!_bag {_gf .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_degb );return _degb ;};_aec ,_ebb ,_bdb :=_cega (_gae .Params );if _bdb !=nil {_gf .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bdb );return _bdb ;};_ccd .moveTextSetLeading (_aec ,_ebb );case "\u0054\u006a":if _ccab ,_ceba :=_ccd .checkOp (_gae ,1,true );!_ccab {_gf .Log .Debug ("\u0045\u0052\u0052\u004fR:\u0020\u0054\u006a\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0065\u0072\u0072\u003d%\u0076",_gae ,_ceba );return _ceba ;};_dad ,_bfb :=_gfg .GetStringBytes (_gae .Params [0]);if !_bfb {_gf .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020T\u006a\u0020o\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074S\u0074\u0072\u0069\u006e\u0067\u0042\u0079\u0074\u0065\u0073\u0020\u0066a\u0069\u006c\u0065\u0064",_gae );return _gfg .ErrTypeError ;};return _ccd .showText (_dad );case "\u0054\u004a":if _edd ,_aag :=_ccd .checkOp (_gae ,1,true );!_edd {_gf .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u004a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_aag );return _aag ;};_ddb ,_eef :=_gfg .GetArray (_gae .Params [0]);if !_eef {_gf .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0054\u004a\u0020\u006f\u0070\u003d\u0025s\u0020G\u0065t\u0041r\u0072\u0061\u0079\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065\u0064",_gae );return _degd ;};return _ccd .showTextAdjusted (_ddb );case "\u0027":if _cba ,_cbaf :=_ccd .checkOp (_gae ,1,true );!_cba {_gf .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u0027\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_cbaf );return _cbaf ;};_cac ,_aece :=_gfg .GetStringBytes (_gae .Params [0]);if !_aece {_gf .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020'\u0020\u006f\u0070\u003d%s \u0047et\u0053\u0074\u0072\u0069\u006e\u0067\u0042yt\u0065\u0073\u0020\u0066\u0061\u0069\u006ce\u0064",_gae );return _gfg .ErrTypeError ;};_ccd .nextLine ();return _ccd .showText (_cac );case "\u0022":if _cacg ,_bad :=_ccd .checkOp (_gae ,3,true );!_cacg {_gf .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u0022\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bad );return _bad ;};_bccd ,_cgbf ,_acfa :=_cega (_gae .Params [:2]);if _acfa !=nil {return _acfa ;};_daf ,_bcce :=_gfg .GetStringBytes (_gae .Params [2]);if !_bcce {_gf .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020\"\u0020\u006f\u0070\u003d%s \u0047et\u0053\u0074\u0072\u0069\u006e\u0067\u0042yt\u0065\u0073\u0020\u0066\u0061\u0069\u006ce\u0064",_gae );return _gfg .ErrTypeError ;};_ccd .setCharSpacing (_bccd );_ccd .setWordSpacing (_cgbf );_ccd .nextLine ();return _ccd .showText (_daf );case "\u0054\u004c":_bgg ,_eefe :=_dgfg (_gae );if _eefe !=nil {_gf .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u004c\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_eefe );return _eefe ;};_ccd .setTextLeading (_bgg );case "\u0054\u0063":_adc ,_bgd :=_dgfg (_gae );if _bgd !=nil {_gf .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0063\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bgd );return _bgd ;};_ccd .setCharSpacing (_adc );case "\u0054\u0066":if _eac ,_efd :=_ccd .checkOp (_gae ,2,true );!_eac {_gf .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0066\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_efd );return _efd ;};_dgeg ,_gaee :=_gfg .GetNameVal (_gae .Params [0]);if !_gaee {_gf .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a \u0054\u0066\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074\u004ea\u006d\u0065\u0056\u0061\u006c\u0020\u0066a\u0069\u006c\u0065\u0064",_gae );return _gfg .ErrTypeError ;};_fe ,_gde :=_gfg .GetNumberAsFloat (_gae .Params [1]);if !_gaee {_gf .Log .Debug ("\u0045\u0052\u0052O\u0052\u003a\u0020\u0054\u0066\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074\u0046\u006c\u006f\u0061\u0074\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065d\u002e\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_gae ,_gde );return _gde ;};_gde =_ccd .setFont (_dgeg ,_fe );_ccd ._bddf =_cg .Is (_gde ,_gfg .ErrNotSupported );if _gde !=nil &&!_ccd ._bddf {return _gde ;};case "\u0054\u006d":if _bgac ,_fec :=_ccd .checkOp (_gae ,6,true );!_bgac {_gf .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u006d\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_fec );return _fec ;};_eddb ,_ffe :=_gfg .GetNumbersAsFloat (_gae .Params );if _ffe !=nil {_gf .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_ffe );return _ffe ;};_ccd .setTextMatrix (_eddb );case "\u0054\u0072":if _dda ,_fgf :=_ccd .checkOp (_gae ,1,true );!_dda {_gf .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0072\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_fgf );return _fgf ;};_bed ,_agf :=_gfg .GetIntVal (_gae .Params [0]);if !_agf {_gf .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0054\u0072\u0020\u006f\u0070\u003d\u0025\u0073 \u0047e\u0074\u0049\u006e\u0074\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065\u0064",_gae );return _gfg .ErrTypeError ;};_ccd .setTextRenderMode (_bed );case "\u0054\u0073":if _gbbb ,_add :=_ccd .checkOp (_gae ,1,true );!_gbbb {_gf .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0073\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_add );return _add ;};_bfeb ,_bdc :=_gfg .GetNumberAsFloat (_gae .Params [0]);if _bdc !=nil {_gf .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bdc );return _bdc ;};_ccd .setTextRise (_bfeb );case "\u0054\u0077":if _dcc ,_bfc :=_ccd .checkOp (_gae ,1,true );!_dcc {_gf .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bfc );return _bfc ;};_ddd ,_bdca :=_gfg .GetNumberAsFloat (_gae .Params [0]);if _bdca !=nil {_gf .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bdca );return _bdca ;};_ccd .setWordSpacing (_ddd );case "\u0054\u007a":if _faag ,_acfb :=_ccd .checkOp (_gae ,1,true );!_faag {_gf .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_acfb );return _acfb ;};_ffd ,_aef :=_gfg .GetNumberAsFloat (_gae .Params [0]);if _aef !=nil {_gf .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_aef );return _aef ;};_ccd .setHorizScaling (_ffd );case "\u0063\u006d":_ac ._caab =_bdfb .CTM ;if _ac ._caab .Singular (){_fed :=_bc .IdentityMatrix ().Translate (_ac ._caab .Translation ());_gf .Log .Debug ("S\u0069n\u0067\u0075\u006c\u0061\u0072\u0020\u0063\u0074m\u003d\u0025\u0073\u2192%s",_ac ._caab ,_fed );_ac ._caab =_fed ;};if _ageg {_gf .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_ac ._caab );};case "\u006d":if len (_gae .Params )!=2{_gf .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006d\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0076\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_fa );return nil ;};_bcfa ,_eecg :=_gfg .GetNumbersAsFloat (_gae .Params );if _eecg !=nil {return _eecg ;};_gf .Log .Debug ("\u004d\u006f\u0076\u0065\u0020\u0074\u006f\u003a\u0020\u0025\u002e\u0032\u0066",_bcfa );_ac .moveTo (_bcfa [0],_bcfa [1]);case "\u006c":if len (_gae .Params )!=2{_gf .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006c\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0076\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_fa );return nil ;};_dea ,_cdb :=_gfg .GetNumbersAsFloat (_gae .Params );if _cdb !=nil {return _cdb ;};_ac .lineTo (_dea [0],_dea [1]);case "\u0063":if len (_gae .Params )!=6{return _fa ;};_efdg ,_cdab :=_gfg .GetNumbersAsFloat (_gae .Params );if _cdab !=nil {return _cdab ;};_gf .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020b\u0065\u007a\u0069\u0065\u0072 \u0070a\u0072a\u006d\u0073\u003a\u0020\u0025\u002e\u0032f",_efdg );_ac .cubicTo (_efdg [0],_efdg [1],_efdg [2],_efdg [3],_efdg [4],_efdg [5]);case "\u0076","\u0079":if len (_gae .Params )!=4{return _fa ;};_acg ,_ecf :=_gfg .GetNumbersAsFloat (_gae .Params );if _ecf !=nil {return _ecf ;};_gf .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020b\u0065\u007a\u0069\u0065\u0072 \u0070a\u0072a\u006d\u0073\u003a\u0020\u0025\u002e\u0032f",_acg );_ac .quadraticTo (_acg [0],_acg [1],_acg [2],_acg [3]);case "\u0068":_ac .closePath ();case "\u0072\u0065":if len (_gae .Params )!=4{return _fa ;};_cgcf ,_gc :=_gfg .GetNumbersAsFloat (_gae .Params );if _gc !=nil {return _gc ;};_ac .drawRectangle (_cgcf [0],_cgcf [1],_cgcf [2],_cgcf [3]);_ac .closePath ();case "\u0053":_ac .stroke (&_ggdg ._dfa );_ac .clearPath ();case "\u0073":_ac .closePath ();_ac .stroke (&_ggdg ._dfa );_ac .clearPath ();case "\u0046":_ac .fill (&_ggdg ._gcc );_ac .clearPath ();case "\u0066","\u0066\u002a":_ac .closePath ();_ac .fill (&_ggdg ._gcc );_ac .clearPath ();case "\u0042","\u0042\u002a":_ac .fill (&_ggdg ._gcc );_ac .stroke (&_ggdg ._dfa );_ac .clearPath ();case "\u0062","\u0062\u002a":_ac .closePath ();_ac .fill (&_ggdg ._gcc );_ac .stroke (&_ggdg ._dfa );_ac .clearPath ();case "\u006e":_ac .clearPath ();case "\u0044\u006f":if len (_gae .Params )==0{_gf .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0058\u004fbj\u0065c\u0074\u0020\u006e\u0061\u006d\u0065\u0020\u006f\u0070\u0065\u0072\u0061n\u0064\u0020\u0066\u006f\u0072\u0020\u0044\u006f\u0020\u006f\u0070\u0065\u0072\u0061\u0074\u006f\u0072.\u0020\u0047\u006f\u0074\u0020\u0025\u002b\u0076\u002e",_gae .Params );return _gfg .ErrRangeError ;};_fca ,_ecg :=_gfg .GetName (_gae .Params [0]);if !_ecg {_gf .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0044\u006f\u0020\u006f\u0070e\u0072a\u0074\u006f\u0072\u0020\u0058\u004f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0061\u006d\u0065\u0020\u006fp\u0065\u0072\u0061\u006e\u0064\u003a\u0020\u0025\u002b\u0076\u002e",_gae .Params [0]);return _gfg .ErrTypeError ;};_ ,_fdb :=_gga .GetXObjectByName (*_fca );if _fdb !=_ec .XObjectTypeForm {break ;};_eeg ,_ecg :=_fgd ._ee [_fca .String ()];if !_ecg {_gdb ,_bcca :=_gga .GetXObjectFormByName (*_fca );if _bcca !=nil {_gf .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_bcca );return _bcca ;};_dbbc ,_bcca :=_gdb .GetContentStream ();if _bcca !=nil {_gf .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_bcca );return _bcca ;};_aaa :=_gdb .Resources ;if _aaa ==nil {_aaa =_gga ;};_acc ,_fgfe ,_fcab ,_bcca :=_fgd .extractPageText (string (_dbbc ),_aaa ,_cagc .Mult (_bdfb .CTM ),_eb +1);if _bcca !=nil {_gf .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_bcca );return _bcca ;};_eeg =textResult {*_acc ,_fgfe ,_fcab };_fgd ._ee [_fca .String ()]=_eeg ;};_ac ._caab =_bdfb .CTM ;if _ageg {_gf .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_ac ._caab );};_ggdg ._ffdb =append (_ggdg ._ffdb ,_eeg ._ab ._ffdb ...);_ggdg ._dfa =append (_ggdg ._dfa ,_eeg ._ab ._dfa ...);_ggdg ._gcc =append (_ggdg ._gcc ,_eeg ._ab ._gcc ...);_efa ._caec +=_eeg ._ffga ;_efa ._bedb +=_eeg ._cgce ;case "\u0072\u0067","\u0067","\u006b","\u0063\u0073","\u0073\u0063","\u0073\u0063\u006e":_ccd ._adb .ColorspaceNonStroking =_bdfb .ColorspaceNonStroking ;_ccd ._adb .ColorNonStroking =_bdfb .ColorNonStroking ;case "\u0052\u0047","\u0047","\u004b","\u0043\u0053","\u0053\u0043","\u0053\u0043\u004e":_ccd ._adb .ColorspaceStroking =_bdfb .ColorspaceStroking ;_ccd ._adb .ColorStroking =_bdfb .ColorStroking ;};return nil ;});_degd =_cab .Process (_bfe );return _ggdg ,_efa ._caec ,_efa ._bedb ,_degd ;};func (_bcgd rulingList )snapToGroupsDirection ()rulingList {_bcgd .sortStrict ();_ccccg :=make (map[*ruling ]rulingList ,len (_bcgd ));_ggda :=_bcgd [0];_cefc :=func (_ddbf *ruling ){_ggda =_ddbf ;_ccccg [_ggda ]=rulingList {_ddbf }};_cefc (_bcgd [0]);for _ ,_cfad :=range _bcgd [1:]{if _cfad ._bbaca < _ggda ._bbaca -_adgb {_gf .Log .Error ("\u0073\u006e\u0061\u0070T\u006f\u0047\u0072\u006f\u0075\u0070\u0073\u0044\u0069r\u0065\u0063\u0074\u0069\u006f\u006e\u003a\u0020\u0057\u0072\u006f\u006e\u0067\u0020\u0070\u0072\u0069\u006da\u0072\u0079\u0020\u006f\u0072d\u0065\u0072\u002e\u000a\u0009\u0076\u0030\u003d\u0025\u0073\u000a\u0009\u0020\u0076\u003d\u0025\u0073",_ggda ,_cfad );};if _cfad ._bbaca > _ggda ._bbaca +_agdf {_cefc (_cfad );}else {_ccccg [_ggda ]=append (_ccccg [_ggda ],_cfad );};};_dbac :=make (map[*ruling ]float64 ,len (_ccccg ));_becf :=make (map[*ruling ]*ruling ,len (_bcgd ));for _efgab ,_eee :=range _ccccg {_dbac [_efgab ]=_eee .mergePrimary ();for _ ,_fdc :=range _eee {_becf [_fdc ]=_efgab ;};};for _ ,_bacc :=range _bcgd {_bacc ._bbaca =_dbac [_becf [_bacc ]];};_eagg :=make (rulingList ,0,len (_bcgd ));for _ ,_cbag :=range _ccccg {_agccf :=_cbag .splitSec ();for _ceae ,_ggdgd :=range _agccf {_ebgb :=_ggdgd .merge ();if len (_eagg )> 0{_febf :=_eagg [len (_eagg )-1];if _febf .alignsPrimary (_ebgb )&&_febf .alignsSec (_ebgb ){_gf .Log .Error ("\u0073\u006e\u0061\u0070\u0054\u006fG\u0072\u006f\u0075\u0070\u0073\u0044\u0069\u0072\u0065\u0063\u0074\u0069\u006f\u006e\u003a\u0020\u0044\u0075\u0070\u006ci\u0063\u0061\u0074\u0065\u0020\u0069\u003d\u0025\u0064\u000a\u0009\u0077\u003d\u0025s\u000a\t\u0076\u003d\u0025\u0073",_ceae ,_febf ,_ebgb );continue ;};};_eagg =append (_eagg ,_ebgb );};};_eagg .sortStrict ();return _eagg ;};func (_aefb *wordBag )depthBand (_edbd ,_bfad float64 )[]int {if len (_aefb ._gcef )==0{return nil ;};return _aefb .depthRange (_aefb .getDepthIdx (_edbd ),_aefb .getDepthIdx (_bfad ));};

// String returns a description of `w`.
func (_acfgg *textWord )String ()string {return _cca .Sprintf ("\u0025\u002e2\u0066\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\"%\u0073\u0022",_acfgg ._dedeg ,_acfgg .PdfRectangle ,_acfgg ._fdbea ,_acfgg ._ebeg );};

// String returns a description of `state`.
func (_ddcg *textState )String ()string {_cafd :="\u005bN\u004f\u0054\u0020\u0053\u0045\u0054]";if _ddcg ._ffc !=nil {_cafd =_ddcg ._ffc .BaseFont ();};return _cca .Sprintf ("\u0074\u0063\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0077\u003d\u0025\u002e\u0032\u0066 \u0074f\u0073\u003d\u0025\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u003d\u0025\u0071",_ddcg ._dbd ,_ddcg ._aba ,_ddcg ._bbac ,_cafd );};func _cdg (_gdg _ec .PdfRectangle )textState {return textState {_agfb :100,_dgg :RenderModeFill ,_ddec :_gdg };};func _dcfgd (_dcge map[float64 ]map[float64 ]gridTile )[]float64 {_bgaf :=make ([]float64 ,0,len (_dcge ));for _agfd :=range _dcge {_bgaf =append (_bgaf ,_agfd );};_fb .Float64s (_bgaf );_ebcfec :=len (_bgaf );for _fgeb :=0;_fgeb < _ebcfec /2;_fgeb ++{_bgaf [_fgeb ],_bgaf [_ebcfec -1-_fgeb ]=_bgaf [_ebcfec -1-_fgeb ],_bgaf [_fgeb ];};return _bgaf ;};func (_ecbd *textTable )compositeRowCorridors ()map[int ][]float64 {_bbdff :=make (map[int ][]float64 ,_ecbd ._dbdg );if _cbba {_gf .Log .Info ("c\u006f\u006d\u0070\u006f\u0073\u0069t\u0065\u0052\u006f\u0077\u0043\u006f\u0072\u0072\u0069d\u006f\u0072\u0073:\u0020h\u003d\u0025\u0064",_ecbd ._dbdg );};for _bada :=1;_bada < _ecbd ._dbdg ;_bada ++{var _ebfe []compositeCell ;for _bdda :=0;_bdda < _ecbd ._cdfd ;_bdda ++{if _bcebe ,_edee :=_ecbd ._fcdcdd [_ffea (_bdda ,_bada )];_edee {_ebfe =append (_ebfe ,_bcebe );};};if len (_ebfe )==0{continue ;};_dgaeb :=_fabb (_ebfe );_bbdff [_bada ]=_dgaeb ;if _cbba {_cca .Printf ("\u0020\u0020\u0020\u0025\u0032\u0064\u003a\u0020\u00256\u002e\u0032\u0066\u000a",_bada ,_dgaeb );};};return _bbdff ;};const (_eeaab markKind =iota ;_bbba ;_gdfgd ;_dcee ;);const (RenderModeStroke RenderMode =1<<iota ;RenderModeFill ;RenderModeClip ;);func (_ggcfg paraList )reorder (_afef []int ){_dbgg :=make (paraList ,len (_ggcfg ));for _dace ,_bgfb :=range _afef {_dbgg [_dace ]=_ggcfg [_bgfb ];};copy (_ggcfg ,_dbgg );};func _dffd (_gfacg ,_ecbf *textPara )bool {return _bcbd (_gfacg ._abffd ,_ecbf ._abffd )};func _cefb (_dfda ,_deb bounded )float64 {_bfef :=_agee (_dfda ,_deb );if !_efea (_bfef ){return _bfef ;};return _deac (_dfda ,_deb );};func _beea (_aeca ,_cdfgd _bc .Point )rulingKind {_ebgc :=_a .Abs (_aeca .X -_cdfgd .X );_dcfa :=_a .Abs (_aeca .Y -_cdfgd .Y );return _gfcaf (_ebgc ,_dcfa ,_cege );};func (_bgccf *ruling )gridIntersecting (_faec *ruling )bool {return _deeaa (_bgccf ._fdeee ,_faec ._fdeee )&&_deeaa (_bgccf ._eegg ,_faec ._eegg );};func (_gdgb paraList )sortReadingOrder (){_gf .Log .Trace ("\u0073\u006fr\u0074\u0052\u0065\u0061\u0064i\u006e\u0067\u004f\u0072\u0064e\u0072\u003a\u0020\u0070\u0061\u0072\u0061\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_gdgb ));if len (_gdgb )<=1{return ;};_gdgb .computeEBBoxes ();_fb .Slice (_gdgb ,func (_acca ,_ffde int )bool {return _ecab (_gdgb [_acca ],_gdgb [_ffde ])<=0});_feeg :=_gdgb .topoOrder ();_gdgb .reorder (_feeg );};func (_fceac *textTable )isExportable ()bool {if _fceac ._ecef {return true ;};_fedecd :=func (_edfab int )bool {_acbg :=_fceac .get (0,_edfab );if _acbg ==nil {return false ;};_ggge :=_acbg .text ();_efge :=_f .RuneCountInString (_ggge );_dgca :=_dabe .MatchString (_ggge );return _efge <=1||_dgca ;};for _degda :=0;_degda < _fceac ._dbdg ;_degda ++{if !_fedecd (_degda ){return true ;};};return false ;};func (_gadd *textTable )markCells (){for _ebgd :=0;_ebgd < _gadd ._dbdg ;_ebgd ++{for _eaacg :=0;_eaacg < _gadd ._cdfd ;_eaacg ++{_adbf :=_gadd .get (_eaacg ,_ebgd );if _adbf !=nil {_adbf ._ecgg =true ;};};};};

// String returns a description of `l`.
func (_dcbd *textLine )String ()string {return _cca .Sprintf ("\u0025\u002e2\u0066\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\"%\u0073\u0022",_dcbd ._gfdb ,_dcbd .PdfRectangle ,_dcbd ._dadb ,_dcbd .text ());};func (_ddddf rulingList )merge ()*ruling {_fdged :=_ddddf [0]._bbaca ;_gfecb :=_ddddf [0]._fdeee ;_feega :=_ddddf [0]._eegg ;for _ ,_babb :=range _ddddf [1:]{_fdged +=_babb ._bbaca ;if _babb ._fdeee < _gfecb {_gfecb =_babb ._fdeee ;};if _babb ._eegg > _feega {_feega =_babb ._eegg ;};};_eddca :=&ruling {_cde :_ddddf [0]._cde ,_ebg :_ddddf [0]._ebg ,Color :_ddddf [0].Color ,_bbaca :_fdged /float64 (len (_ddddf )),_fdeee :_gfecb ,_eegg :_feega };if _gfff {_gf .Log .Info ("\u006de\u0072g\u0065\u003a\u0020\u0025\u0032d\u0020\u0076e\u0063\u0073\u0020\u0025\u0073",len (_ddddf ),_eddca );for _afbc ,_dabbd :=range _ddddf {_cca .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_afbc ,_dabbd );};};return _eddca ;};

// String returns a string describing `pt`.
func (_ccad PageText )String ()string {_fbc :=_cca .Sprintf ("P\u0061\u0067\u0065\u0054ex\u0074:\u0020\u0025\u0064\u0020\u0065l\u0065\u006d\u0065\u006e\u0074\u0073",len (_ccad ._ffdb ));_beeb :=[]string {"\u002d"+_fbc };for _ ,_cdgc :=range _ccad ._ffdb {_beeb =append (_beeb ,_cdgc .String ());};_beeb =append (_beeb ,"\u002b"+_fbc );return _cb .Join (_beeb ,"\u000a");};

// String returns a string describing the current state of the textState stack.
func (_gcf *stateStack )String ()string {_ddfg :=[]string {_cca .Sprintf ("\u002d\u002d\u002d\u002d f\u006f\u006e\u0074\u0020\u0073\u0074\u0061\u0063\u006b\u003a\u0020\u0025\u0064",len (*_gcf ))};for _cdda ,_dgdd :=range *_gcf {_abff :="\u003c\u006e\u0069l\u003e";if _dgdd !=nil {_abff =_dgdd .String ();};_ddfg =append (_ddfg ,_cca .Sprintf ("\u0009\u0025\u0032\u0064\u003a\u0020\u0025\u0073",_cdda ,_abff ));};return _cb .Join (_ddfg ,"\u000a");};func _cbab (_bbd _bc .Matrix )_bc .Point {_fdg ,_ffa :=_bbd .Translation ();return _bc .Point {X :_fdg ,Y :_ffa };};const (_eeaf =true ;_dgecb =true ;_edc =true ;_ebae =false ;_ggdga =false ;_ggbf =6;_gcaf =3.0;_ccgeg =200;_fadf =true ;_cebg =true ;_efgc =true ;_afee =true ;_ccca =false ;);func _ddead (_cbf []TextMark ,_egcb *int )[]TextMark {_ddefa :=_cbf [len (_cbf )-1];_bccaa :=[]rune (_ddefa .Text );if len (_bccaa )==1{_cbf =_cbf [:len (_cbf )-1];_dccg :=_cbf [len (_cbf )-1];*_egcb =_dccg .Offset +len (_dccg .Text );}else {_eaac :=_aab (_ddefa .Text );*_egcb +=len (_eaac )-len (_ddefa .Text );_ddefa .Text =_eaac ;};return _cbf ;};func (_bfcc *wordBag )makeRemovals ()map[int ]map[*textWord ]struct{}{_efaa :=make (map[int ]map[*textWord ]struct{},len (_bfcc ._gcef ));for _bbdd :=range _bfcc ._gcef {_efaa [_bbdd ]=make (map[*textWord ]struct{});};return _efaa ;};func _ccacf (_fddg string ,_feca []rulingList ){_gf .Log .Info ("\u0024\u0024 \u0025\u0064\u0020g\u0072\u0069\u0064\u0073\u0020\u002d\u0020\u0025\u0073",len (_feca ),_fddg );for _dgefa ,_gfafc :=range _feca {_cca .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_dgefa ,_gfafc .String ());};};func (_cdc *textObject )setTextLeading (_afb float64 ){if _cdc ==nil {return ;};_cdc ._ccc ._eae =_afb ;};const _bcg =20;

// ToTextMark returns the public view of `tm`.
func (_caca *textMark )ToTextMark ()TextMark {return TextMark {Text :_caca ._ecge ,Original :_caca ._bgag ,BBox :_caca ._cdbb ,Font :_caca ._afbd ,FontSize :_caca ._gdce ,FillColor :_caca ._badf ,StrokeColor :_caca ._cdba ,Orientation :_caca ._gecg };};

// TextTable represents a table.
// Cells are ordered top-to-bottom, left-to-right.
// Cells[y] is the (0-offset) y'th row in the table.
// Cells[y][x] is the (0-offset) x'th column in the table.
type TextTable struct{W ,H int ;Cells [][]TableCell ;};func _gggd (_edbb *Extractor ,_fdbe *_ec .PdfPageResources ,_agb _gg .GraphicsState ,_bab *textState ,_cbe *stateStack )*textObject {return &textObject {_aae :_edbb ,_dafc :_fdbe ,_adb :_agb ,_ddcgc :_cbe ,_ccc :_bab ,_eeb :_bc .IdentityMatrix (),_baa :_bc .IdentityMatrix ()};};func (_aad *stateStack )size ()int {return len (*_aad )};func _deac (_bfcb ,_abde bounded )float64 {return _faff (_bfcb )-_faff (_abde )};func (_addb paraList )writeText (_beb _c .Writer ){for _ffaee ,_dadbd :=range _addb {if _dadbd ._beae {continue ;};_dadbd .writeText (_beb );if _ffaee !=len (_addb )-1{if _dfed (_dadbd ,_addb [_ffaee +1]){_beb .Write ([]byte ("\u0020"));}else {_beb .Write ([]byte ("\u000a"));_beb .Write ([]byte ("\u000a"));};};};_beb .Write ([]byte ("\u000a"));_beb .Write ([]byte ("\u000a"));};func (_ccdbe *textTable )getDown ()paraList {_efcf :=make (paraList ,_ccdbe ._cdfd );for _gded :=0;_gded < _ccdbe ._cdfd ;_gded ++{_defga :=_ccdbe .get (_gded ,_ccdbe ._dbdg -1)._dafe ;if _defga ==nil ||_defga ._ecgg {return nil ;};_efcf [_gded ]=_defga ;};for _addaa :=0;_addaa < _ccdbe ._cdfd -1;_addaa ++{if _efcf [_addaa ]._edcg !=_efcf [_addaa +1]{return nil ;};};return _efcf ;};func _agee (_feda ,_acfd bounded )float64 {return _feda .bbox ().Llx -_acfd .bbox ().Llx };

// Len returns the number of TextMarks in `ma`.
func (_caae *TextMarkArray )Len ()int {if _caae ==nil {return 0;};return len (_caae ._faad );};func (_dacf paraList )tables ()[]TextTable {var _bffe []TextTable ;if _cbba {_gf .Log .Info ("\u0070\u0061\u0072\u0061\u0073\u002e\u0074\u0061\u0062\u006c\u0065\u0073\u003a");};for _ ,_gafg :=range _dacf {_ecfe :=_gafg ._addfe ;if _ecfe !=nil &&_ecfe .isExportable (){_bffe =append (_bffe ,_ecfe .toTextTable ());};};return _bffe ;};func (_bgdee rulingList )primMinMax ()(float64 ,float64 ){_cfdb ,_dfad :=_bgdee [0]._bbaca ,_bgdee [0]._bbaca ;for _ ,_egffg :=range _bgdee [1:]{if _egffg ._bbaca < _cfdb {_cfdb =_egffg ._bbaca ;}else if _egffg ._bbaca > _dfad {_dfad =_egffg ._bbaca ;};};return _cfdb ,_dfad ;};func (_bbad *textPara )depth ()float64 {if _bbad ._beae {return -1.0;};if len (_bbad ._eefga )> 0{return _bbad ._eefga [0]._gfdb ;};return _bbad ._addfe .depth ();};func _eaae (_baae int ,_bfgf func (int ,int )bool )[]int {_bbfd :=make ([]int ,_baae );for _cdcgd :=range _bbfd {_bbfd [_cdcgd ]=_cdcgd ;};_fb .Slice (_bbfd ,func (_bcdg ,_dcfc int )bool {return _bfgf (_bbfd [_bcdg ],_bbfd [_dcfc ])});return _bbfd ;};func _gaafc (_fbbfa float64 )float64 {return _dddd *_a .Round (_fbbfa /_dddd )};func _gedb (_fcbc []float64 ,_gebdb ,_dbbd float64 )[]float64 {_cfbfe ,_gcea :=_gebdb ,_dbbd ;if _gcea < _cfbfe {_cfbfe ,_gcea =_gcea ,_cfbfe ;};_gfaaa :=make ([]float64 ,0,len (_fcbc )+2);_gfaaa =append (_gfaaa ,_gebdb );for _ ,_gaaf :=range _fcbc {if _gaaf <=_cfbfe {continue ;}else if _gaaf >=_gcea {break ;};_gfaaa =append (_gfaaa ,_gaaf );};_gfaaa =append (_gfaaa ,_dbbd );return _gfaaa ;};

// String returns a description of `p`.
func (_agab *textPara )String ()string {if _agab ._beae {return _cca .Sprintf ("\u0025\u0036\u002e\u0032\u0066\u0020\u005b\u0045\u004d\u0050\u0054\u0059\u005d",_agab .PdfRectangle );};_afa :="";if _agab ._addfe !=nil {_afa =_cca .Sprintf ("\u005b\u0025\u0064\u0078\u0025\u0064\u005d\u0020",_agab ._addfe ._cdfd ,_agab ._addfe ._dbdg );};return _cca .Sprintf ("\u0025\u0036\u002e\u0032f \u0025\u0073\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u0020\u0025\u0071",_agab .PdfRectangle ,_afa ,len (_agab ._eefga ),_efab (_agab .text (),50));};func (_cagf paraList )llyRange (_facc []int ,_bffeb ,_acfag float64 )[]int {_bddd :=len (_cagf );if _acfag < _cagf [_facc [0]].Lly ||_bffeb > _cagf [_facc [_bddd -1]].Lly {return nil ;};_edgf :=_fb .Search (_bddd ,func (_aaag int )bool {return _cagf [_facc [_aaag ]].Lly >=_bffeb });_gaba :=_fb .Search (_bddd ,func (_cfda int )bool {return _cagf [_facc [_cfda ]].Lly > _acfag });return _facc [_edgf :_gaba ];};func (_cgcc intSet )has (_ccdd int )bool {_ ,_bega :=_cgcc [_ccdd ];return _bega };func (_ddbad *textLine )toTextMarks (_dbbb *int )[]TextMark {var _deab []TextMark ;for _ ,_dec :=range _ddbad ._abag {if _dec ._dfegc {_deab =_fbad (_deab ,_dbbb ,"\u0020");};_feea :=_dec .toTextMarks (_dbbb );_deab =append (_deab ,_feea ...);};return _deab ;};func (_gfad *textObject )getFont (_ffge string )(*_ec .PdfFont ,error ){if _gfad ._aae ._dfdg !=nil {_gfad ._aae ._fc ++;_dfge ,_fac :=_gfad ._aae ._dfdg [_ffge ];if _fac {_dfge ._abb =_gfad ._aae ._fc ;return _dfge ._cabf ,nil ;};};_ade ,_fcdd :=_gfad .getFontDirect (_ffge );if _fcdd !=nil {return nil ,_fcdd ;};if _gfad ._aae ._dfdg !=nil {_gdeg :=fontEntry {_ade ,_gfad ._aae ._fc };if len (_gfad ._aae ._dfdg )>=_fcecd {var _cgbcf []string ;for _cecg :=range _gfad ._aae ._dfdg {_cgbcf =append (_cgbcf ,_cecg );};_fb .Slice (_cgbcf ,func (_afc ,_ddgd int )bool {return _gfad ._aae ._dfdg [_cgbcf [_afc ]]._abb < _gfad ._aae ._dfdg [_cgbcf [_ddgd ]]._abb ;});delete (_gfad ._aae ._dfdg ,_cgbcf [0]);};_gfad ._aae ._dfdg [_ffge ]=_gdeg ;};return _ade ,nil ;};func (_egagg *textTable )compositeColCorridors ()map[int ][]float64 {_acfce :=make (map[int ][]float64 ,_egagg ._cdfd );if _cbba {_gf .Log .Info ("\u0063\u006f\u006d\u0070o\u0073\u0069\u0074\u0065\u0043\u006f\u006c\u0043\u006f\u0072r\u0069d\u006f\u0072\u0073\u003a\u0020\u0077\u003d%\u0064\u0020",_egagg ._cdfd );};for _aaca :=0;_aaca < _egagg ._cdfd ;_aaca ++{_acfce [_aaca ]=nil ;};return _acfce ;};func (_daae *subpath )isQuadrilateral ()bool {if len (_daae ._adfe )< 4||len (_daae ._adfe )> 5{return false ;};if len (_daae ._adfe )==5{_ecfgb :=_daae ._adfe [0];_abgb :=_daae ._adfe [4];if _ecfgb .X !=_abgb .X ||_ecfgb .Y !=_abgb .Y {return false ;};};return true ;};func _bdcd (_ccbe float64 )bool {return _a .Abs (_ccbe )< _agdf };func (_aed *shapesState )lineTo (_dccac ,_egb float64 ){if _ageg {_gf .Log .Info ("\u006c\u0069\u006eeT\u006f\u0028\u0025\u002e\u0032\u0066\u002c\u0025\u002e\u0032\u0066\u0020\u0070\u003d\u0025\u002e\u0032\u0066",_dccac ,_egb ,_aed .devicePoint (_dccac ,_egb ));};_aed .addPoint (_dccac ,_egb );};func (_aaagf rulingList )toGrids ()[]rulingList {if _cbee {_gf .Log .Info ("t\u006f\u0047\u0072\u0069\u0064\u0073\u003a\u0020\u0025\u0073",_aaagf );};_bacg :=_aaagf .intersections ();if _cbee {_gf .Log .Info ("\u0074\u006f\u0047r\u0069\u0064\u0073\u003a \u0076\u0065\u0063\u0073\u003d\u0025\u0064 \u0069\u006e\u0074\u0065\u0072\u0073\u0065\u0063\u0074\u0073\u003d\u0025\u0064\u0020",len (_aaagf ),len (_bacg ));for _ ,_gdffc :=range _ebbgc (_bacg ){_cca .Printf ("\u00254\u0064\u003a\u0020\u0025\u002b\u0076\n",_gdffc ,_bacg [_gdffc ]);};};_cbed :=make (map[int ]intSet ,len (_aaagf ));for _dgef :=range _aaagf {_cfacc :=_aaagf .connections (_bacg ,_dgef );if len (_cfacc )> 0{_cbed [_dgef ]=_cfacc ;};};if _cbee {_gf .Log .Info ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u0063\u006fn\u006e\u0065\u0063\u0074s=\u0025\u0064",len (_cbed ));for _ ,_fcecg :=range _ebbgc (_cbed ){_cca .Printf ("\u00254\u0064\u003a\u0020\u0025\u002b\u0076\n",_fcecg ,_cbed [_fcecg ]);};};_ccfg :=_eaae (len (_aaagf ),func (_bgaag ,_baff int )bool {_ebda ,_fffca :=len (_cbed [_bgaag ]),len (_cbed [_baff ]);if _ebda !=_fffca {return _ebda > _fffca ;};return _aaagf .comp (_bgaag ,_baff );});if _cbee {_gf .Log .Info ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u006f\u0072d\u0065\u0072\u0069\u006eg=\u0025\u0076",_ccfg );};_cccbg :=[][]int {{_ccfg [0]}};_ebaa :for _ ,_cbea :=range _ccfg [1:]{for _gccb ,_affe :=range _cccbg {for _ ,_fgfg :=range _affe {if _cbed [_fgfg ].has (_cbea ){_cccbg [_gccb ]=append (_affe ,_cbea );continue _ebaa ;};};};_cccbg =append (_cccbg ,[]int {_cbea });};if _cbee {_gf .Log .Info ("\u0074o\u0047r\u0069\u0064\u0073\u003a\u0020i\u0067\u0072i\u0064\u0073\u003d\u0025\u0076",_cccbg );};_fb .SliceStable (_cccbg ,func (_dgbce ,_gfdd int )bool {return len (_cccbg [_dgbce ])> len (_cccbg [_gfdd ])});for _ ,_gag :=range _cccbg {_fb .Slice (_gag ,func (_eefb ,_cefa int )bool {return _aaagf .comp (_gag [_eefb ],_gag [_cefa ])});};_aacffa :=make ([]rulingList ,len (_cccbg ));for _dcfaf ,_efcc :=range _cccbg {_aege :=make (rulingList ,len (_efcc ));for _accag ,_eafg :=range _efcc {_aege [_accag ]=_aaagf [_eafg ];};_aacffa [_dcfaf ]=_aege ;};if _cbee {_gf .Log .Info ("\u0074o\u0047r\u0069\u0064\u0073\u003a\u0020g\u0072\u0069d\u0073\u003d\u0025\u002b\u0076",_aacffa );};var _afg []rulingList ;for _ ,_ece :=range _aacffa {if _feggb ,_ffbe :=_ece .isActualGrid ();_ffbe {_ece =_feggb ;_ece =_ece .snapToGroups ();_afg =append (_afg ,_ece );};};if _cbee {_ccacf ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u0061\u0063t\u0075\u0061\u006c\u0047ri\u0064\u0073",_afg );_gf .Log .Info ("\u0074\u006f\u0047\u0072\u0069\u0064\u0073\u003a\u0020\u0067\u0072\u0069\u0064\u0073\u003d%\u0064 \u0061\u0063\u0074\u0075\u0061\u006c\u0047\u0072\u0069\u0064\u0073\u003d\u0025\u0064",len (_aacffa ),len (_afg ));};return _afg ;};func (_eefaa *textTable )logComposite (_geffc string ){if !_cbba {return ;};_gf .Log .Info ("\u007e~\u007eP\u0061\u0072\u0061\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0073",_eefaa ._cdfd ,_eefaa ._dbdg ,_geffc );_cca .Printf ("\u0025\u0035\u0073 \u007c","");for _ebbce :=0;_ebbce < _eefaa ._cdfd ;_ebbce ++{_cca .Printf ("\u0025\u0033\u0064 \u007c",_ebbce );};_cca .Println ("");_cca .Printf ("\u0025\u0035\u0073 \u002b","");for _ebebc :=0;_ebebc < _eefaa ._cdfd ;_ebebc ++{_cca .Printf ("\u0025\u0033\u0073 \u002b","\u002d\u002d\u002d");};_cca .Println ("");for _ecabc :=0;_ecabc < _eefaa ._dbdg ;_ecabc ++{_cca .Printf ("\u0025\u0035\u0064 \u007c",_ecabc );for _badg :=0;_badg < _eefaa ._cdfd ;_badg ++{_adab ,_ :=_eefaa ._fcdcdd [_ffea (_badg ,_ecabc )].parasBBox ();_cca .Printf ("\u0025\u0033\u0064 \u007c",len (_adab ));};_cca .Println ("");};_gf .Log .Info ("\u007e~\u007eT\u0065\u0078\u0074\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0073",_eefaa ._cdfd ,_eefaa ._dbdg ,_geffc );_cca .Printf ("\u0025\u0035\u0073 \u007c","");for _aedgf :=0;_aedgf < _eefaa ._cdfd ;_aedgf ++{_cca .Printf ("\u0025\u0031\u0032\u0064\u0020\u007c",_aedgf );};_cca .Println ("");_cca .Printf ("\u0025\u0035\u0073 \u002b","");for _cgaba :=0;_cgaba < _eefaa ._cdfd ;_cgaba ++{_cca .Print ("\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d-\u002d\u002d\u002d\u002b");};_cca .Println ("");for _fecg :=0;_fecg < _eefaa ._dbdg ;_fecg ++{_cca .Printf ("\u0025\u0035\u0064 \u007c",_fecg );for _gdad :=0;_gdad < _eefaa ._cdfd ;_gdad ++{_gedf ,_ :=_eefaa ._fcdcdd [_ffea (_gdad ,_fecg )].parasBBox ();_fbef :="";_fdcc :=_gedf .merge ();if _fdcc !=nil {_fbef =_fdcc .text ();};_fbef =_cca .Sprintf ("\u0025\u0071",_efab (_fbef ,12));_fbef =_fbef [1:len (_fbef )-1];_cca .Printf ("\u0025\u0031\u0032\u0073\u0020\u007c",_fbef );};_cca .Println ("");};};func (_bdaf rulingList )vertsHorzs ()(rulingList ,rulingList ){var _ffab ,_ggbe rulingList ;for _ ,_cgf :=range _bdaf {switch _cgf ._cde {case _adfb :_ffab =append (_ffab ,_cgf );case _dfcbe :_ggbe =append (_ggbe ,_cgf );};};return _ffab ,_ggbe ;};type ruling struct{_cde rulingKind ;_ebg markKind ;_cc .Color ;_bbaca float64 ;_fdeee float64 ;_eegg float64 ;_dcfg float64 ;};

// BBox returns the smallest axis-aligned rectangle that encloses all the TextMarks in `ma`.
func (_efga *TextMarkArray )BBox ()(_ec .PdfRectangle ,bool ){var _efaf _ec .PdfRectangle ;_fddd :=false ;for _ ,_bbdf :=range _efga ._faad {if _bbdf .Meta ||_efda (_bbdf .Text ){continue ;};if _fddd {_efaf =_debb (_efaf ,_bbdf .BBox );}else {_efaf =_bbdf .BBox ;_fddd =true ;};};return _efaf ,_fddd ;};type lineRuling struct{_aded rulingKind ;_bae markKind ;_cc .Color ;_fcga ,_cegbc _bc .Point ;};func (_gacc *textWord )computeText ()string {_fcbge :=make ([]string ,len (_gacc ._gceab ));for _ffdc ,_bdfe :=range _gacc ._gceab {_fcbge [_ffdc ]=_bdfe ._ecge ;};return _cb .Join (_fcbge ,"");};

// String returns a human readable description of `ss`.
func (_gea *shapesState )String ()string {return _cca .Sprintf ("\u007b\u0025\u0064\u0020su\u0062\u0070\u0061\u0074\u0068\u0073\u0020\u0066\u0072\u0065\u0073\u0068\u003d\u0025t\u007d",len (_gea ._edgcf ),_gea ._gcad );};type textObject struct{_aae *Extractor ;_dafc *_ec .PdfPageResources ;_adb _gg .GraphicsState ;_ccc *textState ;_ddcgc *stateStack ;_eeb _bc .Matrix ;_baa _bc .Matrix ;_fdf []*textMark ;_bddf bool ;};

// String returns a description of `b`.
func (_dbgc *wordBag )String ()string {var _ebf []string ;for _ ,_deeb :=range _dbgc .depthIndexes (){_fgg :=_dbgc ._gcef [_deeb ];for _ ,_abc :=range _fgg {_ebf =append (_ebf ,_abc ._ebeg );};};return _cca .Sprintf ("\u0025.\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065=\u0025\u002e\u0032\u0066\u0020\u0025\u0064\u0020\u0025\u0071",_dbgc .PdfRectangle ,_dbgc ._gdff ,len (_ebf ),_ebf );};func (_eba *wordBag )empty (_fcdc int )bool {_ ,_acbd :=_eba ._gcef [_fcdc ];return !_acbd };func (_eaab *textObject )getFontDict (_gff string )(_gdc _gfg .PdfObject ,_aeaf error ){_aff :=_eaab ._dafc ;if _aff ==nil {_gf .Log .Debug ("g\u0065\u0074\u0046\u006f\u006e\u0074D\u0069\u0063\u0074\u002e\u0020\u004eo\u0020\u0072\u0065\u0073\u006f\u0075\u0072c\u0065\u0073\u002e\u0020\u006e\u0061\u006d\u0065\u003d\u0025#\u0071",_gff );return nil ,nil ;};_gdc ,_aeaa :=_aff .GetFontByName (_gfg .PdfObjectName (_gff ));if !_aeaa {_gf .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0067\u0065t\u0046\u006f\u006et\u0044\u0069\u0063\u0074\u003a\u0020\u0046\u006f\u006et \u006e\u006f\u0074 \u0066\u006fu\u006e\u0064\u003a\u0020\u006e\u0061m\u0065\u003d%\u0023\u0071",_gff );return nil ,_g .New ("f\u006f\u006e\u0074\u0020no\u0074 \u0069\u006e\u0020\u0072\u0065s\u006f\u0075\u0072\u0063\u0065\u0073");};return _gdc ,nil ;};func (_fdcg *textPara )isAtom ()*textTable {_aada :=_fdcg ;_fbbb :=_fdcg ._edcg ;_eeaaa :=_fdcg ._dafe ;if !(_fbbb !=nil &&!_fbbb ._ecgg &&_eeaaa !=nil &&!_eeaaa ._ecgg ){return nil ;};_ggdc :=_fbbb ._dafe ;if !(_ggdc !=nil &&!_ggdc ._ecgg &&_ggdc ==_eeaaa ._edcg ){return nil ;};return _bbfb (_aada ,_fbbb ,_eeaaa ,_ggdc );};func (_gged *textWord )addDiacritic (_dbde string ){_gdfd :=_gged ._gceab [len (_gged ._gceab )-1];_gdfd ._ecge +=_dbde ;_gdfd ._ecge =_dfc .NFKC .String (_gdfd ._ecge );};func (_edcb paraList )findTableGrid (_ecgf gridTiling )(*textTable ,map[*textPara ]struct{}){_ggdce :=len (_ecgf ._feee );_gaff :=len (_ecgf ._ddbg );_daba :=textTable {_ecef :true ,_cdfd :_ggdce ,_dbdg :_gaff ,_ebfa :make (map[uint64 ]*textPara ,_ggdce *_gaff ),_fcdcdd :make (map[uint64 ]compositeCell ,_ggdce *_gaff )};_cbgcf :=make (map[*textPara ]struct{});_dbaa :=int ((1.0-_ddef )*float64 (_ggdce *_gaff ));_bdec :=0;if _eefge {_gf .Log .Info ("\u0066\u0069\u006e\u0064Ta\u0062\u006c\u0065\u0047\u0072\u0069\u0064\u003a\u0020\u0025\u0064\u0020\u0078\u0020%\u0064",_ggdce ,_gaff );};for _bdaag ,_gffc :=range _ecgf ._ddbg {_dgggg ,_effa :=_ecgf ._fcdbf [_gffc ];if !_effa {continue ;};for _ccec ,_defdf :=range _ecgf ._feee {_gdfe ,_fbfdf :=_dgggg [_defdf ];if !_fbfdf {continue ;};_eegff :=_edcb .inTile (_gdfe );if len (_eegff )==0{_bdec ++;if _bdec > _dbaa {if _eefge {_gf .Log .Info ("\u0021\u006e\u0075m\u0045\u006d\u0070\u0074\u0079\u003d\u0025\u0064",_bdec );};return nil ,nil ;};}else {_daba .putComposite (_ccec ,_bdaag ,_eegff ,_gdfe .PdfRectangle );for _ ,_cada :=range _eegff {_cbgcf [_cada ]=struct{}{};};};};};_dfedd :=0;for _fgbf :=0;_fgbf < _ggdce ;_fgbf ++{_acff :=_daba .get (_fgbf ,0);if _acff ==nil ||!_acff ._beae {_dfedd ++;};};if _dfedd ==0{if _eefge {_gf .Log .Info ("\u0021\u006e\u0075m\u0048\u0065\u0061\u0064\u0065\u0072\u003d\u0030");};return nil ,nil ;};_fceda :=_daba .reduceTiling (_ecgf ,_gdgg );_fceda =_fceda .subdivide ();return _fceda ,_cbgcf ;};func (_cdfc *textTable )emptyColumn (_dcef int )bool {for _cagda :=0;_cagda < _cdfc ._dbdg ;_cagda ++{_gefb :=_cdfc .get (_dcef ,_cagda );if _gefb !=nil &&_gefb .text ()!=""{return false ;};};return true ;};func (_aacd *textPara )fontsize ()float64 {return _aacd ._eefga [0]._dadb };func _fbad (_geffe []TextMark ,_eecd *int ,_bdffe string )[]TextMark {_gdeec :=_ecfc ;_gdeec .Text =_bdffe ;return _gfcb (_geffe ,_eecd ,_gdeec );};type textMark struct{_ec .PdfRectangle ;_gecg int ;_ecge string ;_bgag string ;_afbd *_ec .PdfFont ;_gdce float64 ;_cdf float64 ;_bgfc _bc .Matrix ;_cfbf _bc .Point ;_cdbb _ec .PdfRectangle ;_badf _cc .Color ;_cdba _cc .Color ;};type textPara struct{_ec .PdfRectangle ;_abffd _ec .PdfRectangle ;_eefga []*textLine ;_addfe *textTable ;_ecgg bool ;_beae bool ;_fdag *textPara ;_edcg *textPara ;_gbae *textPara ;_dafe *textPara ;};func _aecb (_acbb *PageText )error {_gdbfe :=_dfd .GetLicenseKey ();if _gdbfe !=nil &&_gdbfe .IsLicensed ()||_dd {return nil ;};_cca .Printf ("\u0055\u006e\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0064\u0020c\u006f\u0070\u0079\u0020\u006f\u0066\u0020\u0055\u006e\u0069P\u0044\u0046\u000a");_cca .Println ("-\u0020\u0047\u0065\u0074\u0020\u0061\u0020\u0066\u0072e\u0065\u0020\u0074\u0072\u0069\u0061\u006c l\u0069\u0063\u0065\u006es\u0065\u0020\u006f\u006e\u0020\u0068\u0074\u0074\u0070s:\u002f\u002fu\u006e\u0069\u0064\u006f\u0063\u002e\u0069\u006f");return _g .New ("\u0075\u006e\u0069\u0070d\u0066\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0020c\u006fd\u0065\u0020\u0072\u0065\u0071\u0075\u0069r\u0065\u0064");};func (_bccdb *shapesState )quadraticTo (_fba ,_cga ,_fccf ,_ffbb float64 ){if _ageg {_gf .Log .Info ("\u0071\u0075\u0061d\u0072\u0061\u0074\u0069\u0063\u0054\u006f\u003a");};_bccdb .addPoint (_fccf ,_ffbb );};func _dffgc (_afbca ,_ecff int )int {if _afbca > _ecff {return _afbca ;};return _ecff ;};func (_bdaa *stateStack )empty ()bool {return len (*_bdaa )==0};

// String returns a string describing `ma`.
func (_fgaf TextMarkArray )String ()string {_bcd :=len (_fgaf ._faad );if _bcd ==0{return "\u0045\u004d\u0050T\u0059";};_ffdd :=_fgaf ._faad [0];_gfba :=_fgaf ._faad [_bcd -1];return _cca .Sprintf ("\u007b\u0054\u0045\u0058\u0054\u004d\u0041\u0052K\u0041\u0052\u0052AY\u003a\u0020\u0025\u0064\u0020\u0065l\u0065\u006d\u0065\u006e\u0074\u0073\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025s\u000a\u0009\u0020\u006c\u0061\u0073\u0074\u003d%\u0073\u007d",_bcd ,_ffdd ,_gfba );};func (_addfc rulingList )primaries ()[]float64 {_fecea :=make (map[float64 ]struct{},len (_addfc ));for _ ,_fdfa :=range _addfc {_fecea [_fdfa ._bbaca ]=struct{}{};};_bcgg :=make ([]float64 ,len (_fecea ));_dcgg :=0;for _aebed :=range _fecea {_bcgg [_dcgg ]=_aebed ;_dcgg ++;};_fb .Float64s (_bcgg );return _bcgg ;};func (_efcgc *textPara )writeCellText (_dffbe _c .Writer ){for _fbfd ,_fecc :=range _efcgc ._eefga {_fgcc :=_fecc .text ();_bcfeg :=_eeaf &&_fecc .endsInHyphen ()&&_fbfd !=len (_efcgc ._eefga )-1;if _bcfeg {_fgcc =_aab (_fgcc );};_dffbe .Write ([]byte (_fgcc ));if !(_bcfeg ||_fbfd ==len (_efcgc ._eefga )-1){_dffbe .Write ([]byte (_cdfg (_fecc ._gfdb ,_efcgc ._eefga [_fbfd +1]._gfdb )));};};};func _dbdde (_ffac ,_bfbc _bc .Point )bool {_gbddc :=_a .Abs (_ffac .X -_bfbc .X );_dfade :=_a .Abs (_ffac .Y -_bfbc .Y );return _gfgbcf (_gbddc ,_dfade );};func _bfeea (_bfddc []*textMark ,_bcba _ec .PdfRectangle )*textWord {_dcbddd :=_bfddc [0].PdfRectangle ;_dfgb :=_bfddc [0]._gdce ;for _ ,_cdddf :=range _bfddc [1:]{_dcbddd =_debb (_dcbddd ,_cdddf .PdfRectangle );if _cdddf ._gdce > _dfgb {_dfgb =_cdddf ._gdce ;};};return &textWord {PdfRectangle :_dcbddd ,_gceab :_bfddc ,_dedeg :_bcba .Ury -_dcbddd .Lly ,_fdbea :_dfgb };};func (_adedb rulingList )log (_gdda string ){if !_cbee {return ;};_gf .Log .Info ("\u0023\u0023\u0023\u0020\u0025\u0031\u0030\u0073\u003a\u0020\u0076\u0065c\u0073\u003d\u0025\u0073",_gdda ,_adedb .String ());for _dggg ,_fgeef :=range _adedb {_cca .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_dggg ,_fgeef .String ());};};func (_fged *textPara )text ()string {_bdgc :=new (_e .Buffer );_fged .writeText (_bdgc );return _bdgc .String ();};func (_acag *wordBag )depthRange (_affb ,_dggda int )[]int {var _eab []int ;for _ccge :=range _acag ._gcef {if _affb <=_ccge &&_ccge <=_dggda {_eab =append (_eab ,_ccge );};};if len (_eab )==0{return nil ;};_fb .Ints (_eab );return _eab ;};

// Extractor stores and offers functionality for extracting content from PDF pages.
type Extractor struct{_da string ;_bg *_ec .PdfPageResources ;_eca _ec .PdfRectangle ;_dfdg map[string ]fontEntry ;_ee map[string ]textResult ;_fc int64 ;_bb int ;};func (_abfcd *wordBag )removeDuplicates (){if _ffcf {_gf .Log .Info ("r\u0065m\u006f\u0076\u0065\u0044\u0075\u0070\u006c\u0069c\u0061\u0074\u0065\u0073: \u0025\u0071",_abfcd .text ());};for _ ,_eacd :=range _abfcd .depthIndexes (){if len (_abfcd ._gcef [_eacd ])==0{continue ;};_caba :=_abfcd ._gcef [_eacd ][0];_bbffe :=_fccga *_caba ._fdbea ;_dedg :=_caba ._dedeg ;for _ ,_cced :=range _abfcd .depthBand (_dedg ,_dedg +_bbffe ){_agdd :=map[*textWord ]struct{}{};_edfa :=_abfcd ._gcef [_cced ];for _ ,_dcce :=range _edfa {if _ ,_cbd :=_agdd [_dcce ];_cbd {continue ;};for _ ,_bacf :=range _edfa {if _ ,_fgadee :=_agdd [_bacf ];_fgadee {continue ;};if _bacf !=_dcce &&_bacf ._ebeg ==_dcce ._ebeg &&_a .Abs (_bacf .Llx -_dcce .Llx )< _bbffe &&_a .Abs (_bacf .Urx -_dcce .Urx )< _bbffe &&_a .Abs (_bacf .Lly -_dcce .Lly )< _bbffe &&_a .Abs (_bacf .Ury -_dcce .Ury )< _bbffe {_agdd [_bacf ]=struct{}{};};};};if len (_agdd )> 0{_ccba :=0;for _ ,_gcfc :=range _edfa {if _ ,_gfgg :=_agdd [_gcfc ];!_gfgg {_edfa [_ccba ]=_gcfc ;_ccba ++;};};_abfcd ._gcef [_cced ]=_edfa [:len (_edfa )-len (_agdd )];if len (_abfcd ._gcef [_cced ])==0{delete (_abfcd ._gcef ,_cced );};};};};};func (_ffaea *shapesState )fill (_adcdd *[]pathSection ){_fccd :=pathSection {_gfac :_ffaea ._edgcf ,Color :_ffaea ._gefd .getFillColor ()};*_adcdd =append (*_adcdd ,_fccd );if _cbee {_fad :=_fccd .bbox ();_cca .Printf ("\u0020 \u0020\u0020\u0046\u0049\u004c\u004c\u003a %\u0032\u0064\u0020\u0066\u0069\u006c\u006c\u0073\u0020\u0028\u0025\u0064\u0020\u006ee\u0077\u0029 \u0073\u0073\u003d%\u0073\u0020\u0063\u006f\u006c\u006f\u0072\u003d\u0025\u0033\u0076\u0020\u0025\u0036\u002e\u0032f\u003d\u00256.\u0032\u0066\u0078%\u0036\u002e\u0032\u0066\u000a",len (*_adcdd ),len (_fccd ._gfac ),_ffaea ,_fccd .Color ,_fad ,_fad .Width (),_fad .Height ());if _gbdfa {for _fcgb ,_bgce :=range _fccd ._gfac {_cca .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_fcgb ,_bgce );if _fcgb ==10{break ;};};};};};func (_aee *textObject )moveLP (_geg ,_ecfa float64 ){_aee ._baa .Concat (_bc .NewMatrix (1,0,0,1,_geg ,_ecfa ));_aee ._eeb =_aee ._baa ;};func _baag (_affd map[int ][]float64 )[]int {_agfe :=make ([]int ,len (_affd ));_fcaa :=0;for _cecfc :=range _affd {_agfe [_fcaa ]=_cecfc ;_fcaa ++;};_fb .Ints (_agfe );return _agfe ;};func _gec (_fea func (*wordBag ,*textWord ,float64 )bool ,_cbgc float64 )func (*wordBag ,*textWord )bool {return func (_effb *wordBag ,_egad *textWord )bool {return _fea (_effb ,_egad ,_cbgc )};};func _gfcb (_cgab []TextMark ,_fbaf *int ,_fgfeg TextMark )[]TextMark {_fgfeg .Offset =*_fbaf ;_cgab =append (_cgab ,_fgfeg );*_fbaf +=len (_fgfeg .Text );return _cgab ;};func _gfcaf (_afdde ,_abfb ,_gafb float64 )rulingKind {if _afdde >=_gafb &&_gfgbcf (_abfb ,_afdde ){return _dfcbe ;};if _abfb >=_gafb &&_gfgbcf (_afdde ,_abfb ){return _adfb ;};return _afbda ;};func (_egce rectRuling )asRuling ()(*ruling ,bool ){_dggf :=ruling {_cde :_egce ._bfdf ,Color :_egce .Color ,_ebg :_gdfgd };switch _egce ._bfdf {case _adfb :_dggf ._bbaca =0.5*(_egce .Llx +_egce .Urx );_dggf ._fdeee =_egce .Lly ;_dggf ._eegg =_egce .Ury ;_geacc ,_fcagg :=_egce .checkWidth (_egce .Llx ,_egce .Urx );if !_fcagg {if _cecc {_gf .Log .Error ("\u0072\u0065\u0063\u0074\u0052\u0075l\u0069\u006e\u0067\u002e\u0061\u0073\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0072\u0075\u006c\u0069\u006e\u0067V\u0065\u0072\u0074\u0020\u0021\u0063\u0068\u0065\u0063\u006b\u0057\u0069\u0064\u0074h\u0020v\u003d\u0025\u002b\u0076",_egce );};return nil ,false ;};_dggf ._dcfg =_geacc ;case _dfcbe :_dggf ._bbaca =0.5*(_egce .Lly +_egce .Ury );_dggf ._fdeee =_egce .Llx ;_dggf ._eegg =_egce .Urx ;_bdbff ,_fgeeg :=_egce .checkWidth (_egce .Lly ,_egce .Ury );if !_fgeeg {if _cecc {_gf .Log .Error ("\u0072\u0065\u0063\u0074\u0052\u0075l\u0069\u006e\u0067\u002e\u0061\u0073\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0072\u0075\u006c\u0069\u006e\u0067H\u006f\u0072\u007a\u0020\u0021\u0063\u0068\u0065\u0063\u006b\u0057\u0069\u0064\u0074h\u0020v\u003d\u0025\u002b\u0076",_egce );};return nil ,false ;};_dggf ._dcfg =_bdbff ;default:_gf .Log .Error ("\u0062\u0061\u0064\u0020pr\u0069\u006d\u0061\u0072\u0079\u0020\u006b\u0069\u006e\u0064\u003d\u0025\u0064",_egce ._bfdf );return nil ,false ;};return &_dggf ,true ;};func (_deg *imageExtractContext )extractXObjectImage (_bgf *_gfg .PdfObjectName ,_edg _gg .GraphicsState ,_ff *_ec .PdfPageResources )error {_ceb ,_ :=_ff .GetXObjectByName (*_bgf );if _ceb ==nil {return nil ;};_gfb ,_gad :=_deg ._cda [_ceb ];if !_gad {_cf ,_fcec :=_ff .GetXObjectImageByName (*_bgf );if _fcec !=nil {return _fcec ;};if _cf ==nil {return nil ;};_cdd ,_fcec :=_cf .ToImage ();if _fcec !=nil {return _fcec ;};_gfb =&cachedImage {_gbd :_cdd ,_fce :_cf .ColorSpace };_deg ._cda [_ceb ]=_gfb ;};_af :=_gfb ._gbd ;_fga :=_gfb ._fce ;_fd ,_dge :=_fga .ImageToRGB (*_af );if _dge !=nil {return _dge ;};_gf .Log .Debug ("@\u0044\u006f\u0020\u0043\u0054\u004d\u003a\u0020\u0025\u0073",_edg .CTM .String ());_beg :=ImageMark {Image :&_fd ,Width :_edg .CTM .ScalingFactorX (),Height :_edg .CTM .ScalingFactorY (),Angle :_edg .CTM .Angle ()};_beg .X ,_beg .Y =_edg .CTM .Translation ();_deg ._ce =append (_deg ._ce ,_beg );_deg ._bd ++;return nil ;};func (_cccga *textTable )depth ()float64 {_edfac :=1e10;for _bdbe :=0;_bdbe < _cccga ._cdfd ;_bdbe ++{_adcg :=_cccga .get (_bdbe ,0);if _adcg ==nil ||_adcg ._beae {continue ;};_edfac =_a .Min (_edfac ,_adcg .depth ());};return _edfac ;};func (_dbcg paraList )addNeighbours (){_fggg :=func (_aacgf []int ,_acac *textPara )([]*textPara ,[]*textPara ){_cfcg :=make ([]*textPara ,0,len (_aacgf )-1);_ecad :=make ([]*textPara ,0,len (_aacgf )-1);for _ ,_bdbb :=range _aacgf {_efdeg :=_dbcg [_bdbb ];if _efdeg .Urx <=_acac .Llx {_cfcg =append (_cfcg ,_efdeg );}else if _efdeg .Llx >=_acac .Urx {_ecad =append (_ecad ,_efdeg );};};return _cfcg ,_ecad ;};_abgfd :=func (_fbgd []int ,_abbdf *textPara )([]*textPara ,[]*textPara ){_ebdag :=make ([]*textPara ,0,len (_fbgd )-1);_egd :=make ([]*textPara ,0,len (_fbgd )-1);for _ ,_efeb :=range _fbgd {_bfdfd :=_dbcg [_efeb ];if _bfdfd .Ury <=_abbdf .Lly {_egd =append (_egd ,_bfdfd );}else if _bfdfd .Lly >=_abbdf .Ury {_ebdag =append (_ebdag ,_bfdfd );};};return _ebdag ,_egd ;};_bbbf :=_dbcg .yNeighbours (_ccfb );for _ ,_feae :=range _dbcg {_gebc :=_bbbf [_feae ];if len (_gebc )==0{continue ;};_bdcac ,_afed :=_fggg (_gebc ,_feae );if len (_bdcac )==0&&len (_afed )==0{continue ;};if len (_bdcac )> 0{_fbaeb :=_bdcac [0];for _ ,_aade :=range _bdcac [1:]{if _aade .Urx >=_fbaeb .Urx {_fbaeb =_aade ;};};for _ ,_fgaac :=range _bdcac {if _fgaac !=_fbaeb &&_fgaac .Urx > _fbaeb .Llx {_fbaeb =nil ;break ;};};if _fbaeb !=nil &&_dbdd (_feae .PdfRectangle ,_fbaeb .PdfRectangle ){_feae ._fdag =_fbaeb ;};};if len (_afed )> 0{_ebdge :=_afed [0];for _ ,_ecee :=range _afed [1:]{if _ecee .Llx <=_ebdge .Llx {_ebdge =_ecee ;};};for _ ,_faaef :=range _afed {if _faaef !=_ebdge &&_faaef .Llx < _ebdge .Urx {_ebdge =nil ;break ;};};if _ebdge !=nil &&_dbdd (_feae .PdfRectangle ,_ebdge .PdfRectangle ){_feae ._edcg =_ebdge ;};};};_bbbf =_dbcg .xNeighbours (_gbce );for _ ,_aedgb :=range _dbcg {_acddc :=_bbbf [_aedgb ];if len (_acddc )==0{continue ;};_efgcd ,_eadd :=_abgfd (_acddc ,_aedgb );if len (_efgcd )==0&&len (_eadd )==0{continue ;};if len (_eadd )> 0{_bbded :=_eadd [0];for _ ,_efbe :=range _eadd [1:]{if _efbe .Ury >=_bbded .Ury {_bbded =_efbe ;};};for _ ,_bcdge :=range _eadd {if _bcdge !=_bbded &&_bcdge .Ury > _bbded .Lly {_bbded =nil ;break ;};};if _bbded !=nil &&_bcbd (_aedgb .PdfRectangle ,_bbded .PdfRectangle ){_aedgb ._dafe =_bbded ;};};if len (_efgcd )> 0{_eebbe :=_efgcd [0];for _ ,_dagdb :=range _efgcd [1:]{if _dagdb .Lly <=_eebbe .Lly {_eebbe =_dagdb ;};};for _ ,_addaga :=range _efgcd {if _addaga !=_eebbe &&_addaga .Lly < _eebbe .Ury {_eebbe =nil ;break ;};};if _eebbe !=nil &&_bcbd (_aedgb .PdfRectangle ,_eebbe .PdfRectangle ){_aedgb ._gbae =_eebbe ;};};};for _ ,_gabda :=range _dbcg {if _gabda ._fdag !=nil &&_gabda ._fdag ._edcg !=_gabda {_gabda ._fdag =nil ;};if _gabda ._gbae !=nil &&_gabda ._gbae ._dafe !=_gabda {_gabda ._gbae =nil ;};if _gabda ._edcg !=nil &&_gabda ._edcg ._fdag !=_gabda {_gabda ._edcg =nil ;};if _gabda ._dafe !=nil &&_gabda ._dafe ._gbae !=_gabda {_gabda ._dafe =nil ;};};};func (_cagfg rulingList )aligned ()bool {if len (_cagfg )< 2{return false ;};_affg :=make (map[*ruling ]int );_affg [_cagfg [0]]=0;for _ ,_gggfc :=range _cagfg [1:]{_eaad :=false ;for _cbbb :=range _affg {if _gggfc .gridIntersecting (_cbbb ){_affg [_cbbb ]++;_eaad =true ;break ;};};if !_eaad {_affg [_gggfc ]=0;};};_bege :=0;for _ ,_abab :=range _affg {if _abab ==0{_bege ++;};};_aegeb :=float64 (_bege )/float64 (len (_cagfg ));_dfgc :=_aegeb <=1.0-_aacff ;if _cbee {_gf .Log .Info ("\u0061\u006c\u0069\u0067\u006e\u0065\u0064\u003d\u0025\u0074\u0020\u0075\u006em\u0061\u0074\u0063\u0068\u0065\u0064=\u0025\u002e\u0032\u0066\u003d\u0025\u0064\u002f\u0025\u0064\u0020\u0076\u0065c\u0073\u003d\u0025\u0073",_dfgc ,_aegeb ,_bege ,len (_cagfg ),_cagfg .String ());};return _dfgc ;};func (_fgef *textObject )showTextAdjusted (_dgc *_gfg .PdfObjectArray )error {_dcbf :=false ;for _ ,_dcca :=range _dgc .Elements (){switch _dcca .(type ){case *_gfg .PdfObjectFloat ,*_gfg .PdfObjectInteger :_dce ,_eeaa :=_gfg .GetNumberAsFloat (_dcca );if _eeaa !=nil {_gf .Log .Debug ("\u0045\u0052\u0052\u004fR\u003a\u0020\u0073\u0068\u006f\u0077\u0054\u0065\u0078t\u0041\u0064\u006a\u0075\u0073\u0074\u0065\u0064\u002e\u0020\u0042\u0061\u0064\u0020\u006e\u0075\u006d\u0065r\u0069\u0063\u0061\u006c\u0020a\u0072\u0067\u002e\u0020\u006f\u003d\u0025\u0073\u0020\u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_dcca ,_dgc );return _eeaa ;};_agg ,_gef :=-_dce *0.001*_fgef ._ccc ._bbac ,0.0;if _dcbf {_gef ,_agg =_agg ,_gef ;};_gbe :=_daa (_bc .Point {X :_agg ,Y :_gef });_fgef ._eeb .Concat (_gbe );case *_gfg .PdfObjectString :_ggb ,_cgbcb :=_gfg .GetStringBytes (_dcca );if !_cgbcb {_gf .Log .Trace ("s\u0068\u006f\u0077\u0054\u0065\u0078\u0074\u0041\u0064j\u0075\u0073\u0074\u0065\u0064\u003a\u0020Ba\u0064\u0020\u0073\u0074r\u0069\u006e\u0067\u0020\u0061\u0072\u0067\u002e\u0020o=\u0025\u0073 \u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_dcca ,_dgc );return _gfg .ErrTypeError ;};_fgef .renderText (_ggb );default:_gf .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0073\u0068\u006f\u0077\u0054\u0065\u0078\u0074A\u0064\u006a\u0075\u0073\u0074\u0065\u0064\u002e\u0020\u0055\u006e\u0065\u0078p\u0065\u0063\u0074\u0065\u0064\u0020\u0074\u0079\u0070\u0065\u0020\u0028%T\u0029\u0020\u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_dcca ,_dgc );return _gfg .ErrTypeError ;};};return nil ;};

// RenderMode specifies the text rendering mode (Tmode), which determines whether showing text shall cause
// glyph outlines to be  stroked, filled, used as a clipping boundary, or some combination of the three.
// Stroking, filling, and clipping shall have the same effects for a text object as they do for a path object
// (see 8.5.3, "Path-Painting Operators" and 8.5.4, "Clipping Path Operators").
type RenderMode int ;func (_eade *ruling )equals (_gbgeb *ruling )bool {return _eade ._cde ==_gbgeb ._cde &&_deeaa (_eade ._bbaca ,_gbgeb ._bbaca )&&_deeaa (_eade ._fdeee ,_gbgeb ._fdeee )&&_deeaa (_eade ._eegg ,_gbgeb ._eegg );};func (_aefaa *textTable )subdivide ()*textTable {_aefaa .logComposite ("\u0073u\u0062\u0064\u0069\u0076\u0069\u0064e");_ddfd :=_aefaa .compositeRowCorridors ();_cafgg :=_aefaa .compositeColCorridors ();if _cbba {_gf .Log .Info ("\u0073u\u0062\u0064i\u0076\u0069\u0064\u0065:\u000a\u0009\u0072o\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s=\u0025\u0073\u000a\t\u0063\u006fl\u0043\u006f\u0072\u0072\u0069\u0064o\u0072\u0073=\u0025\u0073",_bcfec (_ddfd ),_bcfec (_cafgg ));};if len (_ddfd )==0||len (_cafgg )==0{return _aefaa ;};_ebge (_ddfd );_ebge (_cafgg );if _cbba {_gf .Log .Info ("\u0073\u0075\u0062\u0064\u0069\u0076\u0069\u0064\u0065\u0020\u0066\u0069\u0078\u0065\u0064\u003a\u000a\u0009r\u006f\u0077\u0043\u006f\u0072\u0072\u0069d\u006f\u0072\u0073\u003d\u0025\u0073\u000a\u0009\u0063\u006f\u006cC\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u003d\u0025\u0073",_bcfec (_ddfd ),_bcfec (_cafgg ));};_eecf ,_dgdg :=_gfcfg (_aefaa ._dbdg ,_ddfd );_bgbdd ,_gecc :=_gfcfg (_aefaa ._cdfd ,_cafgg );_eggg :=make (map[uint64 ]*textPara ,_gecc *_dgdg );_ddgdb :=&textTable {PdfRectangle :_aefaa .PdfRectangle ,_ecef :_aefaa ._ecef ,_dbdg :_dgdg ,_cdfd :_gecc ,_ebfa :_eggg };if _cbba {_gf .Log .Info ("\u0073\u0075b\u0064\u0069\u0076\u0069\u0064\u0065\u003a\u0020\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u0020\u003d\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u0020\u0063\u0065\u006c\u006c\u0073\u003d\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u000a"+"\u0009\u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s\u003d\u0025\u0073\u000a"+"\u0009\u0063\u006f\u006c\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s\u003d\u0025\u0073\u000a"+"\u0009\u0079\u004f\u0066\u0066\u0073\u0065\u0074\u0073=\u0025\u002b\u0076\u000a"+"\u0009\u0078\u004f\u0066\u0066\u0073\u0065\u0074\u0073\u003d\u0025\u002b\u0076",_aefaa ._cdfd ,_aefaa ._dbdg ,_gecc ,_dgdg ,_bcfec (_ddfd ),_bcfec (_cafgg ),_eecf ,_bgbdd );};for _dfb :=0;_dfb < _aefaa ._dbdg ;_dfb ++{_gbgd :=_eecf [_dfb ];for _eefbb :=0;_eefbb < _aefaa ._cdfd ;_eefbb ++{_dcdf :=_bgbdd [_eefbb ];if _cbba {_cca .Printf ("\u0025\u0036\u0064\u002c %\u0032\u0064\u003a\u0020\u0078\u0030\u003d\u0025\u0064\u0020\u0079\u0030\u003d\u0025d\u000a",_eefbb ,_dfb ,_dcdf ,_gbgd );};_eccbf ,_fbbf :=_aefaa ._fcdcdd [_ffea (_eefbb ,_dfb )];if !_fbbf {continue ;};_edaa :=_eccbf .split (_ddfd [_dfb ],_cafgg [_eefbb ]);for _dfae :=0;_dfae < _edaa ._dbdg ;_dfae ++{for _aeef :=0;_aeef < _edaa ._cdfd ;_aeef ++{_dfag :=_edaa .get (_aeef ,_dfae );_ddgdb .put (_dcdf +_aeef ,_gbgd +_dfae ,_dfag );if _cbba {_cca .Printf ("\u0025\u0038\u0064\u002c\u0020\u0025\u0032\u0064\u003a\u0020\u0025\u0073\u000a",_dcdf +_aeef ,_gbgd +_dfae ,_dfag );};};};};};return _ddgdb ;};func (_edf *textPara )toCellTextMarks (_bbe *int )[]TextMark {var _bdgdc []TextMark ;for _cddc ,_aeab :=range _edf ._eefga {_acbfd :=_aeab .toTextMarks (_bbe );_ddff :=_eeaf &&_aeab .endsInHyphen ()&&_cddc !=len (_edf ._eefga )-1;if _ddff {_acbfd =_ddead (_acbfd ,_bbe );};_bdgdc =append (_bdgdc ,_acbfd ...);if !(_ddff ||_cddc ==len (_edf ._eefga )-1){_bdgdc =_fbad (_bdgdc ,_bbe ,_cdfg (_aeab ._gfdb ,_edf ._eefga [_cddc +1]._gfdb ));};};return _bdgdc ;};func (_cccc *subpath )add (_fbcg ..._bc .Point ){_cccc ._adfe =append (_cccc ._adfe ,_fbcg ...)};func (_gbed rulingList )removeDuplicates ()rulingList {if len (_gbed )==0{return nil ;};_gbed .sort ();_aafc :=rulingList {_gbed [0]};for _ ,_cadd :=range _gbed [1:]{if _cadd .equals (_aafc [len (_aafc )-1]){continue ;};_aafc =append (_aafc ,_cadd );};return _aafc ;};func (_afbf paraList )inTile (_aabf gridTile )paraList {var _fddda paraList ;for _ ,_agac :=range _afbf {if _aabf .contains (_agac .PdfRectangle ){_fddda =append (_fddda ,_agac );};};if _cbba {_cca .Printf ("\u0020 \u0020\u0069\u006e\u0054i\u006c\u0065\u003a\u0020\u0020%\u0073 \u0069n\u0073\u0069\u0064\u0065\u003d\u0025\u0064\n",_aabf ,len (_fddda ));for _bggde ,_ebcc :=range _fddda {_cca .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_bggde ,_ebcc );};_cca .Println ("");};return _fddda ;};func (_fcaf paraList )xNeighbours (_affgd float64 )map[*textPara ][]int {_ceag :=make ([]event ,2*len (_fcaf ));if _affgd ==0{for _gbbdb ,_cafea :=range _fcaf {_ceag [2*_gbbdb ]=event {_cafea .Llx ,true ,_gbbdb };_ceag [2*_gbbdb +1]=event {_cafea .Urx ,false ,_gbbdb };};}else {for _dbfe ,_ggcfe :=range _fcaf {_ceag [2*_dbfe ]=event {_ggcfe .Llx -_affgd *_ggcfe .fontsize (),true ,_dbfe };_ceag [2*_dbfe +1]=event {_ggcfe .Urx +_affgd *_ggcfe .fontsize (),false ,_dbfe };};};return _fcaf .eventNeighbours (_ceag );};type rectRuling struct{_bfdf rulingKind ;_gaeg markKind ;_cc .Color ;_ec .PdfRectangle ;};func (_aecf lineRuling )xMean ()float64 {return 0.5*(_aecf ._fcga .X +_aecf ._cegbc .X )};func (_dggdb paraList )findTextTables ()[]*textTable {var _gcdb []*textTable ;for _ ,_aaace :=range _dggdb {if _aaace .taken ()||_aaace .Width ()==0{continue ;};_abgbe :=_aaace .isAtom ();if _abgbe ==nil {continue ;};_abgbe .growTable ();if _abgbe ._cdfd *_abgbe ._dbdg < _dgag {continue ;};_abgbe .markCells ();_abgbe .log ("\u0067\u0072\u006fw\u006e");_gcdb =append (_gcdb ,_abgbe );};return _gcdb ;};func _agd (_bbb ,_aaae _ec .PdfRectangle )bool {return _bbb .Llx <=_aaae .Llx &&_aaae .Urx <=_bbb .Urx &&_bbb .Lly <=_aaae .Lly &&_aaae .Ury <=_bbb .Ury ;};func (_aafcb rulingList )blocks (_fbae ,_ecd *ruling )bool {if _fbae ._fdeee > _ecd ._eegg ||_ecd ._fdeee > _fbae ._eegg {return false ;};_ebdg :=_a .Max (_fbae ._fdeee ,_ecd ._fdeee );_dgeca :=_a .Min (_fbae ._eegg ,_ecd ._eegg );if _fbae ._bbaca > _ecd ._bbaca {_fbae ,_ecd =_ecd ,_fbae ;};for _ ,_gbgg :=range _aafcb {if _fbae ._bbaca <=_gbgg ._bbaca +_agdf &&_gbgg ._bbaca <=_ecd ._bbaca +_agdf &&_gbgg ._fdeee <=_dgeca &&_ebdg <=_gbgg ._eegg {return true ;};};return false ;};

// String returns a description of `k`.
func (_cdgb markKind )String ()string {_cdfgc ,_fafc :=_cbgbc [_cdgb ];if !_fafc {return _cca .Sprintf ("\u004e\u006f\u0074\u0020\u0061\u0020\u006d\u0061\u0072k\u003a\u0020\u0025\u0064",_cdgb );};return _cdfgc ;};

// NewFromContents creates a new extractor from contents and page resources.
func NewFromContents (contents string ,resources *_ec .PdfPageResources )(*Extractor ,error ){_ca :=&Extractor {_da :contents ,_bg :resources ,_dfdg :map[string ]fontEntry {},_ee :map[string ]textResult {}};return _ca ,nil ;};func _efda (_gdgf string )bool {for _ ,_gddf :=range _gdgf {if !_b .IsSpace (_gddf ){return false ;};};return true ;};func _eecc (_gafac map[float64 ]map[float64 ]gridTile )[]float64 {_accec :=make ([]float64 ,0,len (_gafac ));_dbfbd :=make (map[float64 ]struct{},len (_gafac ));for _ ,_bcfg :=range _gafac {for _gcfb :=range _bcfg {if _ ,_fbab :=_dbfbd [_gcfb ];_fbab {continue ;};_accec =append (_accec ,_gcfb );_dbfbd [_gcfb ]=struct{}{};};};_fb .Float64s (_accec );return _accec ;};func (_cebd *textTable )reduce ()*textTable {_bbcf :=make ([]int ,0,_cebd ._dbdg );_bdgbc :=make ([]int ,0,_cebd ._cdfd );for _cadgc :=0;_cadgc < _cebd ._dbdg ;_cadgc ++{if !_cebd .emptyRow (_cadgc ){_bbcf =append (_bbcf ,_cadgc );};};for _ceaee :=0;_ceaee < _cebd ._cdfd ;_ceaee ++{if !_cebd .emptyColumn (_ceaee ){_bdgbc =append (_bdgbc ,_ceaee );};};if len (_bbcf )==_cebd ._dbdg &&len (_bdgbc )==_cebd ._cdfd {return _cebd ;};_geggb :=textTable {_ecef :_cebd ._ecef ,_cdfd :len (_bdgbc ),_dbdg :len (_bbcf ),_ebfa :make (map[uint64 ]*textPara ,len (_bdgbc )*len (_bbcf ))};if _cbba {_gf .Log .Info ("\u0072\u0065\u0064\u0075ce\u003a\u0020\u0025\u0064\u0078\u0025\u0064\u0020\u002d\u003e\u0020\u0025\u0064\u0078%\u0064",_cebd ._cdfd ,_cebd ._dbdg ,len (_bdgbc ),len (_bbcf ));_gf .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0043\u006f\u006c\u0073\u003a\u0020\u0025\u002b\u0076",_bdgbc );_gf .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0052\u006f\u0077\u0073\u003a\u0020\u0025\u002b\u0076",_bbcf );};for _bdcag ,_gefc :=range _bbcf {for _ddeb ,_ffdde :=range _bdgbc {_dbeg :=_cebd .get (_ffdde ,_gefc );if _dbeg ==nil {continue ;};if _cbba {_cca .Printf ("\u0020 \u0025\u0032\u0064\u002c \u0025\u0032\u0064\u0020\u0028%\u0032d\u002c \u0025\u0032\u0064\u0029\u0020\u0025\u0071\n",_ddeb ,_bdcag ,_ffdde ,_gefc ,_efab (_dbeg .text (),50));};_geggb .put (_ddeb ,_bdcag ,_dbeg );};};return &_geggb ;};func _gfcfg (_afcdd int ,_fcfa map[int ][]float64 )([]int ,int ){_bfce :=make ([]int ,_afcdd );_abee :=0;for _gaced :=0;_gaced < _afcdd ;_gaced ++{_bfce [_gaced ]=_abee ;_abee +=len (_fcfa [_gaced ])+1;};return _bfce ,_abee ;};type paraList []*textPara ;

// ImageExtractOptions contains options for controlling image extraction from
// PDF pages.
type ImageExtractOptions struct{IncludeInlineStencilMasks bool ;};func (_adbg *shapesState )closePath (){if _adbg ._gcad {_adbg ._edgcf =append (_adbg ._edgcf ,_adgg (_adbg ._bfa ));_adbg ._gcad =false ;}else if len (_adbg ._edgcf )==0{if _ageg {_gf .Log .Debug ("\u0063\u006c\u006f\u0073eP\u0061\u0074\u0068\u0020\u0077\u0069\u0074\u0068\u0020\u006e\u006f\u0020\u0070\u0061t\u0068");};_adbg ._gcad =false ;return ;};_adbg ._edgcf [len (_adbg ._edgcf )-1].close ();if _ageg {_gf .Log .Info ("\u0063\u006c\u006f\u0073\u0065\u0050\u0061\u0074\u0068\u003a\u0020\u0025\u0073",_adbg );};};func (_cfa *PageText )computeViews (){var _ggag rulingList ;if _efgc {_ffb :=_beab (_cfa ._dfa );_ggag =append (_ggag ,_ffb ...);};if _afee {_bbg :=_gbfaf (_cfa ._gcc );_ggag =append (_ggag ,_bbg ...);};_ggag ,_bcbg :=_ggag .toTilings ();var _effe paraList ;_efgd :=len (_cfa ._ffdb );for _fee :=0;_fee < 360&&_efgd > 0;_fee +=90{_cec :=make ([]*textMark ,0,len (_cfa ._ffdb )-_efgd );for _ ,_bfec :=range _cfa ._ffdb {if _bfec ._gecg ==_fee {_cec =append (_cec ,_bfec );};};if len (_cec )> 0{_cbg :=_agbc (_cec ,_cfa ._fcg ,_ggag ,_bcbg );_effe =append (_effe ,_cbg ...);_efgd -=len (_cec );};};_fgc :=new (_e .Buffer );_effe .writeText (_fgc );_cfa ._bdbg =_fgc .String ();_cfa ._ffae =_effe .toTextMarks ();_cfa ._eaeb =_effe .tables ();if _cbba {_gf .Log .Info ("\u0063\u006f\u006dpu\u0074\u0065\u0056\u0069\u0065\u0077\u0073\u003a\u0020\u0074\u0061\u0062\u006c\u0065\u0073\u003d\u0025\u0064",len (_cfa ._eaeb ));};};func (_adbe paraList )toTextMarks ()[]TextMark {_dfaa :=0;var _gaea []TextMark ;for _afeb ,_cgd :=range _adbe {if _cgd ._beae {continue ;};_gdaf :=_cgd .toTextMarks (&_dfaa );_gaea =append (_gaea ,_gdaf ...);if _afeb !=len (_adbe )-1{if _dfed (_cgd ,_adbe [_afeb +1]){_gaea =_fbad (_gaea ,&_dfaa ,"\u0020");}else {_gaea =_fbad (_gaea ,&_dfaa ,"\u000a");_gaea =_fbad (_gaea ,&_dfaa ,"\u000a");};};};_gaea =_fbad (_gaea ,&_dfaa ,"\u000a");_gaea =_fbad (_gaea ,&_dfaa ,"\u000a");return _gaea ;};var _dabe =_df .MustCompile ("\u005e\u005c\u0073\u002a\u0028\u005c\u0064\u002b\u005c\u002e\u003f|\u005b\u0049\u0069\u0076\u005d\u002b\u0029\u005c\u0073\u002a\\\u0029\u003f\u0024");

// Append appends `mark` to the mark array.
func (_gafa *TextMarkArray )Append (mark TextMark ){_gafa ._faad =append (_gafa ._faad ,mark )};func (_aedg *textTable )newTablePara ()*textPara {_bebe :=_aedg .computeBbox ();_cbbf :=&textPara {PdfRectangle :_bebe ,_abffd :_bebe ,_addfe :_aedg };if _cbba {_gf .Log .Info ("\u006e\u0065w\u0054\u0061\u0062l\u0065\u0050\u0061\u0072\u0061\u003a\u0020\u0025\u0073",_cbbf );};return _cbbf ;};func _bcfec (_dfba map[int ][]float64 )string {_eebbb :=_baag (_dfba );_efaag :=make ([]string ,len (_dfba ));for _fgefg ,_aggdb :=range _eebbb {_efaag [_fgefg ]=_cca .Sprintf ("\u0025\u0064\u003a\u0020\u0025\u002e\u0032\u0066",_aggdb ,_dfba [_aggdb ]);};return _cca .Sprintf ("\u007b\u0025\u0073\u007d",_cb .Join (_efaag ,"\u002c\u0020"));};func (_fbfc *textTable )log (_ffddeb string ){if !_cbba {return ;};_gf .Log .Info ("~\u007e\u007e\u0020\u0025\u0073\u003a \u0025\u0064\u0020\u0078\u0020\u0025d\u0020\u0067\u0072\u0069\u0064\u003d\u0025t\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0025\u0036\u002e2\u0066",_ffddeb ,_fbfc ._cdfd ,_fbfc ._dbdg ,_fbfc ._ecef ,_fbfc .PdfRectangle );for _cdcde :=0;_cdcde < _fbfc ._dbdg ;_cdcde ++{for _bceda :=0;_bceda < _fbfc ._cdfd ;_bceda ++{_adbfe :=_fbfc .get (_bceda ,_cdcde );if _adbfe ==nil {continue ;};_cca .Printf ("%\u0034\u0064\u0020\u00252d\u003a \u0025\u0036\u002e\u0032\u0066 \u0025\u0071\u0020\u0025\u0064\u000a",_bceda ,_cdcde ,_adbfe .PdfRectangle ,_efab (_adbfe .text (),50),_f .RuneCountInString (_adbfe .text ()));};};};func (_aedc *textLine )bbox ()_ec .PdfRectangle {return _aedc .PdfRectangle };

// Elements returns the TextMarks in `ma`.
func (_gda *TextMarkArray )Elements ()[]TextMark {return _gda ._faad };func (_eebff gridTile )contains (_fbfg _ec .PdfRectangle )bool {if _eebff .numBorders ()< 3{return false ;};if _eebff ._faeg &&_fbfg .Llx < _eebff .Llx -_ggc {return false ;};if _eebff ._ddabd &&_fbfg .Urx > _eebff .Urx +_ggc {return false ;};if _eebff ._ceee &&_fbfg .Lly < _eebff .Lly -_ggc {return false ;};if _eebff ._fgfed &&_fbfg .Ury > _eebff .Ury +_ggc {return false ;};return true ;};

// Text returns the extracted page text.
func (_ecga PageText )Text ()string {return _ecga ._bdbg };func _dffba (_daceg _ec .PdfRectangle )rulingKind {_ecgb :=_daceg .Width ();_bbadg :=_daceg .Height ();if _ecgb > _bbadg {if _ecgb >=_bdfg {return _dfcbe ;};}else {if _bbadg >=_bdfg {return _adfb ;};};return _afbda ;};var _cbgbc =map[markKind ]string {_bbba :"\u0073\u0074\u0072\u006f\u006b\u0065",_gdfgd :"\u0066\u0069\u006c\u006c",_dcee :"\u0061u\u0067\u006d\u0065\u006e\u0074"};

// ExtractTextWithStats works like ExtractText but returns the number of characters in the output
// (`numChars`) and the number of characters that were not decoded (`numMisses`).
func (_fgea *Extractor )ExtractTextWithStats ()(_def string ,_fcd int ,_bcc int ,_aeg error ){_ffg ,_fcd ,_bcc ,_aeg :=_fgea .ExtractPageText ();if _aeg !=nil {return "",_fcd ,_bcc ,_aeg ;};return _ffg .Text (),_fcd ,_bcc ,nil ;};func _bcbd (_addc ,_dbae _ec .PdfRectangle )bool {return _dbae .Llx <=_addc .Urx &&_addc .Llx <=_dbae .Urx ;};func (_abf *textObject )setTextMatrix (_gfa []float64 ){if len (_gfa )!=6{_gf .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u006c\u0065\u006e\u0028\u0066\u0029\u0020\u0021\u003d\u0020\u0036\u0020\u0028\u0025\u0064\u0029",len (_gfa ));return ;};_cabe ,_eddc ,_afe ,_gfd ,_eff ,_bfbe :=_gfa [0],_gfa [1],_gfa [2],_gfa [3],_gfa [4],_gfa [5];_abf ._eeb =_bc .NewMatrix (_cabe ,_eddc ,_afe ,_gfd ,_eff ,_bfbe );_abf ._baa =_abf ._eeb ;};func _efe (_degg float64 ,_bdgdg int )int {if _bdgdg ==0{_bdgdg =1;};_ebac :=float64 (_bdgdg );return int (_a .Round (_degg /_ebac )*_ebac );};func (_dgdag rulingList )findPrimSec (_fced ,_cafgf float64 )*ruling {for _ ,_ecaeg :=range _dgdag {if _efea (_ecaeg ._bbaca -_fced )&&_ecaeg ._fdeee -_fcca <=_cafgf &&_cafgf <=_ecaeg ._eegg +_fcca {return _ecaeg ;};};return nil ;};func (_cabc *textLine )pullWord (_abgfg *wordBag ,_bgdd *textWord ,_ebab int ){_cabc .appendWord (_bgdd );_abgfg .removeWord (_bgdd ,_ebab );};func _ffea (_debf ,_ecaec int )uint64 {return uint64 (_debf )*0x1000000+uint64 (_ecaec )};type gridTiling struct{_ec .PdfRectangle ;_feee []float64 ;_ddbg []float64 ;_fcdbf map[float64 ]map[float64 ]gridTile ;};func _agaf (_dbfa []int )[]int {_gdcg :=make ([]int ,len (_dbfa ));for _abge ,_ccaf :=range _dbfa {_gdcg [len (_dbfa )-1-_abge ]=_ccaf ;};return _gdcg ;};func (_abbf *wordBag )maxDepth ()float64 {return _abbf ._aadb -_abbf .Lly };

// String returns a string descibing `i`.
func (_eeggb gridTile )String ()string {_afgf :=func (_eggab bool ,_bgbe string )string {if _eggab {return _bgbe ;};return "\u005f";};return _cca .Sprintf ("\u00256\u002e2\u0066\u0020\u0025\u0031\u0073%\u0031\u0073%\u0031\u0073\u0025\u0031\u0073",_eeggb .PdfRectangle ,_afgf (_eeggb ._faeg ,"\u004c"),_afgf (_eeggb ._ddabd ,"\u0052"),_afgf (_eeggb ._ceee ,"\u0042"),_afgf (_eeggb ._fgfed ,"\u0054"));};func (_adda paraList )readBefore (_cfgc []int ,_caad ,_gbge int )bool {_ecfag ,_gbfa :=_adda [_caad ],_adda [_gbge ];if _dffd (_ecfag ,_gbfa )&&_ecfag .Lly > _gbfa .Lly {return true ;};if !(_ecfag ._abffd .Urx < _gbfa ._abffd .Llx ){return false ;};_gfgbc ,_bdbf :=_ecfag .Lly ,_gbfa .Lly ;if _gfgbc > _bdbf {_bdbf ,_gfgbc =_gfgbc ,_bdbf ;};_caaf :=_a .Max (_ecfag ._abffd .Llx ,_gbfa ._abffd .Llx );_becde :=_a .Min (_ecfag ._abffd .Urx ,_gbfa ._abffd .Urx );_cdfe :=_adda .llyRange (_cfgc ,_gfgbc ,_bdbf );for _ ,_fcef :=range _cdfe {if _fcef ==_caad ||_fcef ==_gbge {continue ;};_gafgg :=_adda [_fcef ];if _gafgg ._abffd .Llx <=_becde &&_caaf <=_gafgg ._abffd .Urx {return false ;};};return true ;};func (_addag paraList )computeEBBoxes (){if _acbc {_gf .Log .Info ("\u0063o\u006dp\u0075\u0074\u0065\u0045\u0042\u0042\u006f\u0078\u0065\u0073\u003a");};for _ ,_bcfed :=range _addag {_bcfed ._abffd =_bcfed .PdfRectangle ;};_dacd :=_addag .yNeighbours (0);for _dagc ,_gdbf :=range _addag {_adbeb :=_gdbf ._abffd ;_acab ,_geca :=-1.0e9,+1.0e9;for _ ,_agbf :=range _dacd [_gdbf ]{_affaf :=_addag [_agbf ]._abffd ;if _affaf .Urx < _adbeb .Llx {_acab =_a .Max (_acab ,_affaf .Urx );}else if _adbeb .Urx < _affaf .Llx {_geca =_a .Min (_geca ,_affaf .Llx );};};for _fcba ,_gacdb :=range _addag {_feggf :=_gacdb ._abffd ;if _dagc ==_fcba ||_feggf .Ury > _adbeb .Lly {continue ;};if _acab <=_feggf .Llx &&_feggf .Llx < _adbeb .Llx {_adbeb .Llx =_feggf .Llx ;}else if _feggf .Urx <=_geca &&_adbeb .Urx < _feggf .Urx {_adbeb .Urx =_feggf .Urx ;};};if _acbc {_cca .Printf ("\u0025\u0034\u0064\u003a %\u0036\u002e\u0032\u0066\u2192\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0071\u000a",_dagc ,_gdbf ._abffd ,_adbeb ,_efab (_gdbf .text (),50));};_gdbf ._abffd =_adbeb ;};if _ebae {for _ ,_ged :=range _addag {_ged .PdfRectangle =_ged ._abffd ;};};};func (_fff *textObject )getCurrentFont ()*_ec .PdfFont {var _gebd *_ec .PdfFont ;if !_fff ._ddcgc .empty (){_gebd =_fff ._ddcgc .top ()._ffc ;};if _gebd ==nil {_gf .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u004e\u006f\u0020\u0066\u006f\u006e\u0074\u0020\u0064\u0065\u0066\u0069\u006e\u0065\u0064\u002e\u0020U\u0073\u0069\u006e\u0067\u0020d\u0065\u0066a\u0075\u006c\u0074\u002e");return _ec .DefaultFont ();};return _gebd ;};func _ddddb (_baebc []*textWord ,_bcab *textWord )[]*textWord {for _agfdf ,_dece :=range _baebc {if _dece ==_bcab {return _ddbfd (_baebc ,_agfdf );};};_gf .Log .Error ("\u0072\u0065\u006d\u006f\u0076e\u0057\u006f\u0072\u0064\u003a\u0020\u0077\u006f\u0072\u0064\u0073\u0020\u0064o\u0065\u0073\u006e\u0027\u0074\u0020\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0020\u0077\u006f\u0072\u0064\u003d\u0025\u0073",_bcab );return nil ;};

// Tables returns the tables extracted from the page.
func (_bedbb PageText )Tables ()[]TextTable {if _cbba {_gf .Log .Info ("\u0054\u0061\u0062\u006c\u0065\u0073\u003a\u0020\u0025\u0064",len (_bedbb ._eaeb ));};return _bedbb ._eaeb ;};func (_cdef *textPara )taken ()bool {return _cdef ==nil ||_cdef ._ecgg };func _debb (_gcba ,_aedf _ec .PdfRectangle )_ec .PdfRectangle {return _ec .PdfRectangle {Llx :_a .Min (_gcba .Llx ,_aedf .Llx ),Lly :_a .Min (_gcba .Lly ,_aedf .Lly ),Urx :_a .Max (_gcba .Urx ,_aedf .Urx ),Ury :_a .Max (_gcba .Ury ,_aedf .Ury )};};

// TextMarkArray is a collection of TextMarks.
type TextMarkArray struct{_faad []TextMark };var _aadg =map[rulingKind ]string {_afbda :"\u006e\u006f\u006e\u0065",_dfcbe :"\u0068\u006f\u0072\u0069\u007a\u006f\u006e\u0074\u0061\u006c",_adfb :"\u0076\u0065\u0072\u0074\u0069\u0063\u0061\u006c"};func (_bafd paraList )topoOrder ()[]int {if _bgdf {_gf .Log .Info ("\u0074\u006f\u0070\u006f\u004f\u0072\u0064\u0065\u0072\u003a");};_edda :=len (_bafd );_dfffb :=make ([]bool ,_edda );_bdfcc :=make ([]int ,0,_edda );_cgee :=_bafd .llyOrdering ();var _beaa func (_dada int );_beaa =func (_bdefb int ){_dfffb [_bdefb ]=true ;for _gecda :=0;_gecda < _edda ;_gecda ++{if !_dfffb [_gecda ]{if _bafd .readBefore (_cgee ,_bdefb ,_gecda ){_beaa (_gecda );};};};_bdfcc =append (_bdfcc ,_bdefb );};for _ggaa :=0;_ggaa < _edda ;_ggaa ++{if !_dfffb [_ggaa ]{_beaa (_ggaa );};};return _agaf (_bdfcc );};func (_adafc *textTable )getRight ()paraList {_cgcd :=make (paraList ,_adafc ._dbdg );for _ggdd :=0;_ggdd < _adafc ._dbdg ;_ggdd ++{_fege :=_adafc .get (_adafc ._cdfd -1,_ggdd )._edcg ;if _fege ==nil ||_fege ._ecgg {return nil ;};_cgcd [_ggdd ]=_fege ;};for _adggf :=0;_adggf < _adafc ._dbdg -1;_adggf ++{if _cgcd [_adggf ]._dafe !=_cgcd [_adggf +1]{return nil ;};};return _cgcd ;};func (_gee *textObject )setFont (_gcg string ,_bda float64 )error {if _gee ==nil {return nil ;};_gee ._ccc ._bbac =_bda ;_ccdb ,_aeb :=_gee .getFont (_gcg );if _aeb !=nil {return _aeb ;};_gee ._ccc ._ffc =_ccdb ;if _gee ._ddcgc .empty (){_gee ._ddcgc .push (_gee ._ccc );}else {_gee ._ddcgc .top ()._ffc =_gee ._ccc ._ffc ;};return nil ;};func _dgbb (_cbdg ,_fcag _bc .Point ,_ecggf _cc .Color )(*ruling ,bool ){_cccd :=lineRuling {_fcga :_cbdg ,_cegbc :_fcag ,_aded :_gbef (_cbdg ,_fcag ),Color :_ecggf };if _cccd ._aded ==_afbda {return nil ,false ;};return _cccd .asRuling ();};func _aab (_gbgc string )string {_eabg :=[]rune (_gbgc );return string (_eabg [:len (_eabg )-1])};func _baebb (_ebdd ,_acea _bc .Point )bool {return _ebdd .X ==_acea .X &&_ebdd .Y ==_acea .Y };func _efea (_dgbga float64 )bool {return _a .Abs (_dgbga )< _adgb };func (_gfcdc rulingList )splitSec ()[]rulingList {_fb .Slice (_gfcdc ,func (_ebbc ,_cffc int )bool {_ffaeeb ,_cdec :=_gfcdc [_ebbc ],_gfcdc [_cffc ];if _ffaeeb ._fdeee !=_cdec ._fdeee {return _ffaeeb ._fdeee < _cdec ._fdeee ;};return _ffaeeb ._eegg < _cdec ._eegg ;});_dafea :=make (map[*ruling ]struct{},len (_gfcdc ));_adfa :=func (_deba *ruling )rulingList {_ebdab :=rulingList {_deba };_dafea [_deba ]=struct{}{};for _ ,_acgf :=range _gfcdc {if _ ,_cafa :=_dafea [_acgf ];_cafa {continue ;};for _ ,_fecef :=range _ebdab {if _acgf .alignsSec (_fecef ){_ebdab =append (_ebdab ,_acgf );_dafea [_acgf ]=struct{}{};break ;};};};return _ebdab ;};_cafc :=[]rulingList {_adfa (_gfcdc [0])};for _ ,_badc :=range _gfcdc [1:]{if _ ,_fbbg :=_dafea [_badc ];_fbbg {continue ;};_cafc =append (_cafc ,_adfa (_badc ));};return _cafc ;};func (_afbe *textObject )setWordSpacing (_cabg float64 ){if _afbe ==nil {return ;};_afbe ._ccc ._aba =_cabg ;};func (_cedc *textPara )toTextMarks (_ffcd *int )[]TextMark {if _cedc ._addfe ==nil {return _cedc .toCellTextMarks (_ffcd );};var _eecgb []TextMark ;for _dfcga :=0;_dfcga < _cedc ._addfe ._dbdg ;_dfcga ++{for _eddge :=0;_eddge < _cedc ._addfe ._cdfd ;_eddge ++{_dfgeg :=_cedc ._addfe .get (_eddge ,_dfcga );if _dfgeg ==nil {_eecgb =_fbad (_eecgb ,_ffcd ,"\u0009");}else {_afad :=_dfgeg .toCellTextMarks (_ffcd );_eecgb =append (_eecgb ,_afad ...);};_eecgb =_fbad (_eecgb ,_ffcd ,"\u0020");};if _dfcga < _cedc ._addfe ._dbdg -1{_eecgb =_fbad (_eecgb ,_ffcd ,"\u000a");};};return _eecgb ;};func (_cfae *wordBag )scanBand (_egag string ,_bggg *wordBag ,_dga func (_dcgd *wordBag ,_fedf *textWord )bool ,_baf ,_gab ,_fggb float64 ,_eeaac ,_dfaf bool )int {_fcdb :=_bggg ._gdff ;var _eeab map[int ]map[*textWord ]struct{};if !_eeaac {_eeab =_cfae .makeRemovals ();};_ffcc :=_bgdea *_fcdb ;_feb :=0;for _ ,_begf :=range _cfae .depthBand (_baf -_ffcc ,_gab +_ffcc ){if len (_cfae ._gcef [_begf ])==0{continue ;};for _ ,_gdbaf :=range _cfae ._gcef [_begf ]{if !(_baf -_ffcc <=_gdbaf ._dedeg &&_gdbaf ._dedeg <=_gab +_ffcc ){continue ;};if !_dga (_bggg ,_gdbaf ){continue ;};_ebc :=2.0*_a .Abs (_gdbaf ._fdbea -_bggg ._gdff )/(_gdbaf ._fdbea +_bggg ._gdff );_agfce :=_a .Max (_gdbaf ._fdbea /_bggg ._gdff ,_bggg ._gdff /_gdbaf ._fdbea );_dfcfe :=_a .Min (_ebc ,_agfce );if _fggb > 0&&_dfcfe > _fggb {continue ;};if _bggg .blocked (_gdbaf ){continue ;};if !_eeaac {_bggg .pullWord (_gdbaf ,_begf ,_eeab );};_feb ++;if !_dfaf {if _gdbaf ._dedeg < _baf {_baf =_gdbaf ._dedeg ;};if _gdbaf ._dedeg > _gab {_gab =_gdbaf ._dedeg ;};};if _eeaac {break ;};};};if !_eeaac {_cfae .applyRemovals (_eeab );};return _feb ;};func (_bgdbe *textTable )bbox ()_ec .PdfRectangle {return _bgdbe .PdfRectangle };func (_bdag *shapesState )establishSubpath ()*subpath {_dcga ,_ecfg :=_bdag .lastpointEstablished ();if !_ecfg {_bdag ._edgcf =append (_bdag ._edgcf ,_adgg (_dcga ));};if len (_bdag ._edgcf )==0{return nil ;};_bdag ._gcad =false ;return _bdag ._edgcf [len (_bdag ._edgcf )-1];};func _dfed (_debc ,_geeda *textPara )bool {if _debc ._beae ||_geeda ._beae {return true ;};return _efea (_debc .depth ()-_geeda .depth ());};type intSet map[int ]struct{};func (_acgc *textWord )appendMark (_bbgaa *textMark ,_gbcb _ec .PdfRectangle ){_acgc ._gceab =append (_acgc ._gceab ,_bbgaa );_acgc .PdfRectangle =_debb (_acgc .PdfRectangle ,_bbgaa .PdfRectangle );if _bbgaa ._gdce > _acgc ._fdbea {_acgc ._fdbea =_bbgaa ._gdce ;};_acgc ._dedeg =_gbcb .Ury -_acgc .PdfRectangle .Lly ;};func (_acce lineRuling )yMean ()float64 {return 0.5*(_acce ._fcga .Y +_acce ._cegbc .Y )};func _ggcf (_dabg string )bool {if _f .RuneCountInString (_dabg )< _gggf {return false ;};_ddfb ,_edcc :=_f .DecodeLastRuneInString (_dabg );if _edcc <=0||!_b .Is (_b .Hyphen ,_ddfb ){return false ;};_ddfb ,_edcc =_f .DecodeLastRuneInString (_dabg [:len (_dabg )-_edcc ]);return _edcc > 0&&!_b .IsSpace (_ddfb );};func (_fcbd *stateStack )push (_aeff *textState ){_bcb :=*_aeff ;*_fcbd =append (*_fcbd ,&_bcb )};func _beab (_aggcb []pathSection )rulingList {_bbbbf (_aggcb );if _cbee {_gf .Log .Info ("\u006d\u0061k\u0065\u0053\u0074\u0072\u006f\u006b\u0065\u0052\u0075\u006c\u0069\u006e\u0067\u0073\u003a\u0020\u0025\u0064\u0020\u0073\u0074\u0072ok\u0065\u0073",len (_aggcb ));};var _ebga rulingList ;for _ ,_gfagc :=range _aggcb {for _ ,_dbee :=range _gfagc ._gfac {if len (_dbee ._adfe )< 2{continue ;};_ccaag :=_dbee ._adfe [0];for _ ,_fffa :=range _dbee ._adfe [1:]{if _bbcg ,_geee :=_dgbb (_ccaag ,_fffa ,_gfagc .Color );_geee {_ebga =append (_ebga ,_bbcg );};_ccaag =_fffa ;};};};if _cbee {_gf .Log .Info ("m\u0061\u006b\u0065\u0053tr\u006fk\u0065\u0052\u0075\u006c\u0069n\u0067\u0073\u003a\u0020\u0025\u0073",_ebga );};return _ebga ;};func _ecab (_defg ,_dgbc bounded )float64 {_egae :=_deac (_defg ,_dgbc );if !_efea (_egae ){return _egae ;};return _agee (_defg ,_dgbc );};type compositeCell struct{_ec .PdfRectangle ;paraList ;};const (_afbda rulingKind =iota ;_dfcbe ;_adfb ;);

// String returns a description of `t`.
func (_dbdf *textTable )String ()string {return _cca .Sprintf ("\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u0020\u0025\u0074",_dbdf ._cdfd ,_dbdf ._dbdg ,_dbdf ._ecef );};func (_gegd rectRuling )checkWidth (_fefa ,_ebbff float64 )(float64 ,bool ){_aebb :=_ebbff -_fefa ;_dbfd :=_aebb <=_agdf ;return _aebb ,_dbfd ;};func (_agbfb compositeCell )split (_afefb ,_ccgc []float64 )*textTable {_befa :=len (_afefb )+1;_bbde :=len (_ccgc )+1;if _cbba {_gf .Log .Info ("\u0063\u006f\u006d\u0070\u006f\u0073\u0069t\u0065\u0043\u0065l\u006c\u002e\u0073\u0070l\u0069\u0074\u003a\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u000a\u0009\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u003d\u0025\u0073\u000a"+"\u0009\u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073=\u0025\u0036\u002e\u0032\u0066\u000a\t\u0063\u006f\u006c\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u003d%\u0036\u002e\u0032\u0066",_bbde ,_befa ,_agbfb ,_afefb ,_ccgc );_cca .Printf ("\u0020\u0020\u0020\u0020\u0025\u0064\u0020\u0070\u0061\u0072\u0061\u0073\u000a",len (_agbfb .paraList ));for _dbfae ,_cbbe :=range _agbfb .paraList {_cca .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_dbfae ,_cbbe .String ());};_cca .Printf ("\u0020\u0020\u0020\u0020\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u000a",len (_agbfb .lines ()));for _gfbada ,_daga :=range _agbfb .lines (){_cca .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_gfbada ,_daga );};};_afefb =_gedb (_afefb ,_agbfb .Ury ,_agbfb .Lly );_ccgc =_gedb (_ccgc ,_agbfb .Llx ,_agbfb .Urx );_dceb :=make (map[uint64 ]*textPara ,_bbde *_befa );_dedc :=textTable {_cdfd :_bbde ,_dbdg :_befa ,_ebfa :_dceb };_effg :=_agbfb .paraList ;_fb .Slice (_effg ,func (_eadg ,_dgbcf int )bool {_ddce ,_fcdcd :=_effg [_eadg ],_effg [_dgbcf ];_eggf ,_eege :=_ddce .Lly ,_fcdcd .Lly ;if _eggf !=_eege {return _eggf < _eege ;};return _ddce .Llx < _fcdcd .Llx ;});_bbc :=make (map[uint64 ]_ec .PdfRectangle ,_bbde *_befa );for _befeb ,_gdcb :=range _afefb [1:]{_egbgb :=_afefb [_befeb ];for _debe ,_afeba :=range _ccgc [1:]{_ddcaa :=_ccgc [_debe ];_bbc [_ffea (_debe ,_befeb )]=_ec .PdfRectangle {Llx :_ddcaa ,Urx :_afeba ,Lly :_gdcb ,Ury :_egbgb };};};if _cbba {_gf .Log .Info ("\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u0043\u0065l\u006c\u002e\u0073\u0070\u006c\u0069\u0074\u003a\u0020\u0072e\u0063\u0074\u0073");_cca .Printf ("\u0020\u0020\u0020\u0020");for _gggff :=0;_gggff < _bbde ;_gggff ++{_cca .Printf ("\u0025\u0033\u0030\u0064\u002c\u0020",_gggff );};_cca .Println ();for _eggb :=0;_eggb < _befa ;_eggb ++{_cca .Printf ("\u0020\u0020\u0025\u0032\u0064\u003a",_eggb );for _dfdd :=0;_dfdd < _bbde ;_dfdd ++{_cca .Printf ("\u00256\u002e\u0032\u0066\u002c\u0020",_bbc [_ffea (_dfdd ,_eggb )]);};_cca .Println ();};};_gcee :=func (_cggf *textLine )(int ,int ){for _bfbge :=0;_bfbge < _befa ;_bfbge ++{for _dgbg :=0;_dgbg < _bbde ;_dgbg ++{if _agd (_bbc [_ffea (_dgbg ,_bfbge )],_cggf .PdfRectangle ){return _dgbg ,_bfbge ;};};};return -1,-1;};_acgaf :=make (map[uint64 ][]*textLine ,_bbde *_befa );for _ ,_acbde :=range _effg .lines (){_geda ,_agbbf :=_gcee (_acbde );if _geda < 0{continue ;};_acgaf [_ffea (_geda ,_agbbf )]=append (_acgaf [_ffea (_geda ,_agbbf )],_acbde );};for _cbfc :=0;_cbfc < len (_afefb )-1;_cbfc ++{_faef :=_afefb [_cbfc ];_gfec :=_afefb [_cbfc +1];for _agea :=0;_agea < len (_ccgc )-1;_agea ++{_eaba :=_ccgc [_agea ];_face :=_ccgc [_agea +1];_fgdg :=_ec .PdfRectangle {Llx :_eaba ,Urx :_face ,Lly :_gfec ,Ury :_faef };_fdbca :=_acgaf [_ffea (_agea ,_cbfc )];if len (_fdbca )==0{continue ;};_defd :=_geaf (_fgdg ,_fdbca );_dedc .put (_agea ,_cbfc ,_defd );};};return &_dedc ;};func (_agaed rulingList )sort (){_fb .Slice (_agaed ,_agaed .comp )};func (_feff *textTable )growTable (){_ffff :=func (_gbee paraList ){_feff ._dbdg ++;for _ebfac :=0;_ebfac < _feff ._cdfd ;_ebfac ++{_bcfce :=_gbee [_ebfac ];_feff .put (_ebfac ,_feff ._dbdg -1,_bcfce );};};_egfb :=func (_gfafd paraList ){_feff ._cdfd ++;for _dbfce :=0;_dbfce < _feff ._dbdg ;_dbfce ++{_aecec :=_gfafd [_dbfce ];_feff .put (_feff ._cdfd -1,_dbfce ,_aecec );};};if _baac {_feff .log ("\u0067r\u006f\u0077\u0054\u0061\u0062\u006ce");};for _cacab :=0;;_cacab ++{_ffcg :=false ;_gabad :=_feff .getDown ();_gdcd :=_feff .getRight ();if _baac {_cca .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_cacab ,_feff );_cca .Printf ("\u0020\u0020 \u0020\u0020\u0020 \u0020\u0064\u006f\u0077\u006e\u003d\u0025\u0073\u000a",_gabad );_cca .Printf ("\u0020\u0020 \u0020\u0020\u0020 \u0072\u0069\u0067\u0068\u0074\u003d\u0025\u0073\u000a",_gdcd );};if _gabad !=nil &&_gdcd !=nil {_bbbb :=_gabad [len (_gabad )-1];if _bbbb !=nil &&!_bbbb ._ecgg &&_bbbb ==_gdcd [len (_gdcd )-1]{_ffff (_gabad );if _gdcd =_feff .getRight ();_gdcd !=nil {_egfb (_gdcd );_feff .put (_feff ._cdfd -1,_feff ._dbdg -1,_bbbb );};_ffcg =true ;};};if !_ffcg &&_gabad !=nil {_ffff (_gabad );_ffcg =true ;};if !_ffcg &&_gdcd !=nil {_egfb (_gdcd );_ffcg =true ;};if !_ffcg {break ;};};};func _fede (_eacb ,_fdee _ec .PdfRectangle )bool {return _bcbd (_eacb ,_fdee )&&_dbdd (_eacb ,_fdee )};func _fcda (_fgdd []rulingList )(rulingList ,rulingList ){var _ebbg rulingList ;for _ ,_dffg :=range _fgdd {_ebbg =append (_ebbg ,_dffg ...);};return _ebbg .vertsHorzs ();};type gridTile struct{_ec .PdfRectangle ;_fgfed ,_faeg ,_ceee ,_ddabd bool ;};func _dbdd (_abgf ,_bbag _ec .PdfRectangle )bool {return _abgf .Lly <=_bbag .Ury &&_bbag .Lly <=_abgf .Ury ;};func _deeaa (_fgaa ,_gddc float64 )bool {return _a .Abs (_fgaa -_gddc )<=_fcca };type shapesState struct{_caab _bc .Matrix ;_dabb _bc .Matrix ;_edgcf []*subpath ;_gcad bool ;_bfa _bc .Point ;_gefd *textObject ;};func _cega (_gbcf []_gfg .PdfObject )(_dcgf ,_daea float64 ,_ddefe error ){if len (_gbcf )!=2{return 0,0,_cca .Errorf ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0070\u0061\u0072\u0061\u006d\u0073\u003a \u0025\u0064",len (_gbcf ));};_fbfgg ,_ddefe :=_gfg .GetNumbersAsFloat (_gbcf );if _ddefe !=nil {return 0,0,_ddefe ;};return _fbfgg [0],_fbfgg [1],nil ;};func _eece (_bdcf []*textWord ,_ebefe float64 ,_ccb ,_adcb rulingList )*wordBag {_eecec :=_agfc (_bdcf [0],_ebefe ,_ccb ,_adcb );for _ ,_gdfc :=range _bdcf [1:]{_ffad :=_cccb (_gdfc ._dedeg );_eecec ._gcef [_ffad ]=append (_eecec ._gcef [_ffad ],_gdfc );_eecec .PdfRectangle =_debb (_eecec .PdfRectangle ,_gdfc .PdfRectangle );};_eecec .sort ();return _eecec ;};func (_bgfff paraList )yNeighbours (_daad float64 )map[*textPara ][]int {_fefg :=make ([]event ,2*len (_bgfff ));if _daad ==0{for _feged ,_afegb :=range _bgfff {_fefg [2*_feged ]=event {_afegb .Lly ,true ,_feged };_fefg [2*_feged +1]=event {_afegb .Ury ,false ,_feged };};}else {for _bdga ,_fbbdc :=range _bgfff {_fefg [2*_bdga ]=event {_fbbdc .Lly -_daad *_fbbdc .fontsize (),true ,_bdga };_fefg [2*_bdga +1]=event {_fbbdc .Ury +_daad *_fbbdc .fontsize (),false ,_bdga };};};return _bgfff .eventNeighbours (_fefg );};func (_gaef pathSection )bbox ()_ec .PdfRectangle {_bdea :=_gaef ._gfac [0]._adfe [0];_bgfa :=_ec .PdfRectangle {Llx :_bdea .X ,Urx :_bdea .X ,Lly :_bdea .Y ,Ury :_bdea .Y };_cdcg :=func (_ccff _bc .Point ){if _ccff .X < _bgfa .Llx {_bgfa .Llx =_ccff .X ;}else if _ccff .X > _bgfa .Urx {_bgfa .Urx =_ccff .X ;};if _ccff .Y < _bgfa .Lly {_bgfa .Lly =_ccff .Y ;}else if _ccff .Y > _bgfa .Ury {_bgfa .Ury =_ccff .Y ;};};for _ ,_gcae :=range _gaef ._gfac [0]._adfe [1:]{_cdcg (_gcae );};for _ ,_dee :=range _gaef ._gfac [1:]{for _ ,_cecf :=range _dee ._adfe {_cdcg (_cecf );};};return _bgfa ;};func (_befe *textLine )text ()string {var _addf []string ;for _ ,_bgad :=range _befe ._abag {if _bgad ._dfegc {_addf =append (_addf ,"\u0020");};_addf =append (_addf ,_bgad ._ebeg );};return _cb .Join (_addf ,"");};func (_fadg *textPara )writeText (_cggc _c .Writer ){if _fadg ._addfe ==nil {_fadg .writeCellText (_cggc );return ;};for _cfac :=0;_cfac < _fadg ._addfe ._dbdg ;_cfac ++{for _bafc :=0;_bafc < _fadg ._addfe ._cdfd ;_bafc ++{_acagc :=_fadg ._addfe .get (_bafc ,_cfac );if _acagc ==nil {_cggc .Write ([]byte ("\u0009"));}else {_acagc .writeCellText (_cggc );};_cggc .Write ([]byte ("\u0020"));};if _cfac < _fadg ._addfe ._dbdg -1{_cggc .Write ([]byte ("\u000a"));};};};func (_bbga paraList )merge ()*textPara {_gf .Log .Trace ("\u006d\u0065\u0072\u0067\u0065:\u0020\u0070\u0061\u0072\u0061\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_bbga ));if len (_bbga )==0{return nil ;};_bbga .sortReadingOrder ();_abfc :=_bbga [0].PdfRectangle ;_edeg :=_bbga [0]._eefga ;for _ ,_bbaf :=range _bbga [1:]{_abfc =_debb (_abfc ,_bbaf .PdfRectangle );_edeg =append (_edeg ,_bbaf ._eefga ...);};return _geaf (_abfc ,_edeg );};type pathSection struct{_gfac []*subpath ;_cc .Color ;};func _efab (_gbeb string ,_acgeg int )string {if len (_gbeb )< _acgeg {return _gbeb ;};return _gbeb [:_acgeg ];};func (_dafd *subpath )last ()_bc .Point {return _dafd ._adfe [len (_dafd ._adfe )-1]};func (_gbdb paraList )eventNeighbours (_bfdcf []event )map[*textPara ][]int {_fb .Slice (_bfdcf ,func (_bbeb ,_gbddd int )bool {_bade ,_cddgg :=_bfdcf [_bbeb ],_bfdcf [_gbddd ];_abbe ,_dafab :=_bade ._abef ,_cddgg ._abef ;if _abbe !=_dafab {return _abbe < _dafab ;};if _bade ._decdf !=_cddgg ._decdf {return _bade ._decdf ;};return _bbeb < _gbddd ;});_gbad :=make (map[int ]intSet );_eedf :=make (intSet );for _ ,_bdaad :=range _bfdcf {if _bdaad ._decdf {_gbad [_bdaad ._cgba ]=make (intSet );for _gafcg :=range _eedf {if _gafcg !=_bdaad ._cgba {_gbad [_bdaad ._cgba ].add (_gafcg );_gbad [_gafcg ].add (_bdaad ._cgba );};};_eedf .add (_bdaad ._cgba );}else {_eedf .del (_bdaad ._cgba );};};_edeea :=map[*textPara ][]int {};for _ggbd ,_faaf :=range _gbad {_ecaa :=_gbdb [_ggbd ];if len (_faaf )==0{_edeea [_ecaa ]=nil ;continue ;};_eeba :=make ([]int ,len (_faaf ));_aadc :=0;for _ebdf :=range _faaf {_eeba [_aadc ]=_ebdf ;_aadc ++;};_edeea [_ecaa ]=_eeba ;};return _edeea ;};func _ebbgc (_badd map[int ]intSet )[]int {_ffee :=make ([]int ,0,len (_badd ));for _fdca :=range _badd {_ffee =append (_ffee ,_fdca );};_fb .Ints (_ffee );return _ffee ;};func (_bgfg *wordBag )minDepth ()float64 {return _bgfg ._aadb -(_bgfg .Ury -_bgfg ._gdff )};func (_fdgc *textMark )inDiacriticArea (_agae *textMark )bool {_eacff :=_fdgc .Llx -_agae .Llx ;_gfca :=_fdgc .Urx -_agae .Urx ;_aecgg :=_fdgc .Lly -_agae .Lly ;return _a .Abs (_eacff +_gfca )< _fdgc .Width ()*_ddba &&_a .Abs (_aecgg )< _fdgc .Height ()*_ddba ;};func (_fggdb gridTile )numBorders ()int {_dfcfc :=0;if _fggdb ._faeg {_dfcfc ++;};if _fggdb ._ddabd {_dfcfc ++;};if _fggdb ._ceee {_dfcfc ++;};if _fggdb ._fgfed {_dfcfc ++;};return _dfcfc ;};func (_bgcg *textTable )toTextTable ()TextTable {if _cbba {_gf .Log .Info ("t\u006fT\u0065\u0078\u0074\u0054\u0061\u0062\u006c\u0065:\u0020\u0025\u0064\u0020x \u0025\u0064",_bgcg ._cdfd ,_bgcg ._dbdg );};_adcba :=make ([][]TableCell ,_bgcg ._dbdg );for _debaa :=0;_debaa < _bgcg ._dbdg ;_debaa ++{_adcba [_debaa ]=make ([]TableCell ,_bgcg ._cdfd );for _fdfe :=0;_fdfe < _bgcg ._cdfd ;_fdfe ++{_cdbg :=_bgcg .get (_fdfe ,_debaa );if _cdbg ==nil {continue ;};if _cbba {_cca .Printf ("\u0025\u0034\u0064 \u0025\u0032\u0064\u003a\u0020\u0025\u0073\u000a",_fdfe ,_debaa ,_cdbg );};_adcba [_debaa ][_fdfe ].Text =_cdbg .text ();_eebb :=0;_adcba [_debaa ][_fdfe ].Marks ._faad =_cdbg .toTextMarks (&_eebb );};};return TextTable {W :_bgcg ._cdfd ,H :_bgcg ._dbdg ,Cells :_adcba };};func (_fcgg paraList )llyOrdering ()[]int {_dfaag :=make ([]int ,len (_fcgg ));for _gegb :=range _fcgg {_dfaag [_gegb ]=_gegb ;};_fb .SliceStable (_dfaag ,func (_ebde ,_gcbf int )bool {_bfgg ,_afec :=_dfaag [_ebde ],_dfaag [_gcbf ];return _fcgg [_bfgg ].Lly < _fcgg [_afec ].Lly ;});return _dfaag ;};func (_agdc intSet )add (_eacbg int ){_agdc [_eacbg ]=struct{}{}};func _ddbfd (_fcde []*textWord ,_ggde int )[]*textWord {_ebdee :=len (_fcde );copy (_fcde [_ggde :],_fcde [_ggde +1:]);return _fcde [:_ebdee -1];};func (_fgb gridTiling )complete ()bool {for _ ,_cgad :=range _fgb ._fcdbf {for _ ,_bcffd :=range _cgad {if !_bcffd .complete (){return false ;};};};return true ;};func (_cbfb *textTable )computeBbox ()_ec .PdfRectangle {var _cadc _ec .PdfRectangle ;_abffec :=false ;for _fefe :=0;_fefe < _cbfb ._dbdg ;_fefe ++{for _dead :=0;_dead < _cbfb ._cdfd ;_dead ++{_dfeec :=_cbfb .get (_dead ,_fefe );if _dfeec ==nil {continue ;};if !_abffec {_cadc =_dfeec .PdfRectangle ;_abffec =true ;}else {_cadc =_debb (_cadc ,_dfeec .PdfRectangle );};};};return _cadc ;};func _fabb (_fdfea []compositeCell )[]float64 {var _dbbbc []*textLine ;_eeca :=0;for _ ,_abeg :=range _fdfea {_eeca +=len (_abeg .paraList );_dbbbc =append (_dbbbc ,_abeg .lines ()...);};_fb .Slice (_dbbbc ,func (_aaagb ,_fgeg int )bool {_ddfba ,_afdg :=_dbbbc [_aaagb ],_dbbbc [_fgeg ];_dffe ,_cbac :=_ddfba ._gfdb ,_afdg ._gfdb ;if !_efea (_dffe -_cbac ){return _dffe < _cbac ;};return _ddfba .Llx < _afdg .Llx ;});if _cbba {_cca .Printf ("\u0020\u0020\u0020 r\u006f\u0077\u0042\u006f\u0072\u0064\u0065\u0072\u0073:\u0020%\u0064 \u0070a\u0072\u0061\u0073\u0020\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u000a",_eeca ,len (_dbbbc ));for _cbage ,_acfda :=range _dbbbc {_cca .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_cbage ,_acfda );};};var _addd []float64 ;_bbbe :=_dbbbc [0];var _gceed [][]*textLine ;_fefag :=[]*textLine {_bbbe };for _edba ,_fdae :=range _dbbbc [1:]{if _fdae .Ury < _bbbe .Lly {_aedfg :=0.5*(_fdae .Ury +_bbbe .Lly );if _cbba {_cca .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u003c\u0020\u0025\u0036.\u0032f\u0020\u0062\u006f\u0072\u0064\u0065\u0072\u003d\u0025\u0036\u002e\u0032\u0066\u000a"+"\u0009\u0020\u0071\u003d\u0025\u0073\u000a\u0009\u0020p\u003d\u0025\u0073\u000a",_edba ,_fdae .Ury ,_bbbe .Lly ,_aedfg ,_bbbe ,_fdae );};_addd =append (_addd ,_aedfg );_gceed =append (_gceed ,_fefag );_fefag =nil ;};_fefag =append (_fefag ,_fdae );if _fdae .Lly < _bbbe .Lly {_bbbe =_fdae ;};};if len (_fefag )> 0{_gceed =append (_gceed ,_fefag );};if _cbba {_cca .Printf (" \u0020\u0020\u0020\u0020\u0020\u0020 \u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064o\u0072\u0073\u003d%\u0036.\u0032\u0066\u000a",_addd );};if _cbba {_gf .Log .Info ("\u0072\u006f\u0077\u003d\u0025\u0064",len (_fdfea ));for _aedab ,_eada :=range _fdfea {_cca .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_aedab ,_eada );};_gf .Log .Info ("\u0067r\u006f\u0075\u0070\u0073\u003d\u0025d",len (_gceed ));for _cfea ,_aagge :=range _gceed {_cca .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0064\u000a",_cfea ,len (_aagge ));for _bcgdd ,_cffa :=range _aagge {_cca .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_bcgdd ,_cffa );};};};_cbdf :=true ;for _cdeb ,_gdcda :=range _gceed {_cecgb :=true ;for _ggcb ,_adgf :=range _fdfea {if _cbba {_cca .Printf ("\u0020\u0020\u0020\u007e\u007e\u007e\u0067\u0072\u006f\u0075\u0070\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064\u0020\u0063\u0065\u006cl\u0020\u0025\u0064\u0020\u006ff\u0020\u0025d\u0020\u0025\u0073\u000a",_cdeb ,len (_gceed ),_ggcb ,len (_fdfea ),_adgf );};if !_adgf .hasLines (_gdcda ){if _cbba {_cca .Printf ("\u0020\u0020\u0020\u0021\u0021\u0021\u0067\u0072\u006f\u0075\u0070\u0020\u0025d\u0020\u006f\u0066\u0020\u0025\u0064 \u0063\u0065\u006c\u006c\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064 \u004f\u0055\u0054\u000a",_cdeb ,len (_gceed ),_ggcb ,len (_fdfea ));};_cecgb =false ;break ;};};if !_cecgb {_cbdf =false ;break ;};};if !_cbdf {if _cbba {_gf .Log .Info ("\u0072\u006f\u0077\u0020\u0063o\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u0020\u0064\u006f\u006e\u0027\u0074 \u0073\u0070\u0061\u006e\u0020\u0061\u006c\u006c\u0020\u0063\u0065\u006c\u006c\u0073\u0020\u0069\u006e\u0020\u0072\u006f\u0077\u002e\u0020\u0069\u0067\u006e\u006f\u0072\u0069\u006eg");};_addd =nil ;};if _cbba &&_addd !=nil {_cca .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u002a\u002a*\u0072\u006f\u0077\u0043\u006f\u0072\u0072i\u0064\u006f\u0072\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u000a",_addd );};return _addd ;};

// String returns a description of `k`.
func (_abgfc rulingKind )String ()string {_feebb ,_cfce :=_aadg [_abgfc ];if !_cfce {return _cca .Sprintf ("\u004e\u006ft\u0020\u0061\u0020r\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0025\u0064",_abgfc );};return _feebb ;};func _eeafd (_acfg _ec .PdfRectangle )*ruling {return &ruling {_cde :_adfb ,_bbaca :_acfg .Llx ,_fdeee :_acfg .Lly ,_eegg :_acfg .Ury };};func (_abe *textObject )reset (){_abe ._eeb =_bc .IdentityMatrix ();_abe ._baa =_bc .IdentityMatrix ();_abe ._fdf =nil ;};type imageExtractContext struct{_ce []ImageMark ;_be int ;_bd int ;_cd int ;_cda map[*_gfg .PdfObjectStream ]*cachedImage ;_fge *ImageExtractOptions ;};func (_adec *compositeCell )updateBBox (){for _ ,_dcgag :=range _adec .paraList {_adec .PdfRectangle =_debb (_adec .PdfRectangle ,_dcgag .PdfRectangle );};};

// ExtractPageText returns the text contents of `e` (an Extractor for a page) as a PageText.
// TODO(peterwilliams97): The stats complicate this function signature and aren't very useful.
//                        Replace with a function like Extract() (*PageText, error)
func (_fde *Extractor )ExtractPageText ()(*PageText ,int ,int ,error ){_edb ,_fcc ,_gaa ,_bde :=_fde .extractPageText (_fde ._da ,_fde ._bg ,_bc .IdentityMatrix (),0);if _bde !=nil {return nil ,0,0,_bde ;};_edb .computeViews ();_bde =_aecb (_edb );if _bde !=nil {return nil ,0,0,_bde ;};return _edb ,_fcc ,_gaa ,nil ;};func _adgg (_fbb _bc .Point )*subpath {return &subpath {_adfe :[]_bc .Point {_fbb }}};func (_caa *textObject )getStrokeColor ()_cc .Color {return _ebcg (_caa ._adb .ColorspaceStroking ,_caa ._adb .ColorStroking );};func (_cgbc *textObject )moveText (_eaa ,_bfd float64 ){_cgbc .moveLP (_eaa ,_bfd )};func (_becb *wordBag )pullWord (_geed *textWord ,_gfbad int ,_ffgae map[int ]map[*textWord ]struct{}){_becb .PdfRectangle =_debb (_becb .PdfRectangle ,_geed .PdfRectangle );if _geed ._fdbea > _becb ._gdff {_becb ._gdff =_geed ._fdbea ;};_becb ._gcef [_gfbad ]=append (_becb ._gcef [_gfbad ],_geed );_ffgae [_gfbad ][_geed ]=struct{}{};};type textState struct{_dbd float64 ;_aba float64 ;_agfb float64 ;_eae float64 ;_bbac float64 ;_dgg RenderMode ;_gca float64 ;_ffc *_ec .PdfFont ;_ddec _ec .PdfRectangle ;_caec int ;_bedb int ;};const _ecfd =1.0/1000.0;type textResult struct{_ab PageText ;_ffga int ;_cgce int ;};func (_ccccd paraList )lines ()[]*textLine {var _accf []*textLine ;for _ ,_efbc :=range _ccccd {_accf =append (_accf ,_efbc ._eefga ...);};return _accf ;};func (_dfec compositeCell )parasBBox ()(paraList ,_ec .PdfRectangle ){return _dfec .paraList ,_dfec .PdfRectangle ;};type rulingKind int ;func _bbfa (_bfadg _ec .PdfRectangle )*ruling {return &ruling {_cde :_adfb ,_bbaca :_bfadg .Urx ,_fdeee :_bfadg .Lly ,_eegg :_bfadg .Ury };};func (_cdeg *textTable )putComposite (_gffbg ,_dfaef int ,_efec paraList ,_cfge _ec .PdfRectangle ){if len (_efec )==0{_gf .Log .Error ("\u0074\u0065xt\u0054\u0061\u0062l\u0065\u0029\u0020\u0070utC\u006fmp\u006f\u0073\u0069\u0074\u0065\u003a\u0020em\u0070\u0074\u0079\u0020\u0070\u0061\u0072a\u0073");return ;};_aaga :=compositeCell {_cfge ,_efec };if _cbba {_cca .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0070\u0075\u0074\u0043\u006f\u006d\u0070o\u0073i\u0074\u0065\u0028\u0025\u0064\u002c\u0025\u0064\u0029\u003c\u002d\u0025\u0073\u000a",_gffbg ,_dfaef ,_aaga .String ());};_aaga .updateBBox ();_cdeg ._fcdcdd [_ffea (_gffbg ,_dfaef )]=_aaga ;};func (_aga *shapesState )addPoint (_geff ,_ecb float64 ){_dacb :=_aga .establishSubpath ();_eda :=_aga .devicePoint (_geff ,_ecb );if _dacb ==nil {_aga ._gcad =true ;_aga ._bfa =_eda ;}else {_dacb .add (_eda );};};func (_caf *textObject )nextLine (){_caf .moveLP (0,-_caf ._ccc ._eae )};func _ecac (_eefd *wordBag ,_efdf float64 ,_acdd ,_acbf rulingList )[]*wordBag {var _aggfd []*wordBag ;for _ ,_fbbab :=range _eefd .depthIndexes (){_ggacc :=false ;for !_eefd .empty (_fbbab ){_edab :=_eefd .firstReadingIndex (_fbbab );_febe :=_eefd .firstWord (_edab );_febd :=_agfc (_febe ,_efdf ,_acdd ,_acbf );_eefd .removeWord (_febe ,_edab );if _fbbc {_gf .Log .Info ("\u0066\u0069\u0072\u0073\u0074\u0057\u006f\u0072\u0064\u0020\u005e\u005e^\u005e\u0020\u0025\u0073",_febe .String ());};for _ace :=true ;_ace ;_ace =_ggacc {_ggacc =false ;_dfcb :=_cbgb *_febd ._gdff ;_facf :=_agcf *_febd ._gdff ;_gbdfe :=_bgcc *_febd ._gdff ;if _fbbc {_gf .Log .Info ("\u0070a\u0072a\u0057\u006f\u0072\u0064\u0073\u0020\u0064\u0065\u0070\u0074\u0068 \u0025\u002e\u0032\u0066 \u002d\u0020\u0025\u002e\u0032f\u0020\u006d\u0061\u0078\u0049\u006e\u0074\u0072\u0061\u0044\u0065\u0070\u0074\u0068\u0047\u0061\u0070\u003d\u0025\u002e\u0032\u0066\u0020\u006d\u0061\u0078\u0049\u006e\u0074\u0072\u0061R\u0065\u0061\u0064\u0069\u006e\u0067\u0047\u0061p\u003d\u0025\u002e\u0032\u0066",_febd .minDepth (),_febd .maxDepth (),_gbdfe ,_facf );};if _eefd .scanBand ("\u0076\u0065\u0072\u0074\u0069\u0063\u0061\u006c",_febd ,_gec (_gdec ,0),_febd .minDepth ()-_gbdfe ,_febd .maxDepth ()+_gbdfe ,_agcce ,false ,false )> 0{_ggacc =true ;};if _eefd .scanBand ("\u0068\u006f\u0072\u0069\u007a\u006f\u006e\u0074\u0061\u006c",_febd ,_gec (_gdec ,_facf ),_febd .minDepth (),_febd .maxDepth (),_acae ,false ,false )> 0{_ggacc =true ;};if _ggacc {continue ;};_acfbc :=_eefd .scanBand ("",_febd ,_gec (_fggd ,_dfcb ),_febd .minDepth (),_febd .maxDepth (),_ccaa ,true ,false );if _acfbc > 0{_gffb :=(_febd .maxDepth ()-_febd .minDepth ())/_febd ._gdff ;if (_acfbc > 1&&float64 (_acfbc )> 0.3*_gffb )||_acfbc <=10{if _eefd .scanBand ("\u006f\u0074\u0068e\u0072",_febd ,_gec (_fggd ,_dfcb ),_febd .minDepth (),_febd .maxDepth (),_ccaa ,false ,true )> 0{_ggacc =true ;};};};};_aggfd =append (_aggfd ,_febd );};};return _aggfd ;};

// RangeOffset returns the TextMarks in `ma` that overlap text[start:end] in the extracted text.
// These are tm: `start` <= tm.Offset + len(tm.Text) && tm.Offset < `end` where
// `start` and `end` are offsets in the extracted text.
// NOTE: TextMarks can contain multiple characters. e.g. "ffi" for the ﬃ ligature so the first and
// last elements of the returned TextMarkArray may only partially overlap text[start:end].
func (_dcdc *TextMarkArray )RangeOffset (start ,end int )(*TextMarkArray ,error ){if _dcdc ==nil {return nil ,_g .New ("\u006da\u003d\u003d\u006e\u0069\u006c");};if end < start {return nil ,_cca .Errorf ("\u0065\u006e\u0064\u0020\u003c\u0020\u0073\u0074\u0061\u0072\u0074\u002e\u0020\u0052\u0061n\u0067\u0065\u004f\u0066\u0066\u0073\u0065\u0074\u0020\u006e\u006f\u0074\u0020d\u0065\u0066\u0069\u006e\u0065\u0064\u002e\u0020\u0073\u0074\u0061\u0072t=\u0025\u0064\u0020\u0065\u006e\u0064\u003d\u0025\u0064\u0020",start ,end );};_dgcd :=len (_dcdc ._faad );if _dgcd ==0{return _dcdc ,nil ;};if start < _dcdc ._faad [0].Offset {start =_dcdc ._faad [0].Offset ;};if end > _dcdc ._faad [_dgcd -1].Offset +1{end =_dcdc ._faad [_dgcd -1].Offset +1;};_cddg :=_fb .Search (_dgcd ,func (_eg int )bool {return _dcdc ._faad [_eg ].Offset +len (_dcdc ._faad [_eg ].Text )-1>=start });if !(0<=_cddg &&_cddg < _dgcd ){_fda :=_cca .Errorf ("\u004f\u0075\u0074\u0020\u006f\u0066\u0020\u0072\u0061\u006e\u0067\u0065\u002e\u0020\u0073\u0074\u0061\u0072\u0074\u003d%\u0064\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020\u006c\u0065\u006e\u003d\u0025\u0064\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025\u0076\u000a\u0009 \u006c\u0061\u0073\u0074\u003d%\u0076",start ,_cddg ,_dgcd ,_dcdc ._faad [0],_dcdc ._faad [_dgcd -1]);return nil ,_fda ;};_fdbc :=_fb .Search (_dgcd ,func (_ccfe int )bool {return _dcdc ._faad [_ccfe ].Offset > end -1});if !(0<=_fdbc &&_fdbc < _dgcd ){_bec :=_cca .Errorf ("\u004f\u0075\u0074\u0020\u006f\u0066\u0020r\u0061\u006e\u0067e\u002e\u0020\u0065n\u0064\u003d%\u0064\u0020\u0069\u0045\u006e\u0064=\u0025d \u006c\u0065\u006e\u003d\u0025\u0064\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025\u0076\u000a\u0009\u0020\u006c\u0061\u0073\u0074\u003d\u0025\u0076",end ,_fdbc ,_dgcd ,_dcdc ._faad [0],_dcdc ._faad [_dgcd -1]);return nil ,_bec ;};if _fdbc <=_cddg {return nil ,_cca .Errorf ("\u0069\u0045\u006e\u0064\u0020\u003c=\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003a\u0020\u0073\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020\u0065\u006ed\u003d\u0025\u0064\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020i\u0045n\u0064\u003d\u0025\u0064",start ,end ,_cddg ,_fdbc );};return &TextMarkArray {_faad :_dcdc ._faad [_cddg :_fdbc ]},nil ;};func (_cdcd compositeCell )hasLines (_dgac []*textLine )bool {for _dbfb ,_facb :=range _dgac {_efbd :=_fede (_cdcd .PdfRectangle ,_facb .PdfRectangle );if _cbba {_cca .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u005e\u005e\u005e\u0069\u006e\u0074\u0065\u0072\u0073e\u0063t\u0073\u003d\u0025\u0074\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064\u000a",_efbd ,_dbfb ,len (_dgac ));_cca .Printf ("\u0020\u0020\u0020\u0020  \u005e\u005e\u005e\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u003d\u0025s\u000a",_cdcd );_cca .Printf ("\u0020 \u0020 \u0020\u0020\u0020\u006c\u0069\u006e\u0065\u003d\u0025\u0073\u000a",_facb );};if _efbd {return true ;};};return false ;};func _cccb (_geba float64 )int {var _bcfe int ;if _geba >=0{_bcfe =int (_geba /_ebcfe );}else {_bcfe =int (_geba /_ebcfe )-1;};return _bcfe ;};func (_degba *wordBag )applyRemovals (_fagd map[int ]map[*textWord ]struct{}){for _abda ,_geffg :=range _fagd {if len (_geffg )==0{continue ;};_eddg :=_degba ._gcef [_abda ];_fgcg :=len (_eddg )-len (_geffg );if _fgcg ==0{delete (_degba ._gcef ,_abda );continue ;};_ddad :=make ([]*textWord ,_fgcg );_fabe :=0;for _ ,_bea :=range _eddg {if _ ,_ddecg :=_geffg [_bea ];!_ddecg {_ddad [_fabe ]=_bea ;_fabe ++;};};_degba ._gcef [_abda ]=_ddad ;};};func _bbeeb (_eaacf ,_bdefbd int )int {if _eaacf < _bdefbd {return _eaacf ;};return _bdefbd ;};func (_gdeb *textLine )appendWord (_badb *textWord ){_gdeb ._abag =append (_gdeb ._abag ,_badb );_gdeb .PdfRectangle =_debb (_gdeb .PdfRectangle ,_badb .PdfRectangle );if _badb ._fdbea > _gdeb ._dadb {_gdeb ._dadb =_badb ._fdbea ;};if _badb ._dedeg > _gdeb ._gfdb {_gdeb ._gfdb =_badb ._dedeg ;};};type fontEntry struct{_cabf *_ec .PdfFont ;_abb int64 ;};func _agag (_egbc *wordBag ,_fabg int )*textLine {_afcf :=_egbc .firstWord (_fabg );_gba :=textLine {PdfRectangle :_afcf .PdfRectangle ,_dadb :_afcf ._fdbea ,_gfdb :_afcf ._dedeg };_gba .pullWord (_egbc ,_afcf ,_fabg );return &_gba ;};func (_acga *textObject )renderText (_acd []byte )error {if _acga ._bddf {_gf .Log .Debug ("\u0072\u0065\u006e\u0064\u0065r\u0054\u0065\u0078\u0074\u003a\u0020\u0049\u006e\u0076\u0061\u006c\u0069\u0064 \u0066\u006f\u006e\u0074\u002e\u0020\u004e\u006f\u0074\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u002e");return nil ;};_aaac :=_acga .getCurrentFont ();_begc :=_aaac .BytesToCharcodes (_acd );_dcg ,_cef ,_edbf :=_aaac .CharcodesToStrings (_begc );if _edbf > 0{_gf .Log .Debug ("\u0072\u0065nd\u0065\u0072\u0054e\u0078\u0074\u003a\u0020num\u0043ha\u0072\u0073\u003d\u0025\u0064\u0020\u006eum\u004d\u0069\u0073\u0073\u0065\u0073\u003d%\u0064",_cef ,_edbf );};_acga ._ccc ._caec +=_cef ;_acga ._ccc ._bedb +=_edbf ;_babe :=_acga ._ccc ;_agbb :=_babe ._bbac ;_gac :=_babe ._agfb /100.0;_efc ,_eefg :=_aaac .GetRuneMetrics (' ');if !_eefg {_efc ,_eefg =_aaac .GetCharMetrics (32);};if !_eefg {_efc ,_ =_ec .DefaultFont ().GetRuneMetrics (' ');};_bee :=_efc .Wx *_ecfd ;_gf .Log .Trace ("\u0073p\u0061\u0063e\u0057\u0069\u0064t\u0068\u003d\u0025\u002e\u0032\u0066\u0020t\u0065\u0078\u0074\u003d\u0025\u0071 \u0066\u006f\u006e\u0074\u003d\u0025\u0073\u0020\u0066\u006f\u006et\u0053\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066",_bee ,_dcg ,_aaac ,_agbb );_ddcf :=_bc .NewMatrix (_agbb *_gac ,0,0,_agbb ,0,_babe ._gca );if _eaca {_gf .Log .Info ("\u0072\u0065\u006e\u0064\u0065\u0072T\u0065\u0078\u0074\u003a\u0020\u0025\u0064\u0020\u0063\u006f\u0064\u0065\u0073=\u0025\u002b\u0076\u0020\u0074\u0065\u0078t\u0073\u003d\u0025\u0071",len (_begc ),_begc ,_dcg );};_gf .Log .Trace ("\u0072\u0065\u006e\u0064\u0065\u0072T\u0065\u0078\u0074\u003a\u0020\u0025\u0064\u0020\u0063\u006f\u0064\u0065\u0073=\u0025\u002b\u0076\u0020\u0072\u0075\u006ee\u0073\u003d\u0025\u0071",len (_begc ),_begc ,len (_dcg ));_gdd :=_acga .getFillColor ();_dgec :=_acga .getStrokeColor ();for _aggg ,_ddfgf :=range _dcg {_bcgb :=[]rune (_ddfgf );if len (_bcgb )==1&&_bcgb [0]=='\x00'{continue ;};_ddg :=_begc [_aggg ];_cdabb :=_acga ._adb .CTM .Mult (_acga ._eeb ).Mult (_ddcf );_bef :=0.0;if len (_bcgb )==1&&_bcgb [0]==32{_bef =_babe ._aba ;};_feg ,_cgga :=_aaac .GetCharMetrics (_ddg );if !_cgga {_gf .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u004e\u006f \u006d\u0065\u0074r\u0069\u0063\u0020\u0066\u006f\u0072\u0020\u0063\u006fde\u003d\u0025\u0064 \u0072\u003d0\u0078\u0025\u0030\u0034\u0078\u003d%\u002b\u0071 \u0025\u0073",_ddg ,_bcgb ,_bcgb ,_aaac );return _cca .Errorf ("\u006e\u006f\u0020\u0063\u0068\u0061\u0072\u0020\u006d\u0065\u0074\u0072\u0069\u0063\u0073:\u0020f\u006f\u006e\u0074\u003d\u0025\u0073\u0020\u0063\u006f\u0064\u0065\u003d\u0025\u0064",_aaac .String (),_ddg );};_fab :=_bc .Point {X :_feg .Wx *_ecfd ,Y :_feg .Wy *_ecfd };_bff :=_bc .Point {X :(_fab .X *_agbb +_bef )*_gac };_eebf :=_bc .Point {X :(_fab .X *_agbb +_babe ._dbd +_bef )*_gac };if _eaca {_gf .Log .Info ("\u0074\u0066\u0073\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0063\u003d\u0025\u002e\u0032f\u0020t\u0077\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0068\u003d\u0025\u002e\u0032\u0066",_agbb ,_babe ._dbd ,_babe ._aba ,_gac );_gf .Log .Info ("\u0064x\u002c\u0064\u0079\u003d%\u002e\u0033\u0066\u0020\u00740\u003d%\u002e3\u0066\u0020\u0074\u003d\u0025\u002e\u0033f",_fab ,_bff ,_eebf );};_bgde :=_daa (_bff );_adfd :=_daa (_eebf );_adba :=_acga ._adb .CTM .Mult (_acga ._eeb ).Mult (_bgde );if _eacf {_gf .Log .Info ("e\u006e\u0064\u003a\u000a\tC\u0054M\u003d\u0025\u0073\u000a\u0009 \u0074\u006d\u003d\u0025\u0073\u000a"+"\u0009\u0020t\u0064\u003d\u0025s\u0020\u0078\u006c\u0061\u0074\u003d\u0025\u0073\u000a"+"\u0009t\u0064\u0030\u003d\u0025s\u000a\u0009\u0020\u0020\u2192 \u0025s\u0020x\u006c\u0061\u0074\u003d\u0025\u0073",_acga ._adb .CTM ,_acga ._eeb ,_adfd ,_cbab (_acga ._adb .CTM .Mult (_acga ._eeb ).Mult (_adfd )),_bgde ,_adba ,_cbab (_adba ));};_bgc ,_fedd :=_acga .newTextMark (_fg .ExpandLigatures (_bcgb ),_cdabb ,_cbab (_adba ),_a .Abs (_bee *_cdabb .ScalingFactorX ()),_aaac ,_acga ._ccc ._dbd ,_gdd ,_dgec );if !_fedd {_gf .Log .Debug ("\u0054\u0065\u0078\u0074\u0020\u006d\u0061\u0072\u006b\u0020\u006f\u0075\u0074\u0073\u0069d\u0065 \u0070\u0061\u0067\u0065\u002e\u0020\u0053\u006b\u0069\u0070\u0070\u0069\u006e\u0067");continue ;};if _aaac ==nil {_gf .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u004e\u006f\u0020\u0066\u006f\u006e\u0074\u002e");}else if _aaac .Encoder ()==nil {_gf .Log .Debug ("E\u0052\u0052\u004f\u0052\u003a\u0020N\u006f\u0020\u0065\u006e\u0063\u006f\u0064\u0069\u006eg\u002e\u0020\u0066o\u006et\u003d\u0025\u0073",_aaac );}else {if _agc ,_dfeg :=_aaac .Encoder ().CharcodeToRune (_ddg );_dfeg {_bgc ._bgag =string (_agc );};};_gf .Log .Trace ("i\u003d\u0025\u0064\u0020\u0063\u006fd\u0065\u003d\u0025\u0064\u0020\u006d\u0061\u0072\u006b=\u0025\u0073\u0020t\u0072m\u003d\u0025\u0073",_aggg ,_ddg ,_bgc ,_cdabb );_acga ._fdf =append (_acga ._fdf ,&_bgc );_acga ._eeb .Concat (_adfd );};return nil ;};

// ToText returns the page text as a single string.
// Deprecated: This function is deprecated and will be removed in a future major version. Please use
// Text() instead.
func (_dagd PageText )ToText ()string {return _dagd .Text ()};func (_bgae *wordBag )highestWord (_ebbf int ,_bfea ,_feedd float64 )*textWord {for _ ,_ege :=range _bgae ._gcef [_ebbf ]{if _bfea <=_ege ._dedeg &&_ege ._dedeg <=_feedd {return _ege ;};};return nil ;};

// ImageMark represents an image drawn on a page and its position in device coordinates.
// All coordinates are in device coordinates.
type ImageMark struct{Image *_ec .Image ;

// Dimensions of the image as displayed in the PDF.
Width float64 ;Height float64 ;

// Position of the image in PDF coordinates (lower left corner).
X float64 ;Y float64 ;

// Angle in degrees, if rotated.
Angle float64 ;};func _ebge (_cfdd map[int ][]float64 ){if len (_cfdd )<=1{return ;};_gdddg :=_baag (_cfdd );if _cbba {_gf .Log .Info ("\u0066i\u0078C\u0065\u006c\u006c\u0073\u003a \u006b\u0065y\u0073\u003d\u0025\u002b\u0076",_gdddg );};var _fdeg ,_efaac int ;for _fdeg ,_efaac =range _gdddg {if _cfdd [_efaac ]!=nil {break ;};};for _ebaac ,_eegf :=range _gdddg [_fdeg :]{_dffdg :=_cfdd [_eegf ];if _dffdg ==nil {continue ;};if _cbba {_cca .Printf ("\u0025\u0034\u0064\u003a\u0020\u006b\u0030\u003d\u0025\u0064\u0020\u006b1\u003d\u0025\u0064\u000a",_fdeg +_ebaac ,_efaac ,_eegf );};_dbed :=_cfdd [_eegf ];if _dbed [len (_dbed )-1]> _dffdg [0]{_dbed [len (_dbed )-1]=_dffdg [0];_cfdd [_efaac ]=_dbed ;};_efaac =_eegf ;};};func _cdfg (_abfa ,_gdbg float64 )string {_baab :=!_efea (_abfa -_gdbg );if _baab {return "\u000a";};return "\u0020";};func (_aggd rulingList )bbox ()_ec .PdfRectangle {var _cagd _ec .PdfRectangle ;if len (_aggd )==0{_gf .Log .Error ("r\u0075\u006c\u0069\u006e\u0067\u004ci\u0073\u0074\u002e\u0062\u0062\u006f\u0078\u003a\u0020n\u006f\u0020\u0072u\u006ci\u006e\u0067\u0073");return _ec .PdfRectangle {};};if _aggd [0]._cde ==_dfcbe {_cagd .Llx ,_cagd .Urx =_aggd .secMinMax ();_cagd .Lly ,_cagd .Ury =_aggd .primMinMax ();}else {_cagd .Llx ,_cagd .Urx =_aggd .primMinMax ();_cagd .Lly ,_cagd .Ury =_aggd .secMinMax ();};return _cagd ;};

// ApplyArea processes the page text only within the specified area `bbox`.
// Each time ApplyArea is called, it updates the result set in `pt`.
// Can be called multiple times in a row with different bounding boxes.
func (_agcc *PageText )ApplyArea (bbox _ec .PdfRectangle ){_dfg :=make ([]*textMark ,0,len (_agcc ._ffdb ));for _ ,_fdd :=range _agcc ._ffdb {if _fede (_fdd .bbox (),bbox ){_dfg =append (_dfg ,_fdd );};};var _ccf paraList ;_dff :=len (_dfg );for _gaac :=0;_gaac < 360&&_dff > 0;_gaac +=90{_cfc :=make ([]*textMark ,0,len (_dfg )-_dff );for _ ,_aea :=range _dfg {if _aea ._gecg ==_gaac {_cfc =append (_cfc ,_aea );};};if len (_cfc )> 0{_gcb :=_agbc (_cfc ,_agcc ._fcg ,nil ,nil );_ccf =append (_ccf ,_gcb ...);_dff -=len (_cfc );};};_gbf :=new (_e .Buffer );_ccf .writeText (_gbf );_agcc ._bdbg =_gbf .String ();_agcc ._ffae =_ccf .toTextMarks ();_agcc ._eaeb =_ccf .tables ();};

// TableCell is a cell in a TextTable.
type TableCell struct{

// Text is the extracted text.
Text string ;

// Marks returns the TextMarks corresponding to the text in Text.
Marks TextMarkArray ;};func _fbbabd (_cgbb _ec .PdfRectangle )*ruling {return &ruling {_cde :_dfcbe ,_bbaca :_cgbb .Ury ,_fdeee :_cgbb .Llx ,_eegg :_cgbb .Urx };};func (_cfag paraList )log (_cegbf string ){if !_bgdf {return ;};_gf .Log .Info ("%\u0038\u0073\u003a\u0020\u0025\u0064 \u0070\u0061\u0072\u0061\u0073\u0020=\u003d\u003d\u003d\u003d\u003d\u003d\u002d-\u002d\u002d\u002d\u002d\u002d\u003d\u003d\u003d\u003d\u003d=\u003d",_cegbf ,len (_cfag ));for _eccb ,_aafd :=range _cfag {if _aafd ==nil {continue ;};_caef :=_aafd .text ();_cdff :="\u0020\u0020";if _aafd ._addfe !=nil {_cdff =_cca .Sprintf ("\u005b%\u0064\u0078\u0025\u0064\u005d",_aafd ._addfe ._cdfd ,_aafd ._addfe ._dbdg );};_cca .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0025s\u0020\u0025\u0071\u000a",_eccb ,_aafd .PdfRectangle ,_cdff ,_efab (_caef ,50));};};func _aeea (_bfac ,_bdff bounded )float64 {return _bfac .bbox ().Llx -_bdff .bbox ().Urx };func (_dfcdc paraList )findGridTables (_cbaa []gridTiling )[]*textTable {if _cbba {_gf .Log .Info ("\u0066i\u006e\u0064\u0047\u0072\u0069\u0064\u0054\u0061\u0062\u006c\u0065s\u003a\u0020\u0025\u0064\u0020\u0070\u0061\u0072\u0061\u0073",len (_dfcdc ));for _ggcd ,_gbbbb :=range _dfcdc {_cca .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_ggcd ,_gbbbb );};};var _dege []*textTable ;for _bceb ,_dfcbf :=range _cbaa {_fbfdg ,_efae :=_dfcdc .findTableGrid (_dfcbf );if _fbfdg !=nil {_fbfdg .log (_cca .Sprintf ("\u0066\u0069\u006e\u0064Ta\u0062\u006c\u0065\u0057\u0069\u0074\u0068\u0047\u0072\u0069\u0064\u0073\u003a\u0020%\u0064",_bceb ));_dege =append (_dege ,_fbfdg );_fbfdg .markCells ();};for _cagdg :=range _efae {_cagdg ._ecgg =true ;};};if _cbba {_gf .Log .Info ("\u0066i\u006e\u0064\u0047\u0072i\u0064\u0054\u0061\u0062\u006ce\u0073:\u0020%\u0064\u0020\u0074\u0061\u0062\u006c\u0065s",len (_dege ));};return _dege ;};func (_ebd *wordBag )firstReadingIndex (_ddeg int )int {_aecee :=_ebd .firstWord (_ddeg )._fdbea ;_aebc :=float64 (_ddeg +1)*_ebcfe ;_aaeg :=_aebc +_ddadg *_aecee ;_accc :=_ddeg ;for _ ,_egff :=range _ebd .depthBand (_aebc ,_aaeg ){if _agee (_ebd .firstWord (_egff ),_ebd .firstWord (_accc ))< 0{_accc =_egff ;};};return _accc ;};func _eddad (_fgfa _ec .PdfRectangle ,_bgga ,_bbee ,_dafa ,_gaae *ruling )gridTile {_abcd :=_fgfa .Llx ;_ageae :=_fgfa .Urx ;_gbbd :=_fgfa .Lly ;_degge :=_fgfa .Ury ;return gridTile {PdfRectangle :_fgfa ,_faeg :_bgga !=nil &&_bgga .encloses (_gbbd ,_degge ),_ddabd :_bbee !=nil &&_bbee .encloses (_gbbd ,_degge ),_ceee :_dafa !=nil &&_dafa .encloses (_abcd ,_ageae ),_fgfed :_gaae !=nil &&_gaae .encloses (_abcd ,_ageae )};};func _abeb (_baeb _ec .PdfRectangle )*ruling {return &ruling {_cde :_dfcbe ,_bbaca :_baeb .Lly ,_fdeee :_baeb .Llx ,_eegg :_baeb .Urx };};func (_dfff *wordBag )getDepthIdx (_gabf float64 )int {_fggbd :=_dfff .depthIndexes ();_gdee :=_cccb (_gabf );if _gdee < _fggbd [0]{return _fggbd [0];};if _gdee > _fggbd [len (_fggbd )-1]{return _fggbd [len (_fggbd )-1];};return _gdee ;};func _ebcg (_aeed _ec .PdfColorspace ,_cadcc _ec .PdfColor )_cc .Color {if _aeed ==nil ||_cadcc ==nil {return _cc .Black ;};_ccef ,_gbcc :=_aeed .ColorToRGB (_cadcc );if _gbcc !=nil {_gf .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006fu\u006c\u0064\u0020no\u0074\u0020\u0063\u006f\u006e\u0076e\u0072\u0074\u0020\u0063\u006f\u006c\u006f\u0072\u0020\u0025\u0076\u0020\u0028\u0025\u0076)\u0020\u0074\u006f\u0020\u0052\u0047\u0042\u003a \u0025\u0073",_cadcc ,_aeed ,_gbcc );return _cc .Black ;};_fgefa ,_bggdc :=_ccef .(*_ec .PdfColorDeviceRGB );if !_bggdc {_gf .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0065\u0064 \u0063\u006f\u006c\u006f\u0072\u0020\u0069\u0073\u0020\u006e\u006f\u0074\u0020i\u006e\u0020\u0074\u0068\u0065\u0020\u0052\u0047\u0042\u0020\u0063\u006flo\u0072\u0073\u0070\u0061\u0063\u0065\u003a\u0020\u0025\u0076",_ccef );return _cc .Black ;};return _cc .NRGBA {R :uint8 (_fgefa .R ()*255),G :uint8 (_fgefa .G ()*255),B :uint8 (_fgefa .B ()*255),A :uint8 (255)};};func (_edcd *textWord )absorb (_ceeb *textWord ){_edcd .PdfRectangle =_debb (_edcd .PdfRectangle ,_ceeb .PdfRectangle );_edcd ._gceab =append (_edcd ._gceab ,_ceeb ._gceab ...);};func (_aggc *textObject )setHorizScaling (_dadf float64 ){if _aggc ==nil {return ;};_aggc ._ccc ._agfb =_dadf ;};func (_cbfe rulingList )mergePrimary ()float64 {_agdb :=_cbfe [0]._bbaca ;for _ ,_baca :=range _cbfe [1:]{_agdb +=_baca ._bbaca ;};return _agdb /float64 (len (_cbfe ));};

// ExtractPageImages returns the image contents of the page extractor, including data
// and position, size information for each image.
// A set of options to control page image extraction can be passed in. The options
// parameter can be nil for the default options. By default, inline stencil masks
// are not extracted.
func (_db *Extractor )ExtractPageImages (options *ImageExtractOptions )(*PageImages ,error ){_dbg :=&imageExtractContext {_fge :options };_dgd :=_dbg .extractContentStreamImages (_db ._da ,_db ._bg );if _dgd !=nil {return nil ,_dgd ;};return &PageImages {Images :_dbg ._ce },nil ;};func (_dbba *wordBag )depthIndexes ()[]int {if len (_dbba ._gcef )==0{return nil ;};_feedf :=make ([]int ,len (_dbba ._gcef ));_aaf :=0;for _bbff :=range _dbba ._gcef {_feedf [_aaf ]=_bbff ;_aaf ++;};_fb .Ints (_feedf );return _feedf ;};func (_fgadb paraList )extractTables (_accga []gridTiling )paraList {if _cbba {_gf .Log .Debug ("\u0065\u0078\u0074r\u0061\u0063\u0074\u0054\u0061\u0062\u006c\u0065\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_fgadb ));};if len (_fgadb )< _dgag {return _fgadb ;};_bbef :=_fgadb .findTables (_accga );if _cbba {_gf .Log .Info ("c\u006f\u006d\u0062\u0069\u006e\u0065d\u0020\u0074\u0061\u0062\u006c\u0065s\u0020\u0025\u0064\u0020\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d",len (_bbef ));for _fgca ,_dfcbc :=range _bbef {_dfcbc .log (_cca .Sprintf ("c\u006f\u006d\u0062\u0069\u006e\u0065\u0064\u0020\u0025\u0064",_fgca ));};};return _fgadb .applyTables (_bbef );};func (_ebefa *textWord )toTextMarks (_bgdfc *int )[]TextMark {var _cfeb []TextMark ;for _ ,_fdgea :=range _ebefa ._gceab {_cfeb =_gfcb (_cfeb ,_bgdfc ,_fdgea .ToTextMark ());};return _cfeb ;};
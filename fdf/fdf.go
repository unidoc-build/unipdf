//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_ac "bufio";_ag "bytes";_gf "encoding/hex";_b "errors";_d "fmt";_ca "github.com/unidoc/unipdf/v3/common";_df "github.com/unidoc/unipdf/v3/core";_gfd "io";_gg "os";_g "regexp";_f "sort";_a "strconv";_bf "strings";);func _ffg (_gfe string )(_df .PdfObjectReference ,error ){_aca :=_df .PdfObjectReference {};_fga :=_fcb .FindStringSubmatch (_gfe );if len (_fga )< 3{_ca .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");return _aca ,_b .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");};_fbf ,_cbb :=_a .Atoi (_fga [1]);if _cbb !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_fga [1]);return _aca ,nil ;};_aca .ObjectNumber =int64 (_fbf );_gaa ,_cbb :=_a .Atoi (_fga [2]);if _cbb !=nil {_ca .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_fga [2]);return _aca ,nil ;};_aca .GenerationNumber =int64 (_gaa );return _aca ,nil ;};var _bfb =_g .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");func (_cdec *fdfParser )seekToEOFMarker (_ceca int64 )error {_gbc :=int64 (0);_fed :=int64 (1000);for _gbc < _ceca {if _ceca <=(_fed +_gbc ){_fed =_ceca -_gbc ;};_ ,_acgb :=_cdec ._ccb .Seek (-_gbc -_fed ,_gfd .SeekEnd );if _acgb !=nil {return _acgb ;};_acde :=make ([]byte ,_fed );_cdec ._ccb .Read (_acde );_ca .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_acde ));_fec :=_dd .FindAllStringIndex (string (_acde ),-1);if _fec !=nil {_bag :=_fec [len (_fec )-1];_ca .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_fec );_cdec ._ccb .Seek (-_gbc -_fed +int64 (_bag [0]),_gfd .SeekEnd );return nil ;};_ca .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");_gbc +=_fed ;};_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _b .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};var _gb =_g .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");func _ebg (_acee string )(*fdfParser ,error ){_agg :=fdfParser {};_fba :=[]byte (_acee );_gegb :=_ag .NewReader (_fba );_agg ._ccb =_gegb ;_agg ._beac =map[int64 ]_df .PdfObject {};_gec :=_ac .NewReader (_gegb );_agg ._geb =_gec ;_agg ._ad =int64 (len (_acee ));return &_agg ,_agg .parse ();};func (_dgb *fdfParser )skipSpaces ()(int ,error ){_ba :=0;for {_ed ,_cb :=_dgb ._geb .ReadByte ();if _cb !=nil {return 0,_cb ;};if _df .IsWhiteSpace (_ed ){_ba ++;}else {_dgb ._geb .UnreadByte ();break ;};};return _ba ,nil ;};var _fe =_g .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");func (_gbg *fdfParser )parseName ()(_df .PdfObjectName ,error ){var _fad _ag .Buffer ;_ggfa :=false ;for {_gcb ,_afd :=_gbg ._geb .Peek (1);if _afd ==_gfd .EOF {break ;};if _afd !=nil {return _df .PdfObjectName (_fad .String ()),_afd ;};if !_ggfa {if _gcb [0]=='/'{_ggfa =true ;_gbg ._geb .ReadByte ();}else if _gcb [0]=='%'{_gbg .readComment ();_gbg .skipSpaces ();}else {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_gcb ,_gcb );return _df .PdfObjectName (_fad .String ()),_d .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_gcb [0]);};}else {if _df .IsWhiteSpace (_gcb [0]){break ;}else if (_gcb [0]=='/')||(_gcb [0]=='[')||(_gcb [0]=='(')||(_gcb [0]==']')||(_gcb [0]=='<')||(_gcb [0]=='>'){break ;}else if _gcb [0]=='#'{_dacg ,_cab :=_gbg ._geb .Peek (3);if _cab !=nil {return _df .PdfObjectName (_fad .String ()),_cab ;};_gbg ._geb .Discard (3);_ace ,_cab :=_gf .DecodeString (string (_dacg [1:3]));if _cab !=nil {return _df .PdfObjectName (_fad .String ()),_cab ;};_fad .Write (_ace );}else {_ega ,_ :=_gbg ._geb .ReadByte ();_fad .WriteByte (_ega );};};};return _df .PdfObjectName (_fad .String ()),nil ;};var _fcb =_g .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");

// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_df .PdfObject ,error ){_agc ,_fde :=fdf .FieldDictionaries ();if _fde !=nil {return nil ,_fde ;};var _eg []string ;for _da :=range _agc {_eg =append (_eg ,_da );};_f .Strings (_eg );_fc :=map[string ]_df .PdfObject {};for _ ,_eb :=range _eg {_fcg :=_agc [_eb ];_fb :=_df .TraceToDirectObject (_fcg .Get ("\u0056"));_fc [_eb ]=_fb ;};return _fc ,nil ;};func (_cbc *fdfParser )parseArray ()(*_df .PdfObjectArray ,error ){_ec :=_df .MakeArray ();_cbc ._geb .ReadByte ();for {_cbc .skipSpaces ();_bae ,_ee :=_cbc ._geb .Peek (1);if _ee !=nil {return _ec ,_ee ;};if _bae [0]==']'{_cbc ._geb .ReadByte ();break ;};_ggfg ,_ee :=_cbc .parseObject ();if _ee !=nil {return _ec ,_ee ;};_ec .Append (_ggfg );};return _ec ,nil ;};

// Root returns the Root of the FDF document.
func (_dfd *fdfParser )Root ()(*_df .PdfObjectDictionary ,error ){if _dfd ._ae !=nil {if _ebag ,_ddc :=_dfd .trace (_dfd ._ae .Get ("\u0052\u006f\u006f\u0074")).(*_df .PdfObjectDictionary );_ddc {if _ebad ,_dge :=_dfd .trace (_ebag .Get ("\u0046\u0044\u0046")).(*_df .PdfObjectDictionary );_dge {return _ebad ,nil ;};};};var _gdd []int64 ;for _edd :=range _dfd ._beac {_gdd =append (_gdd ,_edd );};_f .Slice (_gdd ,func (_eaed ,_dgeg int )bool {return _gdd [_eaed ]< _gdd [_dgeg ]});for _ ,_ebd :=range _gdd {_ccbf :=_dfd ._beac [_ebd ];if _edbb ,_aad :=_dfd .trace (_ccbf ).(*_df .PdfObjectDictionary );_aad {if _cfca ,_ece :=_dfd .trace (_edbb .Get ("\u0046\u0044\u0046")).(*_df .PdfObjectDictionary );_ece {return _cfca ,nil ;};};};return nil ,_b .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};func (_gcbd *fdfParser )parseBool ()(_df .PdfObjectBool ,error ){_acf ,_dde :=_gcbd ._geb .Peek (4);if _dde !=nil {return _df .PdfObjectBool (false ),_dde ;};if (len (_acf )>=4)&&(string (_acf [:4])=="\u0074\u0072\u0075\u0065"){_gcbd ._geb .Discard (4);return _df .PdfObjectBool (true ),nil ;};_acf ,_dde =_gcbd ._geb .Peek (5);if _dde !=nil {return _df .PdfObjectBool (false ),_dde ;};if (len (_acf )>=5)&&(string (_acf [:5])=="\u0066\u0061\u006cs\u0065"){_gcbd ._geb .Discard (5);return _df .PdfObjectBool (false ),nil ;};return _df .PdfObjectBool (false ),_b .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");};type fdfParser struct{_af int ;_ce int ;_beac map[int64 ]_df .PdfObject ;_ccb _gfd .ReadSeeker ;_geb *_ac .Reader ;_ad int64 ;_ae *_df .PdfObjectDictionary ;};

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_df .PdfObjectDictionary ,error ){_dg :=map[string ]*_df .PdfObjectDictionary {};for _db :=0;_db < fdf ._be .Len ();_db ++{_ggf ,_bg :=_df .GetDict (fdf ._be .Get (_db ));if _bg {_aa ,_ :=_df .GetString (_ggf .Get ("\u0054"));if _aa !=nil {_dg [_aa .Str ()]=_ggf ;};};};return _dg ,nil ;};func (_eaa *fdfParser )parseIndirectObject ()(_df .PdfObject ,error ){_fedc :=_df .PdfIndirectObject {};_ca .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");_gde ,_bd :=_eaa ._geb .Peek (20);if _bd !=nil {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");return &_fedc ,_bd ;};_ca .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_gde ));_afc :=_dda .FindStringSubmatchIndex (string (_gde ));if len (_afc )< 6{_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_gde ));return &_fedc ,_b .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");};_eaa ._geb .Discard (_afc [0]);_ca .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_afc );_fce :=_afc [1]-_afc [0];_cag :=make ([]byte ,_fce );_ ,_bd =_eaa .readAtLeast (_cag ,_fce );if _bd !=nil {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_bd );return nil ,_bd ;};_ca .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_cag );_fbgb :=_dda .FindStringSubmatch (string (_cag ));if len (_fbgb )< 3{_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_cag ));return &_fedc ,_b .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");};_aag ,_ :=_a .Atoi (_fbgb [1]);_gaf ,_ :=_a .Atoi (_fbgb [2]);_fedc .ObjectNumber =int64 (_aag );_fedc .GenerationNumber =int64 (_gaf );for {_cga ,_bfbe :=_eaa ._geb .Peek (2);if _bfbe !=nil {return &_fedc ,_bfbe ;};_ca .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_cga ),string (_cga ));if _df .IsWhiteSpace (_cga [0]){_eaa .skipSpaces ();}else if _cga [0]=='%'{_eaa .skipComments ();}else if (_cga [0]=='<')&&(_cga [1]=='<'){_ca .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_fedc .PdfObject ,_bfbe =_eaa .parseDict ();_ca .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_bfbe );if _bfbe !=nil {return &_fedc ,_bfbe ;};_ca .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");}else if (_cga [0]=='/')||(_cga [0]=='(')||(_cga [0]=='[')||(_cga [0]=='<'){_fedc .PdfObject ,_bfbe =_eaa .parseObject ();if _bfbe !=nil {return &_fedc ,_bfbe ;};_ca .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");}else {if _cga [0]=='e'{_gba ,_ebe :=_eaa .readTextLine ();if _ebe !=nil {return nil ,_ebe ;};if len (_gba )>=6&&_gba [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _cga [0]=='s'{_cga ,_ =_eaa ._geb .Peek (10);if string (_cga [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_ggca :=6;if len (_cga )> 6{if _df .IsWhiteSpace (_cga [_ggca ])&&_cga [_ggca ]!='\r'&&_cga [_ggca ]!='\n'{_ca .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");_ggca ++;};if _cga [_ggca ]=='\r'{_ggca ++;if _cga [_ggca ]=='\n'{_ggca ++;};}else if _cga [_ggca ]=='\n'{_ggca ++;};};_eaa ._geb .Discard (_ggca );_aed ,_gcd :=_fedc .PdfObject .(*_df .PdfObjectDictionary );if !_gcd {return nil ,_b .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");};_ca .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_aed );_cdf ,_ecb :=_aed .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_df .PdfObjectInteger );if !_ecb {return nil ,_b .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");};_abd :=*_cdf ;if _abd < 0{return nil ,_b .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_abd )> _eaa ._ad {_ca .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");return nil ,_b .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_gca :=make ([]byte ,_abd );_ ,_bfbe =_eaa .readAtLeast (_gca ,int (_abd ));if _bfbe !=nil {_ca .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_gca ),_gca );_ca .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_bfbe );return nil ,_bfbe ;};_gbe :=_df .PdfObjectStream {};_gbe .Stream =_gca ;_gbe .PdfObjectDictionary =_fedc .PdfObject .(*_df .PdfObjectDictionary );_gbe .ObjectNumber =_fedc .ObjectNumber ;_gbe .GenerationNumber =_fedc .GenerationNumber ;_eaa .skipSpaces ();_eaa ._geb .Discard (9);_eaa .skipSpaces ();return &_gbe ,nil ;};};_fedc .PdfObject ,_bfbe =_eaa .parseObject ();return &_fedc ,_bfbe ;};};_ca .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");return &_fedc ,nil ;};func (_gcg *fdfParser )readAtLeast (_faf []byte ,_dfe int )(int ,error ){_bfe :=_dfe ;_acd :=0;_aga :=0;for _bfe > 0{_ge ,_egc :=_gcg ._geb .Read (_faf [_acd :]);if _egc !=nil {_ca .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_ge ,_aga ,_egc .Error ());return _acd ,_b .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");};_aga ++;_acd +=_ge ;_bfe -=_ge ;};return _acd ,nil ;};var _dd =_g .MustCompile ("\u0025\u0025\u0045O\u0046");func (_ff *fdfParser )readComment ()(string ,error ){var _gfdf _ag .Buffer ;_ ,_geg :=_ff .skipSpaces ();if _geg !=nil {return _gfdf .String (),_geg ;};_ggd :=true ;for {_ddd ,_acg :=_ff ._geb .Peek (1);if _acg !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_acg .Error ());return _gfdf .String (),_acg ;};if _ggd &&_ddd [0]!='%'{return _gfdf .String (),_b .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");};_ggd =false ;if (_ddd [0]!='\r')&&(_ddd [0]!='\n'){_cf ,_ :=_ff ._geb .ReadByte ();_gfdf .WriteByte (_cf );}else {break ;};};return _gfdf .String (),nil ;};func (_beb *fdfParser )parseFdfVersion ()(int ,int ,error ){_beb ._ccb .Seek (0,_gfd .SeekStart );_faff :=20;_agab :=make ([]byte ,_faff );_beb ._ccb .Read (_agab );_ada :=_bfb .FindStringSubmatch (string (_agab ));if len (_ada )< 3{_beg ,_aabb ,_eca :=_beb .seekFdfVersionTopDown ();if _eca !=nil {_ca .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");return 0,0,_eca ;};return _beg ,_aabb ,nil ;};_cfgc ,_cec :=_a .Atoi (_ada [1]);if _cec !=nil {return 0,0,_cec ;};_dfeg ,_cec :=_a .Atoi (_ada [2]);if _cec !=nil {return 0,0,_cec ;};_ca .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_cfgc ,_dfeg );return _cfgc ,_dfeg ,nil ;};func (_aaf *fdfParser )skipComments ()error {if _ ,_fgf :=_aaf .skipSpaces ();_fgf !=nil {return _fgf ;};_bad :=true ;for {_ccfb ,_fdd :=_aaf ._geb .Peek (1);if _fdd !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_fdd .Error ());return _fdd ;};if _bad &&_ccfb [0]!='%'{return nil ;};_bad =false ;if (_ccfb [0]!='\r')&&(_ccfb [0]!='\n'){_aaf ._geb .ReadByte ();}else {break ;};};return _aaf .skipComments ();};func (_gbb *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_gbb ._ccb .Seek (0,_gfd .SeekStart );_gbb ._geb =_ac .NewReader (_gbb ._ccb );_edbbe :=20;_gcc :=make ([]byte ,_edbbe );for {_aadd ,_bgd :=_gbb ._geb .ReadByte ();if _bgd !=nil {if _bgd ==_gfd .EOF {break ;}else {return 0,0,_bgd ;};};if _df .IsDecimalDigit (_aadd )&&_gcc [_edbbe -1]=='.'&&_df .IsDecimalDigit (_gcc [_edbbe -2])&&_gcc [_edbbe -3]=='-'&&_gcc [_edbbe -4]=='F'&&_gcc [_edbbe -5]=='D'&&_gcc [_edbbe -6]=='P'{_gfb :=int (_gcc [_edbbe -2]-'0');_bagb :=int (_aadd -'0');return _gfb ,_bagb ,nil ;};_gcc =append (_gcc [1:_edbbe ],_aadd );};return 0,0,_b .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};func (_dfc *fdfParser )getFileOffset ()int64 {_cc ,_ :=_dfc ._ccb .Seek (0,_gfd .SeekCurrent );_cc -=int64 (_dfc ._geb .Buffered ());return _cc ;};

// Data represents forms data format (FDF) file data.
type Data struct{_fd *_df .PdfObjectDictionary ;_be *_df .PdfObjectArray ;};

// Load loads FDF form data from `r`.
func Load (r _gfd .ReadSeeker )(*Data ,error ){_cd ,_ab :=_ef (r );if _ab !=nil {return nil ,_ab ;};_cg ,_ab :=_cd .Root ();if _ab !=nil {return nil ,_ab ;};_fg ,_fdf :=_df .GetArray (_cg .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_fdf {return nil ,_b .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");};return &Data {_be :_fg ,_fd :_cg },nil ;};

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_fa ,_ga :=_gg .Open (fdfPath );if _ga !=nil {return nil ,_ga ;};defer _fa .Close ();return Load (_fa );};func (_bcd *fdfParser )parseObject ()(_df .PdfObject ,error ){_ca .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");_bcd .skipSpaces ();for {_cfg ,_dgc :=_bcd ._geb .Peek (2);if _dgc !=nil {return nil ,_dgc ;};_ca .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_cfg ));if _cfg [0]=='/'{_dc ,_fbfg :=_bcd .parseName ();_ca .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_dc );return &_dc ,_fbfg ;}else if _cfg [0]=='('{_ca .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _bcd .parseString ();}else if _cfg [0]=='['{_ca .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");return _bcd .parseArray ();}else if (_cfg [0]=='<')&&(_cfg [1]=='<'){_ca .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _bcd .parseDict ();}else if _cfg [0]=='<'{_ca .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");return _bcd .parseHexString ();}else if _cfg [0]=='%'{_bcd .readComment ();_bcd .skipSpaces ();}else {_ca .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_cfg ,_ =_bcd ._geb .Peek (15);_fbe :=string (_cfg );_ca .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_fbe );if (len (_fbe )> 3)&&(_fbe [:4]=="\u006e\u0075\u006c\u006c"){_agfe ,_eae :=_bcd .parseNull ();return &_agfe ,_eae ;}else if (len (_fbe )> 4)&&(_fbe [:5]=="\u0066\u0061\u006cs\u0065"){_ceeb ,_cffa :=_bcd .parseBool ();return &_ceeb ,_cffa ;}else if (len (_fbe )> 3)&&(_fbe [:4]=="\u0074\u0072\u0075\u0065"){_edg ,_eba :=_bcd .parseBool ();return &_edg ,_eba ;};_bgbg :=_fcb .FindStringSubmatch (_fbe );if len (_bgbg )> 1{_cfg ,_ =_bcd ._geb .ReadBytes ('R');_ca .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_cfg [:]));_bb ,_de :=_ffg (string (_cfg ));return &_bb ,_de ;};_cfb :=_gb .FindStringSubmatch (_fbe );if len (_cfb )> 1{_ca .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _bcd .parseNumber ();};_cfb =_fe .FindStringSubmatch (_fbe );if len (_cfb )> 1{_ca .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");_ca .Log .Trace ("\u0025\u0020\u0073",_cfb );return _bcd .parseNumber ();};_ca .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_fbe );return nil ,_b .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");};};};func (_gegbg *fdfParser )parse ()error {_gegbg ._ccb .Seek (0,_gfd .SeekStart );_gegbg ._geb =_ac .NewReader (_gegbg ._ccb );for {_gegbg .skipComments ();_eef ,_dcd :=_gegbg ._geb .Peek (20);if _dcd !=nil {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");return _dcd ;};if _bf .HasPrefix (string (_eef ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_gegbg ._geb .Discard (7);_gegbg .skipSpaces ();_gegbg .skipComments ();_gbad ,_ :=_gegbg .parseDict ();_gegbg ._ae =_gbad ;break ;};_ggfb :=_dda .FindStringSubmatchIndex (string (_eef ));if len (_ggfb )< 6{_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_eef ));return _b .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");};_cfe ,_dcd :=_gegbg .parseIndirectObject ();if _dcd !=nil {return _dcd ;};switch _efc :=_cfe .(type ){case *_df .PdfIndirectObject :_gegbg ._beac [_efc .ObjectNumber ]=_efc ;case *_df .PdfObjectStream :_gegbg ._beac [_efc .ObjectNumber ]=_efc ;default:return _b .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");};};return nil ;};func (_gd *fdfParser )parseNull ()(_df .PdfObjectNull ,error ){_ ,_cff :=_gd ._geb .Discard (4);return _df .PdfObjectNull {},_cff ;};func (_agcc *fdfParser )setFileOffset (_ccf int64 ){_agcc ._ccb .Seek (_ccf ,_gfd .SeekStart );_agcc ._geb =_ac .NewReader (_agcc ._ccb );};func (_bed *fdfParser )readTextLine ()(string ,error ){var _bgb _ag .Buffer ;for {_gga ,_fbg :=_bed ._geb .Peek (1);if _fbg !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_fbg .Error ());return _bgb .String (),_fbg ;};if (_gga [0]!='\r')&&(_gga [0]!='\n'){_agd ,_ :=_bed ._geb .ReadByte ();_bgb .WriteByte (_agd );}else {break ;};};return _bgb .String (),nil ;};func (_aeg *fdfParser )parseHexString ()(*_df .PdfObjectString ,error ){_aeg ._geb .ReadByte ();var _gfg _ag .Buffer ;for {_cea ,_edb :=_aeg ._geb .Peek (1);if _edb !=nil {return _df .MakeHexString (""),_edb ;};if _cea [0]=='>'{_aeg ._geb .ReadByte ();break ;};_dfa ,_ :=_aeg ._geb .ReadByte ();if !_df .IsWhiteSpace (_dfa ){_gfg .WriteByte (_dfa );};};if _gfg .Len ()%2==1{_gfg .WriteRune ('0');};_fada ,_gea :=_gf .DecodeString (_gfg .String ());if _gea !=nil {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_gfg .String ());return _df .MakeHexString (""),nil ;};return _df .MakeHexString (string (_fada )),nil ;};func (_fac *fdfParser )parseString ()(*_df .PdfObjectString ,error ){_fac ._geb .ReadByte ();var _bc _ag .Buffer ;_egaa :=1;for {_dfea ,_bca :=_fac ._geb .Peek (1);if _bca !=nil {return _df .MakeString (_bc .String ()),_bca ;};if _dfea [0]=='\\'{_fac ._geb .ReadByte ();_cee ,_cde :=_fac ._geb .ReadByte ();if _cde !=nil {return _df .MakeString (_bc .String ()),_cde ;};if _df .IsOctalDigit (_cee ){_agf ,_agfb :=_fac ._geb .Peek (2);if _agfb !=nil {return _df .MakeString (_bc .String ()),_agfb ;};var _fff []byte ;_fff =append (_fff ,_cee );for _ ,_bff :=range _agf {if _df .IsOctalDigit (_bff ){_fff =append (_fff ,_bff );}else {break ;};};_fac ._geb .Discard (len (_fff )-1);_ca .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_fff );_gbgc ,_agfb :=_a .ParseUint (string (_fff ),8,32);if _agfb !=nil {return _df .MakeString (_bc .String ()),_agfb ;};_bc .WriteByte (byte (_gbgc ));continue ;};switch _cee {case 'n':_bc .WriteRune ('\n');case 'r':_bc .WriteRune ('\r');case 't':_bc .WriteRune ('\t');case 'b':_bc .WriteRune ('\b');case 'f':_bc .WriteRune ('\f');case '(':_bc .WriteRune ('(');case ')':_bc .WriteRune (')');case '\\':_bc .WriteRune ('\\');};continue ;}else if _dfea [0]=='('{_egaa ++;}else if _dfea [0]==')'{_egaa --;if _egaa ==0{_fac ._geb .ReadByte ();break ;};};_ggc ,_ :=_fac ._geb .ReadByte ();_bc .WriteByte (_ggc );};return _df .MakeString (_bc .String ()),nil ;};func (_cba *fdfParser )trace (_abc _df .PdfObject )_df .PdfObject {switch _gff :=_abc .(type ){case *_df .PdfObjectReference :_ege ,_caa :=_cba ._beac [_gff .ObjectNumber ].(*_df .PdfIndirectObject );if _caa {return _ege .PdfObject ;};_ca .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_df .PdfIndirectObject :return _gff .PdfObject ;};return _abc ;};var _dda =_g .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");func (_dab *fdfParser )parseNumber ()(_df .PdfObject ,error ){return _df .ParseNumber (_dab ._geb )};func (_fdfd *fdfParser )parseDict ()(*_df .PdfObjectDictionary ,error ){_ca .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");_gee :=_df .MakeDict ();_acb ,_ :=_fdfd ._geb .ReadByte ();if _acb !='<'{return nil ,_b .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};_acb ,_ =_fdfd ._geb .ReadByte ();if _acb !='<'{return nil ,_b .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};for {_fdfd .skipSpaces ();_fdfd .skipComments ();_fag ,_agag :=_fdfd ._geb .Peek (2);if _agag !=nil {return nil ,_agag ;};_ca .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_fag ),string (_fag ));if (_fag [0]=='>')&&(_fag [1]=='>'){_ca .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");_fdfd ._geb .ReadByte ();_fdfd ._geb .ReadByte ();break ;};_ca .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");_gcbc ,_agag :=_fdfd .parseName ();_ca .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_gcbc );if _agag !=nil {_ca .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_agag );return nil ,_agag ;};if len (_gcbc )> 4&&_gcbc [len (_gcbc )-4:]=="\u006e\u0075\u006c\u006c"{_ggad :=_gcbc [0:len (_gcbc )-4];_ca .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_gcbc );_ca .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_ggad );_fdfd .skipSpaces ();_ceee ,_ :=_fdfd ._geb .Peek (1);if _ceee [0]=='/'{_gee .Set (_ggad ,_df .MakeNull ());continue ;};};_fdfd .skipSpaces ();_gcbb ,_agag :=_fdfd .parseObject ();if _agag !=nil {return nil ,_agag ;};_gee .Set (_gcbc ,_gcbb );_ca .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_gcbc ,_gcbb .String ());};_ca .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");return _gee ,nil ;};func _ef (_ecf _gfd .ReadSeeker )(*fdfParser ,error ){_agfa :=&fdfParser {};_agfa ._ccb =_ecf ;_agfa ._beac =map[int64 ]_df .PdfObject {};_eag ,_add ,_bacf :=_agfa .parseFdfVersion ();if _bacf !=nil {_ca .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_bacf );return nil ,_bacf ;};_agfa ._af =_eag ;_agfa ._ce =_add ;_bacf =_agfa .parse ();return _agfa ,_bacf ;};
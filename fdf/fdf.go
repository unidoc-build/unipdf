//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_d "bufio";_a "bytes";_fb "encoding/hex";_f "errors";_cb "fmt";_dda "github.com/unidoc/unipdf/v3/common";_gf "github.com/unidoc/unipdf/v3/core";_e "io";_g "os";_be "regexp";_dd "sort";_bd "strconv";_c "strings";);

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_ge ,_cf :=_g .Open (fdfPath );if _cf !=nil {return nil ,_cf ;};defer _ge .Close ();return Load (_ge );};func (_gbd *fdfParser )readAtLeast (_bf []byte ,_ce int )(int ,error ){_df :=_ce ;_edd :=0;_cg :=0;
for _df > 0{_dg ,_db :=_gbd ._ffg .Read (_bf [_edd :]);if _db !=nil {_dda .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_dg ,_cg ,_db .Error ());
return _edd ,_f .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");};_cg ++;_edd +=_dg ;_df -=_dg ;};return _edd ,nil ;};var _dgf =_be .MustCompile ("\u0025\u0025\u0045O\u0046");func (_fg *fdfParser )parseArray ()(*_gf .PdfObjectArray ,error ){_fgf :=_gf .MakeArray ();
_fg ._ffg .ReadByte ();for {_fg .skipSpaces ();_dgfb ,_badf :=_fg ._ffg .Peek (1);if _badf !=nil {return _fgf ,_badf ;};if _dgfb [0]==']'{_fg ._ffg .ReadByte ();break ;};_dgc ,_badf :=_fg .parseObject ();if _badf !=nil {return _fgf ,_badf ;};_fgf .Append (_dgc );
};return _fgf ,nil ;};func (_ffff *fdfParser )parseIndirectObject ()(_gf .PdfObject ,error ){_egf :=_gf .PdfIndirectObject {};_dda .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");_cfd ,_ffgg :=_ffff ._ffg .Peek (20);
if _ffgg !=nil {_dda .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");return &_egf ,_ffgg ;};_dda .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_cfd ));
_cdg :=_cag .FindStringSubmatchIndex (string (_cfd ));if len (_cdg )< 6{_dda .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_cfd ));
return &_egf ,_f .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_ffff ._ffg .Discard (_cdg [0]);_dda .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_cdg );_bdd :=_cdg [1]-_cdg [0];_bee :=make ([]byte ,_bdd );_ ,_ffgg =_ffff .readAtLeast (_bee ,_bdd );if _ffgg !=nil {_dda .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_ffgg );
return nil ,_ffgg ;};_dda .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_bee );_fcf :=_cag .FindStringSubmatch (string (_bee ));if len (_fcf )< 3{_dda .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_bee ));
return &_egf ,_f .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_dc ,_ :=_bd .Atoi (_fcf [1]);_aegb ,_ :=_bd .Atoi (_fcf [2]);_egf .ObjectNumber =int64 (_dc );_egf .GenerationNumber =int64 (_aegb );for {_afb ,_dbb :=_ffff ._ffg .Peek (2);if _dbb !=nil {return &_egf ,_dbb ;};_dda .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_afb ),string (_afb ));
if _gf .IsWhiteSpace (_afb [0]){_ffff .skipSpaces ();}else if _afb [0]=='%'{_ffff .skipComments ();}else if (_afb [0]=='<')&&(_afb [1]=='<'){_dda .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_egf .PdfObject ,_dbb =_ffff .parseDict ();
_dda .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_dbb );if _dbb !=nil {return &_egf ,_dbb ;};_dda .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");
}else if (_afb [0]=='/')||(_afb [0]=='(')||(_afb [0]=='[')||(_afb [0]=='<'){_egf .PdfObject ,_dbb =_ffff .parseObject ();if _dbb !=nil {return &_egf ,_dbb ;};_dda .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");
}else {if _afb [0]=='e'{_gbg ,_agg :=_ffff .readTextLine ();if _agg !=nil {return nil ,_agg ;};if len (_gbg )>=6&&_gbg [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _afb [0]=='s'{_afb ,_ =_ffff ._ffg .Peek (10);if string (_afb [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_bef :=6;
if len (_afb )> 6{if _gf .IsWhiteSpace (_afb [_bef ])&&_afb [_bef ]!='\r'&&_afb [_bef ]!='\n'{_dda .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");
_bef ++;};if _afb [_bef ]=='\r'{_bef ++;if _afb [_bef ]=='\n'{_bef ++;};}else if _afb [_bef ]=='\n'{_bef ++;};};_ffff ._ffg .Discard (_bef );_ebeb ,_bdf :=_egf .PdfObject .(*_gf .PdfObjectDictionary );if !_bdf {return nil ,_f .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");
};_dda .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_ebeb );_aea ,_cedg :=_ebeb .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_gf .PdfObjectInteger );if !_cedg {return nil ,_f .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");
};_fbgd :=*_aea ;if _fbgd < 0{return nil ,_f .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_fbgd )> _ffff ._cbf {_dda .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");
return nil ,_f .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_bddd :=make ([]byte ,_fbgd );
_ ,_dbb =_ffff .readAtLeast (_bddd ,int (_fbgd ));if _dbb !=nil {_dda .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_bddd ),_bddd );_dda .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_dbb );
return nil ,_dbb ;};_bgc :=_gf .PdfObjectStream {};_bgc .Stream =_bddd ;_bgc .PdfObjectDictionary =_egf .PdfObject .(*_gf .PdfObjectDictionary );_bgc .ObjectNumber =_egf .ObjectNumber ;_bgc .GenerationNumber =_egf .GenerationNumber ;_ffff .skipSpaces ();
_ffff ._ffg .Discard (9);_ffff .skipSpaces ();return &_bgc ,nil ;};};_egf .PdfObject ,_dbb =_ffff .parseObject ();return &_egf ,_dbb ;};};_dda .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");
return &_egf ,nil ;};var _cbg =_be .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");

// Data represents forms data format (FDF) file data.
type Data struct{_fd *_gf .PdfObjectDictionary ;_fe *_gf .PdfObjectArray ;};func (_bcac *fdfParser )skipComments ()error {if _ ,_aec :=_bcac .skipSpaces ();_aec !=nil {return _aec ;};_cde :=true ;for {_da ,_caf :=_bcac ._ffg .Peek (1);if _caf !=nil {_dda .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_caf .Error ());
return _caf ;};if _cde &&_da [0]!='%'{return nil ;};_cde =false ;if (_da [0]!='\r')&&(_da [0]!='\n'){_bcac ._ffg .ReadByte ();}else {break ;};};return _bcac .skipComments ();};type fdfParser struct{_fdc int ;_fbg int ;_agf map[int64 ]_gf .PdfObject ;_aeb _e .ReadSeeker ;
_ffg *_d .Reader ;_cbf int64 ;_gee *_gf .PdfObjectDictionary ;};func (_ea *fdfParser )readComment ()(string ,error ){var _bge _a .Buffer ;_ ,_bffc :=_ea .skipSpaces ();if _bffc !=nil {return _bge .String (),_bffc ;};_bad :=true ;for {_efc ,_dgg :=_ea ._ffg .Peek (1);
if _dgg !=nil {_dda .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_dgg .Error ());return _bge .String (),_dgg ;};if _bad &&_efc [0]!='%'{return _bge .String (),_f .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");
};_bad =false ;if (_efc [0]!='\r')&&(_efc [0]!='\n'){_bda ,_ :=_ea ._ffg .ReadByte ();_bge .WriteByte (_bda );}else {break ;};};return _bge .String (),nil ;};func (_gdbc *fdfParser )parseNumber ()(_gf .PdfObject ,error ){return _gf .ParseNumber (_gdbc ._ffg )};
func (_cd *fdfParser )setFileOffset (_aed int64 ){_cd ._aeb .Seek (_aed ,_e .SeekStart );_cd ._ffg =_d .NewReader (_cd ._aeb );};var _dfc =_be .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");
func (_bed *fdfParser )parseHexString ()(*_gf .PdfObjectString ,error ){_bed ._ffg .ReadByte ();var _ec _a .Buffer ;for {_dag ,_ceb :=_bed ._ffg .Peek (1);if _ceb !=nil {return _gf .MakeHexString (""),_ceb ;};if _dag [0]=='>'{_bed ._ffg .ReadByte ();break ;
};_adgf ,_ :=_bed ._ffg .ReadByte ();if !_gf .IsWhiteSpace (_adgf ){_ec .WriteByte (_adgf );};};if _ec .Len ()%2==1{_ec .WriteRune ('0');};_cee ,_ffe :=_fb .DecodeString (_ec .String ());if _ffe !=nil {_dda .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_ec .String ());
return _gf .MakeHexString (""),nil ;};return _gf .MakeHexString (string (_cee )),nil ;};

// Load loads FDF form data from `r`.
func Load (r _e .ReadSeeker )(*Data ,error ){_bg ,_gd :=_cea (r );if _gd !=nil {return nil ,_gd ;};_ed ,_gd :=_bg .Root ();if _gd !=nil {return nil ,_gd ;};_ba ,_ag :=_gf .GetArray (_ed .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_ag {return nil ,_f .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");
};return &Data {_fe :_ba ,_fd :_ed },nil ;};func (_fcd *fdfParser )parseString ()(*_gf .PdfObjectString ,error ){_fcd ._ffg .ReadByte ();var _eg _a .Buffer ;_cdb :=1;for {_dbda ,_aedg :=_fcd ._ffg .Peek (1);if _aedg !=nil {return _gf .MakeString (_eg .String ()),_aedg ;
};if _dbda [0]=='\\'{_fcd ._ffg .ReadByte ();_gaa ,_dbf :=_fcd ._ffg .ReadByte ();if _dbf !=nil {return _gf .MakeString (_eg .String ()),_dbf ;};if _gf .IsOctalDigit (_gaa ){_efd ,_geac :=_fcd ._ffg .Peek (2);if _geac !=nil {return _gf .MakeString (_eg .String ()),_geac ;
};var _eed []byte ;_eed =append (_eed ,_gaa );for _ ,_ffa :=range _efd {if _gf .IsOctalDigit (_ffa ){_eed =append (_eed ,_ffa );}else {break ;};};_fcd ._ffg .Discard (len (_eed )-1);_dda .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_eed );
_eaf ,_geac :=_bd .ParseUint (string (_eed ),8,32);if _geac !=nil {return _gf .MakeString (_eg .String ()),_geac ;};_eg .WriteByte (byte (_eaf ));continue ;};switch _gaa {case 'n':_eg .WriteRune ('\n');case 'r':_eg .WriteRune ('\r');case 't':_eg .WriteRune ('\t');
case 'b':_eg .WriteRune ('\b');case 'f':_eg .WriteRune ('\f');case '(':_eg .WriteRune ('(');case ')':_eg .WriteRune (')');case '\\':_eg .WriteRune ('\\');};continue ;}else if _dbda [0]=='('{_cdb ++;}else if _dbda [0]==')'{_cdb --;if _cdb ==0{_fcd ._ffg .ReadByte ();
break ;};};_bdag ,_ :=_fcd ._ffg .ReadByte ();_eg .WriteByte (_bdag );};return _gf .MakeString (_eg .String ()),nil ;};func (_abe *fdfParser )parseDict ()(*_gf .PdfObjectDictionary ,error ){_dda .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");
_cc :=_gf .MakeDict ();_bgeb ,_ :=_abe ._ffg .ReadByte ();if _bgeb !='<'{return nil ,_f .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};_bgeb ,_ =_abe ._ffg .ReadByte ();if _bgeb !='<'{return nil ,_f .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");
};for {_abe .skipSpaces ();_abe .skipComments ();_fbee ,_cggg :=_abe ._ffg .Peek (2);if _cggg !=nil {return nil ,_cggg ;};_dda .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_fbee ),string (_fbee ));
if (_fbee [0]=='>')&&(_fbee [1]=='>'){_dda .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");_abe ._ffg .ReadByte ();_abe ._ffg .ReadByte ();break ;};_dda .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");
_ead ,_cggg :=_abe .parseName ();_dda .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_ead );if _cggg !=nil {_dda .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_cggg );
return nil ,_cggg ;};if len (_ead )> 4&&_ead [len (_ead )-4:]=="\u006e\u0075\u006c\u006c"{_ced :=_ead [0:len (_ead )-4];_dda .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_ead );
_dda .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_ced );_abe .skipSpaces ();_dgd ,_ :=_abe ._ffg .Peek (1);if _dgd [0]=='/'{_cc .Set (_ced ,_gf .MakeNull ());continue ;};};_abe .skipSpaces ();
_fad ,_cggg :=_abe .parseObject ();if _cggg !=nil {return nil ,_cggg ;};_cc .Set (_ead ,_fad );_dda .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_ead ,_fad .String ());};_dda .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");
return _cc ,nil ;};func (_ccb *fdfParser )parse ()error {_ccb ._aeb .Seek (0,_e .SeekStart );_ccb ._ffg =_d .NewReader (_ccb ._aeb );for {_ccb .skipComments ();_cgc ,_eff :=_ccb ._ffg .Peek (20);if _eff !=nil {_dda .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return _eff ;};if _c .HasPrefix (string (_cgc ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_ccb ._ffg .Discard (7);_ccb .skipSpaces ();_ccb .skipComments ();_agdd ,_ :=_ccb .parseDict ();_ccb ._gee =_agdd ;break ;};_gfcd :=_cag .FindStringSubmatchIndex (string (_cgc ));
if len (_gfcd )< 6{_dda .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_cgc ));
return _f .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_fea ,_eff :=_ccb .parseIndirectObject ();if _eff !=nil {return _eff ;};switch _dge :=_fea .(type ){case *_gf .PdfIndirectObject :_ccb ._agf [_dge .ObjectNumber ]=_dge ;case *_gf .PdfObjectStream :_ccb ._agf [_dge .ObjectNumber ]=_dge ;default:return _f .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");
};};return nil ;};func (_bff *fdfParser )skipSpaces ()(int ,error ){_ffd :=0;for {_fae ,_bdb :=_bff ._ffg .ReadByte ();if _bdb !=nil {return 0,_bdb ;};if _gf .IsWhiteSpace (_fae ){_ffd ++;}else {_bff ._ffg .UnreadByte ();break ;};};return _ffd ,nil ;};
func _cea (_geeg _e .ReadSeeker )(*fdfParser ,error ){_bae :=&fdfParser {};_bae ._aeb =_geeg ;_bae ._agf =map[int64 ]_gf .PdfObject {};_fde ,_dfb ,_cfec :=_bae .parseFdfVersion ();if _cfec !=nil {_dda .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_cfec );
return nil ,_cfec ;};_bae ._fdc =_fde ;_bae ._fbg =_dfb ;_cfec =_bae .parse ();return _bae ,_cfec ;};func (_ffed *fdfParser )parseNull ()(_gf .PdfObjectNull ,error ){_ ,_eafg :=_ffed ._ffg .Discard (4);return _gf .PdfObjectNull {},_eafg ;};

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_gf .PdfObjectDictionary ,error ){_gef :=map[string ]*_gf .PdfObjectDictionary {};for _bc :=0;_bc < fdf ._fe .Len ();_bc ++{_gfc ,_gfb :=_gf .GetDict (fdf ._fe .Get (_bc ));if _gfb {_fa ,_ :=_gf .GetString (_gfc .Get ("\u0054"));
if _fa !=nil {_gef [_fa .Str ()]=_gfc ;};};};return _gef ,nil ;};func (_fda *fdfParser )readTextLine ()(string ,error ){var _gda _a .Buffer ;for {_baa ,_ddg :=_fda ._ffg .Peek (1);if _ddg !=nil {_dda .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_ddg .Error ());
return _gda .String (),_ddg ;};if (_baa [0]!='\r')&&(_baa [0]!='\n'){_adg ,_ :=_fda ._ffg .ReadByte ();_gda .WriteByte (_adg );}else {break ;};};return _gda .String (),nil ;};func (_ff *fdfParser )getFileOffset ()int64 {_aee ,_ :=_ff ._aeb .Seek (0,_e .SeekCurrent );
_aee -=int64 (_ff ._ffg .Buffered ());return _aee ;};func (_fadb *fdfParser )parseFdfVersion ()(int ,int ,error ){_fadb ._aeb .Seek (0,_e .SeekStart );_eea :=20;_dad :=make ([]byte ,_eea );_fadb ._aeb .Read (_dad );_abec :=_ad .FindStringSubmatch (string (_dad ));
if len (_abec )< 3{_cfe ,_bce ,_cgd :=_fadb .seekFdfVersionTopDown ();if _cgd !=nil {_dda .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");
return 0,0,_cgd ;};return _cfe ,_bce ,nil ;};_ebfb ,_bgf :=_bd .Atoi (_abec [1]);if _bgf !=nil {return 0,0,_bgf ;};_egbb ,_bgf :=_bd .Atoi (_abec [2]);if _bgf !=nil {return 0,0,_bgf ;};_dda .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_ebfb ,_egbb );
return _ebfb ,_egbb ,nil ;};func (_gfcg *fdfParser )trace (_fcge _gf .PdfObject )_gf .PdfObject {switch _eag :=_fcge .(type ){case *_gf .PdfObjectReference :_fab ,_bcce :=_gfcg ._agf [_eag .ObjectNumber ].(*_gf .PdfIndirectObject );if _bcce {return _fab .PdfObject ;
};_dda .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_gf .PdfIndirectObject :return _eag .PdfObject ;};return _fcge ;};func _fba (_ggg string )(*fdfParser ,error ){_gbge :=fdfParser {};_aecc :=[]byte (_ggg );
_abb :=_a .NewReader (_aecc );_gbge ._aeb =_abb ;_gbge ._agf =map[int64 ]_gf .PdfObject {};_cce :=_d .NewReader (_abb );_gbge ._ffg =_cce ;_gbge ._cbf =int64 (len (_ggg ));return &_gbge ,_gbge .parse ();};var _cag =_be .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");


// Root returns the Root of the FDF document.
func (_cbc *fdfParser )Root ()(*_gf .PdfObjectDictionary ,error ){if _cbc ._gee !=nil {if _agd ,_gec :=_cbc .trace (_cbc ._gee .Get ("\u0052\u006f\u006f\u0074")).(*_gf .PdfObjectDictionary );_gec {if _gcbf ,_egdd :=_cbc .trace (_agd .Get ("\u0046\u0044\u0046")).(*_gf .PdfObjectDictionary );
_egdd {return _gcbf ,nil ;};};};var _dab []int64 ;for _aga :=range _cbc ._agf {_dab =append (_dab ,_aga );};_dd .Slice (_dab ,func (_ebd ,_dbfe int )bool {return _dab [_ebd ]< _dab [_dbfe ]});for _ ,_fac :=range _dab {_ade :=_cbc ._agf [_fac ];if _bgb ,_eeebe :=_cbc .trace (_ade ).(*_gf .PdfObjectDictionary );
_eeebe {if _bbg ,_fdg :=_cbc .trace (_bgb .Get ("\u0046\u0044\u0046")).(*_gf .PdfObjectDictionary );_fdg {return _bbg ,nil ;};};};return nil ,_f .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};func (_baf *fdfParser )parseName ()(_gf .PdfObjectName ,error ){var _de _a .Buffer ;
_dbd :=false ;for {_dac ,_beb :=_baf ._ffg .Peek (1);if _beb ==_e .EOF {break ;};if _beb !=nil {return _gf .PdfObjectName (_de .String ()),_beb ;};if !_dbd {if _dac [0]=='/'{_dbd =true ;_baf ._ffg .ReadByte ();}else if _dac [0]=='%'{_baf .readComment ();
_baf .skipSpaces ();}else {_dda .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_dac ,_dac );return _gf .PdfObjectName (_de .String ()),_cb .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_dac [0]);
};}else {if _gf .IsWhiteSpace (_dac [0]){break ;}else if (_dac [0]=='/')||(_dac [0]=='[')||(_dac [0]=='(')||(_dac [0]==']')||(_dac [0]=='<')||(_dac [0]=='>'){break ;}else if _dac [0]=='#'{_aeca ,_efa :=_baf ._ffg .Peek (3);if _efa !=nil {return _gf .PdfObjectName (_de .String ()),_efa ;
};_baf ._ffg .Discard (3);_bcf ,_efa :=_fb .DecodeString (string (_aeca [1:3]));if _efa !=nil {return _gf .PdfObjectName (_de .String ()),_efa ;};_de .Write (_bcf );}else {_gea ,_ :=_baf ._ffg .ReadByte ();_de .WriteByte (_gea );};};};return _gf .PdfObjectName (_de .String ()),nil ;
};var _dga =_be .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");func _agc (_fbd string )(_gf .PdfObjectReference ,error ){_bfc :=_gf .PdfObjectReference {};_gga :=_cbg .FindStringSubmatch (_fbd );
if len (_gga )< 3{_dda .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");return _bfc ,_f .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");
};_dfd ,_fcg :=_bd .Atoi (_gga [1]);if _fcg !=nil {_dda .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_gga [1]);
return _bfc ,nil ;};_bfc .ObjectNumber =int64 (_dfd );_cef ,_fcg :=_bd .Atoi (_gga [2]);if _fcg !=nil {_dda .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_gga [2]);
return _bfc ,nil ;};_bfc .GenerationNumber =int64 (_cef );return _bfc ,nil ;};var _ad =_be .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");

// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_gf .PdfObject ,error ){_gg ,_ee :=fdf .FieldDictionaries ();if _ee !=nil {return nil ,_ee ;};var _ab []string ;for _ga :=range _gg {_ab =append (_ab ,_ga );};_dd .Strings (_ab );_eb :=map[string ]_gf .PdfObject {};
for _ ,_bca :=range _ab {_ae :=_gg [_bca ];_ef :=_gf .TraceToDirectObject (_ae .Get ("\u0056"));_eb [_bca ]=_ef ;};return _eb ,nil ;};func (_ecc *fdfParser )parseBool ()(_gf .PdfObjectBool ,error ){_ace ,_aeg :=_ecc ._ffg .Peek (4);if _aeg !=nil {return _gf .PdfObjectBool (false ),_aeg ;
};if (len (_ace )>=4)&&(string (_ace [:4])=="\u0074\u0072\u0075\u0065"){_ecc ._ffg .Discard (4);return _gf .PdfObjectBool (true ),nil ;};_ace ,_aeg =_ecc ._ffg .Peek (5);if _aeg !=nil {return _gf .PdfObjectBool (false ),_aeg ;};if (len (_ace )>=5)&&(string (_ace [:5])=="\u0066\u0061\u006cs\u0065"){_ecc ._ffg .Discard (5);
return _gf .PdfObjectBool (false ),nil ;};return _gf .PdfObjectBool (false ),_f .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");};func (_fce *fdfParser )seekToEOFMarker (_fbde int64 )error {_bcc :=int64 (0);
_gbbd :=int64 (1000);for _bcc < _fbde {if _fbde <=(_gbbd +_bcc ){_gbbd =_fbde -_bcc ;};_ ,_eae :=_fce ._aeb .Seek (-_bcc -_gbbd ,_e .SeekEnd );if _eae !=nil {return _eae ;};_ddb :=make ([]byte ,_gbbd );_fce ._aeb .Read (_ddb );_dda .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_ddb ));
_bbd :=_dgf .FindAllStringIndex (string (_ddb ),-1);if _bbd !=nil {_cab :=_bbd [len (_bbd )-1];_dda .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_bbd );_fce ._aeb .Seek (-_bcc -_gbbd +int64 (_cab [0]),_e .SeekEnd );return nil ;};_dda .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");
_bcc +=_gbbd ;};_dda .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _f .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};func (_acf *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_acf ._aeb .Seek (0,_e .SeekStart );_acf ._ffg =_d .NewReader (_acf ._aeb );_ede :=20;_gaac :=make ([]byte ,_ede );for {_eaa ,_bfd :=_acf ._ffg .ReadByte ();if _bfd !=nil {if _bfd ==_e .EOF {break ;
}else {return 0,0,_bfd ;};};if _gf .IsDecimalDigit (_eaa )&&_gaac [_ede -1]=='.'&&_gf .IsDecimalDigit (_gaac [_ede -2])&&_gaac [_ede -3]=='-'&&_gaac [_ede -4]=='F'&&_gaac [_ede -5]=='D'&&_gaac [_ede -6]=='P'{_cca :=int (_gaac [_ede -2]-'0');_cga :=int (_eaa -'0');
return _cca ,_cga ,nil ;};_gaac =append (_gaac [1:_ede ],_eaa );};return 0,0,_f .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};func (_gdf *fdfParser )parseObject ()(_gf .PdfObject ,error ){_dda .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");
_gdf .skipSpaces ();for {_gbb ,_edc :=_gdf ._ffg .Peek (2);if _edc !=nil {return nil ,_edc ;};_dda .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_gbb ));if _gbb [0]=='/'{_egd ,_gfa :=_gdf .parseName ();
_dda .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_egd );return &_egd ,_gfa ;}else if _gbb [0]=='('{_dda .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _gdf .parseString ();}else if _gbb [0]=='['{_dda .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");
return _gdf .parseArray ();}else if (_gbb [0]=='<')&&(_gbb [1]=='<'){_dda .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _gdf .parseDict ();}else if _gbb [0]=='<'{_dda .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");
return _gdf .parseHexString ();}else if _gbb [0]=='%'{_gdf .readComment ();_gdf .skipSpaces ();}else {_dda .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_gbb ,_ =_gdf ._ffg .Peek (15);_ebe :=string (_gbb );
_dda .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_ebe );if (len (_ebe )> 3)&&(_ebe [:4]=="\u006e\u0075\u006c\u006c"){_eee ,_cdc :=_gdf .parseNull ();return &_eee ,_cdc ;}else if (len (_ebe )> 4)&&(_ebe [:5]=="\u0066\u0061\u006cs\u0065"){_gbba ,_gcb :=_gdf .parseBool ();
return &_gbba ,_gcb ;}else if (len (_ebe )> 3)&&(_ebe [:4]=="\u0074\u0072\u0075\u0065"){_gba ,_ebf :=_gdf .parseBool ();return &_gba ,_ebf ;};_fgd :=_cbg .FindStringSubmatch (_ebe );if len (_fgd )> 1{_gbb ,_ =_gdf ._ffg .ReadBytes ('R');_dda .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_gbb [:]));
_bb ,_fgg :=_agc (string (_gbb ));return &_bb ,_fgg ;};_af :=_dga .FindStringSubmatch (_ebe );if len (_af )> 1{_dda .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _gdf .parseNumber ();};_af =_dfc .FindStringSubmatch (_ebe );
if len (_af )> 1{_dda .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");_dda .Log .Trace ("\u0025\u0020\u0073",_af );return _gdf .parseNumber ();};_dda .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_ebe );
return nil ,_f .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");
};};};
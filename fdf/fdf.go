//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_bc "bufio";_b "bytes";_dg "encoding/hex";_d "errors";_a "fmt";_fc "github.com/unidoc/unipdf/v3/common";_be "github.com/unidoc/unipdf/v3/core";_bb "io";_feb "os";_ee "regexp";_fe "sort";_da "strconv";_e "strings";);

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_fce ,_cd :=_feb .Open (fdfPath );if _cd !=nil {return nil ,_cd ;};defer _fce .Close ();return Load (_fce );};func (_ccg *fdfParser )readAtLeast (_dd []byte ,_cgf int )(int ,error ){_gae :=_cgf ;_egd :=0;_dag :=0;for _gae > 0{_fdd ,_fb :=_ccg ._ec .Read (_dd [_egd :]);if _fb !=nil {_fc .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_fdd ,_dag ,_fb .Error ());return _egd ,_d .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");};_dag ++;_egd +=_fdd ;_gae -=_fdd ;};return _egd ,nil ;};func (_fgd *fdfParser )parseNull ()(_be .PdfObjectNull ,error ){_ ,_eac :=_fgd ._ec .Discard (4);return _be .PdfObjectNull {},_eac ;};

// Load loads FDF form data from `r`.
func Load (r _bb .ReadSeeker )(*Data ,error ){_g ,_ea :=_efbb (r );if _ea !=nil {return nil ,_ea ;};_cg ,_ea :=_g .Root ();if _ea !=nil {return nil ,_ea ;};_aa ,_cb :=_be .GetArray (_cg .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_cb {return nil ,_d .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");};return &Data {_c :_aa ,_ad :_cg },nil ;};func _cag (_gaa string )(_be .PdfObjectReference ,error ){_gcg :=_be .PdfObjectReference {};_cca :=_bbf .FindStringSubmatch (_gaa );if len (_cca )< 3{_fc .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");return _gcg ,_d .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");};_gege ,_bfe :=_da .Atoi (_cca [1]);if _bfe !=nil {_fc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_cca [1]);return _gcg ,nil ;};_gcg .ObjectNumber =int64 (_gege );_faf ,_bfe :=_da .Atoi (_cca [2]);if _bfe !=nil {_fc .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_cca [2]);return _gcg ,nil ;};_gcg .GenerationNumber =int64 (_faf );return _gcg ,nil ;};func (_ebbc *fdfParser )parseHexString ()(*_be .PdfObjectString ,error ){_ebbc ._ec .ReadByte ();var _ced _b .Buffer ;for {_bg ,_gab :=_ebbc ._ec .Peek (1);if _gab !=nil {return _be .MakeHexString (""),_gab ;};if _bg [0]=='>'{_ebbc ._ec .ReadByte ();break ;};_gefg ,_ :=_ebbc ._ec .ReadByte ();if !_be .IsWhiteSpace (_gefg ){_ced .WriteByte (_gefg );};};if _ced .Len ()%2==1{_ced .WriteRune ('0');};_fdgc ,_ccb :=_dg .DecodeString (_ced .String ());if _ccb !=nil {_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_ced .String ());return _be .MakeHexString (""),nil ;};return _be .MakeHexString (string (_fdgc )),nil ;};var _ba =_ee .MustCompile ("\u0025\u0025\u0045O\u0046");func (_acg *fdfParser )parse ()error {_acg ._ca .Seek (0,_bb .SeekStart );_acg ._ec =_bc .NewReader (_acg ._ca );for {_acg .skipComments ();_bcee ,_bdcg :=_acg ._ec .Peek (20);if _bdcg !=nil {_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");return _bdcg ;};if _e .HasPrefix (string (_bcee ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_acg ._ec .Discard (7);_acg .skipSpaces ();_acg .skipComments ();_geec ,_ :=_acg .parseDict ();_acg ._aad =_geec ;break ;};_cge :=_aag .FindStringSubmatchIndex (string (_bcee ));if len (_cge )< 6{_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_bcee ));return _d .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");};_cde ,_bdcg :=_acg .parseIndirectObject ();if _bdcg !=nil {return _bdcg ;};switch _fafd :=_cde .(type ){case *_be .PdfIndirectObject :_acg ._aaa [_fafd .ObjectNumber ]=_fafd ;case *_be .PdfObjectStream :_acg ._aaa [_fafd .ObjectNumber ]=_fafd ;default:return _d .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");};};return nil ;};func (_gfe *fdfParser )readTextLine ()(string ,error ){var _fdf _b .Buffer ;for {_cf ,_bdc :=_gfe ._ec .Peek (1);if _bdc !=nil {_fc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_bdc .Error ());return _fdf .String (),_bdc ;};if (_cf [0]!='\r')&&(_cf [0]!='\n'){_cbg ,_ :=_gfe ._ec .ReadByte ();_fdf .WriteByte (_cbg );}else {break ;};};return _fdf .String (),nil ;};

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_be .PdfObjectDictionary ,error ){_eg :=map[string ]*_be .PdfObjectDictionary {};for _db :=0;_db < fdf ._c .Len ();_db ++{_eb ,_dc :=_be .GetDict (fdf ._c .Get (_db ));if _dc {_ga ,_ :=_be .GetString (_eb .Get ("\u0054"));if _ga !=nil {_eg [_ga .Str ()]=_eb ;};};};return _eg ,nil ;};func (_cbda *fdfParser )parseFdfVersion ()(int ,int ,error ){_cbda ._ca .Seek (0,_bb .SeekStart );_dfd :=20;_cae :=make ([]byte ,_dfd );_cbda ._ca .Read (_cae );_bgg :=_fg .FindStringSubmatch (string (_cae ));if len (_bgg )< 3{_gbfd ,_gfb ,_dac :=_cbda .seekFdfVersionTopDown ();if _dac !=nil {_fc .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");return 0,0,_dac ;};return _gbfd ,_gfb ,nil ;};_ceaf ,_fca :=_da .Atoi (_bgg [1]);if _fca !=nil {return 0,0,_fca ;};_aaaf ,_fca :=_da .Atoi (_bgg [2]);if _fca !=nil {return 0,0,_fca ;};_fc .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_ceaf ,_aaaf );return _ceaf ,_aaaf ,nil ;};func (_acb *fdfParser )parseString ()(*_be .PdfObjectString ,error ){_acb ._ec .ReadByte ();var _fdde _b .Buffer ;_dcbg :=1;for {_cfc ,_agd :=_acb ._ec .Peek (1);if _agd !=nil {return _be .MakeString (_fdde .String ()),_agd ;};if _cfc [0]=='\\'{_acb ._ec .ReadByte ();_caf ,_fec :=_acb ._ec .ReadByte ();if _fec !=nil {return _be .MakeString (_fdde .String ()),_fec ;};if _be .IsOctalDigit (_caf ){_bde ,_gce :=_acb ._ec .Peek (2);if _gce !=nil {return _be .MakeString (_fdde .String ()),_gce ;};var _efd []byte ;_efd =append (_efd ,_caf );for _ ,_dbg :=range _bde {if _be .IsOctalDigit (_dbg ){_efd =append (_efd ,_dbg );}else {break ;};};_acb ._ec .Discard (len (_efd )-1);_fc .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_efd );_ebbf ,_gce :=_da .ParseUint (string (_efd ),8,32);if _gce !=nil {return _be .MakeString (_fdde .String ()),_gce ;};_fdde .WriteByte (byte (_ebbf ));continue ;};switch _caf {case 'n':_fdde .WriteRune ('\n');case 'r':_fdde .WriteRune ('\r');case 't':_fdde .WriteRune ('\t');case 'b':_fdde .WriteRune ('\b');case 'f':_fdde .WriteRune ('\f');case '(':_fdde .WriteRune ('(');case ')':_fdde .WriteRune (')');case '\\':_fdde .WriteRune ('\\');};continue ;}else if _cfc [0]=='('{_dcbg ++;}else if _cfc [0]==')'{_dcbg --;if _dcbg ==0{_acb ._ec .ReadByte ();break ;};};_ebg ,_ :=_acb ._ec .ReadByte ();_fdde .WriteByte (_ebg );};return _be .MakeString (_fdde .String ()),nil ;};func (_dgf *fdfParser )skipComments ()error {if _ ,_fgg :=_dgf .skipSpaces ();_fgg !=nil {return _fgg ;};_bce :=true ;for {_gg ,_cec :=_dgf ._ec .Peek (1);if _cec !=nil {_fc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_cec .Error ());return _cec ;};if _bce &&_gg [0]!='%'{return nil ;};_bce =false ;if (_gg [0]!='\r')&&(_gg [0]!='\n'){_dgf ._ec .ReadByte ();}else {break ;};};return _dgf .skipComments ();};type fdfParser struct{_de int ;_adb int ;_aaa map[int64 ]_be .PdfObject ;_ca _bb .ReadSeeker ;_ec *_bc .Reader ;_ef int64 ;_aad *_be .PdfObjectDictionary ;};func (_fba *fdfParser )parseArray ()(*_be .PdfObjectArray ,error ){_dfb :=_be .MakeArray ();_fba ._ec .ReadByte ();for {_fba .skipSpaces ();_gaf ,_gb :=_fba ._ec .Peek (1);if _gb !=nil {return _dfb ,_gb ;};if _gaf [0]==']'{_fba ._ec .ReadByte ();break ;};_fea ,_gb :=_fba .parseObject ();if _gb !=nil {return _dfb ,_gb ;};_dfb .Append (_fea );};return _dfb ,nil ;};func (_eag *fdfParser )parseNumber ()(_be .PdfObject ,error ){return _be .ParseNumber (_eag ._ec )};var _bcb =_ee .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");func (_dcf *fdfParser )setFileOffset (_fcf int64 ){_dcf ._ca .Seek (_fcf ,_bb .SeekStart );_dcf ._ec =_bc .NewReader (_dcf ._ca );};func (_gd *fdfParser )readComment ()(string ,error ){var _dcfe _b .Buffer ;_ ,_fdg :=_gd .skipSpaces ();if _fdg !=nil {return _dcfe .String (),_fdg ;};_gf :=true ;for {_geb ,_fcfb :=_gd ._ec .Peek (1);if _fcfb !=nil {_fc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_fcfb .Error ());return _dcfe .String (),_fcfb ;};if _gf &&_geb [0]!='%'{return _dcfe .String (),_d .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");};_gf =false ;if (_geb [0]!='\r')&&(_geb [0]!='\n'){_gc ,_ :=_gd ._ec .ReadByte ();_dcfe .WriteByte (_gc );}else {break ;};};return _dcfe .String (),nil ;};func (_egf *fdfParser )skipSpaces ()(int ,error ){_gec :=0;for {_def ,_gea :=_egf ._ec .ReadByte ();if _gea !=nil {return 0,_gea ;};if _be .IsWhiteSpace (_def ){_gec ++;}else {_egf ._ec .UnreadByte ();break ;};};return _gec ,nil ;};var _bbf =_ee .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");var _aag =_ee .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");

// Data represents forms data format (FDF) file data.
type Data struct{_ad *_be .PdfObjectDictionary ;_c *_be .PdfObjectArray ;};func (_baf *fdfParser )parseIndirectObject ()(_be .PdfObject ,error ){_fcea :=_be .PdfIndirectObject {};_fc .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");_fdge ,_aeb :=_baf ._ec .Peek (20);if _aeb !=nil {_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");return &_fcea ,_aeb ;};_fc .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_fdge ));_aae :=_aag .FindStringSubmatchIndex (string (_fdge ));if len (_aae )< 6{_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_fdge ));return &_fcea ,_d .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");};_baf ._ec .Discard (_aae [0]);_fc .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_aae );_efb :=_aae [1]-_aae [0];_fdgf :=make ([]byte ,_efb );_ ,_aeb =_baf .readAtLeast (_fdgf ,_efb );if _aeb !=nil {_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_aeb );return nil ,_aeb ;};_fc .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_fdgf );_ead :=_aag .FindStringSubmatch (string (_fdgf ));if len (_ead )< 3{_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_fdgf ));return &_fcea ,_d .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");};_fddf ,_ :=_da .Atoi (_ead [1]);_bae ,_ :=_da .Atoi (_ead [2]);_fcea .ObjectNumber =int64 (_fddf );_fcea .GenerationNumber =int64 (_bae );for {_cce ,_fab :=_baf ._ec .Peek (2);if _fab !=nil {return &_fcea ,_fab ;};_fc .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_cce ),string (_cce ));if _be .IsWhiteSpace (_cce [0]){_baf .skipSpaces ();}else if _cce [0]=='%'{_baf .skipComments ();}else if (_cce [0]=='<')&&(_cce [1]=='<'){_fc .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_fcea .PdfObject ,_fab =_baf .parseDict ();_fc .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_fab );if _fab !=nil {return &_fcea ,_fab ;};_fc .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");}else if (_cce [0]=='/')||(_cce [0]=='(')||(_cce [0]=='[')||(_cce [0]=='<'){_fcea .PdfObject ,_fab =_baf .parseObject ();if _fab !=nil {return &_fcea ,_fab ;};_fc .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");}else {if _cce [0]=='e'{_adbe ,_adbb :=_baf .readTextLine ();if _adbb !=nil {return nil ,_adbb ;};if len (_adbe )>=6&&_adbe [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _cce [0]=='s'{_cce ,_ =_baf ._ec .Peek (10);if string (_cce [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_bed :=6;if len (_cce )> 6{if _be .IsWhiteSpace (_cce [_bed ])&&_cce [_bed ]!='\r'&&_cce [_bed ]!='\n'{_fc .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");_bed ++;};if _cce [_bed ]=='\r'{_bed ++;if _cce [_bed ]=='\n'{_bed ++;};}else if _cce [_bed ]=='\n'{_bed ++;};};_baf ._ec .Discard (_bed );_cdd ,_dagg :=_fcea .PdfObject .(*_be .PdfObjectDictionary );if !_dagg {return nil ,_d .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");};_fc .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_cdd );_efbg ,_bbe :=_cdd .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_be .PdfObjectInteger );if !_bbe {return nil ,_d .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");};_cdg :=*_efbg ;if _cdg < 0{return nil ,_d .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_cdg )> _baf ._ef {_fc .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");return nil ,_d .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_fbb :=make ([]byte ,_cdg );_ ,_fab =_baf .readAtLeast (_fbb ,int (_cdg ));if _fab !=nil {_fc .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_fbb ),_fbb );_fc .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_fab );return nil ,_fab ;};_ffd :=_be .PdfObjectStream {};_ffd .Stream =_fbb ;_ffd .PdfObjectDictionary =_fcea .PdfObject .(*_be .PdfObjectDictionary );_ffd .ObjectNumber =_fcea .ObjectNumber ;_ffd .GenerationNumber =_fcea .GenerationNumber ;_baf .skipSpaces ();_baf ._ec .Discard (9);_baf .skipSpaces ();return &_ffd ,nil ;};};_fcea .PdfObject ,_fab =_baf .parseObject ();return &_fcea ,_fab ;};};_fc .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");return &_fcea ,nil ;};var _ce =_ee .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");func (_gcgc *fdfParser )seekToEOFMarker (_dfa int64 )error {_cbed :=int64 (0);_eggb :=int64 (1000);for _cbed < _dfa {if _dfa <=(_eggb +_cbed ){_eggb =_dfa -_cbed ;};_ ,_cef :=_gcgc ._ca .Seek (-_cbed -_eggb ,_bb .SeekEnd );if _cef !=nil {return _cef ;};_dgc :=make ([]byte ,_eggb );_gcgc ._ca .Read (_dgc );_fc .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_dgc ));_aeg :=_ba .FindAllStringIndex (string (_dgc ),-1);if _aeg !=nil {_daga :=_aeg [len (_aeg )-1];_fc .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_aeg );_gcgc ._ca .Seek (-_cbed -_eggb +int64 (_daga [0]),_bb .SeekEnd );return nil ;};_fc .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");_cbed +=_eggb ;};_fc .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _d .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};

// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_be .PdfObject ,error ){_cdc ,_cc :=fdf .FieldDictionaries ();if _cc !=nil {return nil ,_cc ;};var _dcb []string ;for _fa :=range _cdc {_dcb =append (_dcb ,_fa );};_fe .Strings (_dcb );_fed :=map[string ]_be .PdfObject {};for _ ,_ge :=range _dcb {_ag :=_cdc [_ge ];_dbc :=_be .TraceToDirectObject (_ag .Get ("\u0056"));_fed [_ge ]=_dbc ;};return _fed ,nil ;};

// Root returns the Root of the FDF document.
func (_egdd *fdfParser )Root ()(*_be .PdfObjectDictionary ,error ){if _egdd ._aad !=nil {if _gfg ,_ccf :=_egdd .trace (_egdd ._aad .Get ("\u0052\u006f\u006f\u0074")).(*_be .PdfObjectDictionary );_ccf {if _bbg ,_aga :=_egdd .trace (_gfg .Get ("\u0046\u0044\u0046")).(*_be .PdfObjectDictionary );_aga {return _bbg ,nil ;};};};var _af []int64 ;for _fbab :=range _egdd ._aaa {_af =append (_af ,_fbab );};_fe .Slice (_af ,func (_fcfd ,_ecf int )bool {return _af [_fcfd ]< _af [_ecf ]});for _ ,_ecg :=range _af {_dbce :=_egdd ._aaa [_ecg ];if _gbe ,_bfc :=_egdd .trace (_dbce ).(*_be .PdfObjectDictionary );_bfc {if _gdb ,_gecb :=_egdd .trace (_gbe .Get ("\u0046\u0044\u0046")).(*_be .PdfObjectDictionary );_gecb {return _gdb ,nil ;};};};return nil ,_d .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};func (_dcd *fdfParser )trace (_gaff _be .PdfObject )_be .PdfObject {switch _ffdb :=_gaff .(type ){case *_be .PdfObjectReference :_dbgg ,_cdge :=_dcd ._aaa [_ffdb .ObjectNumber ].(*_be .PdfIndirectObject );if _cdge {return _dbgg .PdfObject ;};_fc .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_be .PdfIndirectObject :return _ffdb .PdfObject ;};return _gaff ;};var _fg =_ee .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");func (_gcf *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_gcf ._ca .Seek (0,_bb .SeekStart );_gcf ._ec =_bc .NewReader (_gcf ._ca );_fgdc :=20;_aed :=make ([]byte ,_fgdc );for {_dcg ,_ade :=_gcf ._ec .ReadByte ();if _ade !=nil {if _ade ==_bb .EOF {break ;}else {return 0,0,_ade ;};};if _be .IsDecimalDigit (_dcg )&&_aed [_fgdc -1]=='.'&&_be .IsDecimalDigit (_aed [_fgdc -2])&&_aed [_fgdc -3]=='-'&&_aed [_fgdc -4]=='F'&&_aed [_fgdc -5]=='D'&&_aed [_fgdc -6]=='P'{_ecb :=int (_aed [_fgdc -2]-'0');_gbcb :=int (_dcg -'0');return _ecb ,_gbcb ,nil ;};_aed =append (_aed [1:_fgdc ],_dcg );};return 0,0,_d .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};func _bea (_dcc string )(*fdfParser ,error ){_eec :=fdfParser {};_fdfc :=[]byte (_dcc );_bad :=_b .NewReader (_fdfc );_eec ._ca =_bad ;_eec ._aaa =map[int64 ]_be .PdfObject {};_dca :=_bc .NewReader (_bad );_eec ._ec =_dca ;_eec ._ef =int64 (len (_dcc ));return &_eec ,_eec .parse ();};func (_cecf *fdfParser )parseObject ()(_be .PdfObject ,error ){_fc .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");_cecf .skipSpaces ();for {_fgf ,_gdcf :=_cecf ._ec .Peek (2);if _gdcf !=nil {return nil ,_gdcf ;};_fc .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_fgf ));if _fgf [0]=='/'{_dee ,_ede :=_cecf .parseName ();_fc .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_dee );return &_dee ,_ede ;}else if _fgf [0]=='('{_fc .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _cecf .parseString ();}else if _fgf [0]=='['{_fc .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");return _cecf .parseArray ();}else if (_fgf [0]=='<')&&(_fgf [1]=='<'){_fc .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _cecf .parseDict ();}else if _fgf [0]=='<'{_fc .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");return _cecf .parseHexString ();}else if _fgf [0]=='%'{_cecf .readComment ();_cecf .skipSpaces ();}else {_fc .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_fgf ,_ =_cecf ._ec .Peek (15);_gee :=string (_fgf );_fc .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_gee );if (len (_gee )> 3)&&(_gee [:4]=="\u006e\u0075\u006c\u006c"){_eeg ,_fgfc :=_cecf .parseNull ();return &_eeg ,_fgfc ;}else if (len (_gee )> 4)&&(_gee [:5]=="\u0066\u0061\u006cs\u0065"){_gbg ,_geag :=_cecf .parseBool ();return &_gbg ,_geag ;}else if (len (_gee )> 3)&&(_gee [:4]=="\u0074\u0072\u0075\u0065"){_cedf ,_ccc :=_cecf .parseBool ();return &_cedf ,_ccc ;};_egg :=_bbf .FindStringSubmatch (_gee );if len (_egg )> 1{_fgf ,_ =_cecf ._ec .ReadBytes ('R');_fc .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_fgf [:]));_bga ,_gac :=_cag (string (_fgf ));return &_bga ,_gac ;};_bgd :=_ce .FindStringSubmatch (_gee );if len (_bgd )> 1{_fc .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _cecf .parseNumber ();};_bgd =_bcb .FindStringSubmatch (_gee );if len (_bgd )> 1{_fc .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");_fc .Log .Trace ("\u0025\u0020\u0073",_bgd );return _cecf .parseNumber ();};_fc .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_gee );return nil ,_d .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");};};};func _efbb (_aca _bb .ReadSeeker )(*fdfParser ,error ){_cgb :=&fdfParser {};_cgb ._ca =_aca ;_cgb ._aaa =map[int64 ]_be .PdfObject {};_cgbc ,_eaa ,_dbca :=_cgb .parseFdfVersion ();if _dbca !=nil {_fc .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_dbca );return nil ,_dbca ;};_cgb ._de =_cgbc ;_cgb ._adb =_eaa ;_dbca =_cgb .parse ();return _cgb ,_dbca ;};func (_fdb *fdfParser )parseDict ()(*_be .PdfObjectDictionary ,error ){_fc .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");_gbgd :=_be .MakeDict ();_gbf ,_ :=_fdb ._ec .ReadByte ();if _gbf !='<'{return nil ,_d .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};_gbf ,_ =_fdb ._ec .ReadByte ();if _gbf !='<'{return nil ,_d .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};for {_fdb .skipSpaces ();_fdb .skipComments ();_ffe ,_fge :=_fdb ._ec .Peek (2);if _fge !=nil {return nil ,_fge ;};_fc .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_ffe ),string (_ffe ));if (_ffe [0]=='>')&&(_ffe [1]=='>'){_fc .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");_fdb ._ec .ReadByte ();_fdb ._ec .ReadByte ();break ;};_fc .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");_dde ,_fge :=_fdb .parseName ();_fc .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_dde );if _fge !=nil {_fc .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_fge );return nil ,_fge ;};if len (_dde )> 4&&_dde [len (_dde )-4:]=="\u006e\u0075\u006c\u006c"{_cad :=_dde [0:len (_dde )-4];_fc .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_dde );_fc .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_cad );_fdb .skipSpaces ();_aef ,_ :=_fdb ._ec .Peek (1);if _aef [0]=='/'{_gbgd .Set (_cad ,_be .MakeNull ());continue ;};};_fdb .skipSpaces ();_aac ,_fge :=_fdb .parseObject ();if _fge !=nil {return nil ,_fge ;};_gbgd .Set (_dde ,_aac );_fc .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_dde ,_aac .String ());};_fc .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");return _gbgd ,nil ;};func (_ccd *fdfParser )parseBool ()(_be .PdfObjectBool ,error ){_dbb ,_ece :=_ccd ._ec .Peek (4);if _ece !=nil {return _be .PdfObjectBool (false ),_ece ;};if (len (_dbb )>=4)&&(string (_dbb [:4])=="\u0074\u0072\u0075\u0065"){_ccd ._ec .Discard (4);return _be .PdfObjectBool (true ),nil ;};_dbb ,_ece =_ccd ._ec .Peek (5);if _ece !=nil {return _be .PdfObjectBool (false ),_ece ;};if (len (_dbb )>=5)&&(string (_dbb [:5])=="\u0066\u0061\u006cs\u0065"){_ccd ._ec .Discard (5);return _be .PdfObjectBool (false ),nil ;};return _be .PdfObjectBool (false ),_d .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");};func (_fad *fdfParser )parseName ()(_be .PdfObjectName ,error ){var _gef _b .Buffer ;_df :=false ;for {_bdg ,_gdc :=_fad ._ec .Peek (1);if _gdc ==_bb .EOF {break ;};if _gdc !=nil {return _be .PdfObjectName (_gef .String ()),_gdc ;};if !_df {if _bdg [0]=='/'{_df =true ;_fad ._ec .ReadByte ();}else if _bdg [0]=='%'{_fad .readComment ();_fad .skipSpaces ();}else {_fc .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_bdg ,_bdg );return _be .PdfObjectName (_gef .String ()),_a .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_bdg [0]);};}else {if _be .IsWhiteSpace (_bdg [0]){break ;}else if (_bdg [0]=='/')||(_bdg [0]=='[')||(_bdg [0]=='(')||(_bdg [0]==']')||(_bdg [0]=='<')||(_bdg [0]=='>'){break ;}else if _bdg [0]=='#'{_ebb ,_dbf :=_fad ._ec .Peek (3);if _dbf !=nil {return _be .PdfObjectName (_gef .String ()),_dbf ;};_fad ._ec .Discard (3);_cea ,_dbf :=_dg .DecodeString (string (_ebb [1:3]));if _dbf !=nil {return _be .PdfObjectName (_gef .String ()),_dbf ;};_gef .Write (_cea );}else {_geg ,_ :=_fad ._ec .ReadByte ();_gef .WriteByte (_geg );};};};return _be .PdfObjectName (_gef .String ()),nil ;};func (_cbd *fdfParser )getFileOffset ()int64 {_ed ,_ :=_cbd ._ca .Seek (0,_bb .SeekCurrent );_ed -=int64 (_cbd ._ec .Buffered ());return _ed ;};
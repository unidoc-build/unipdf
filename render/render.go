//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package render ;import (_g "errors";_dd "fmt";_f "github.com/adrg/sysfont";_eb "github.com/unidoc/unipdf/v3/common";_ed "github.com/unidoc/unipdf/v3/contentstream";_ae "github.com/unidoc/unipdf/v3/core";_eg "github.com/unidoc/unipdf/v3/internal/transform";_gfe "github.com/unidoc/unipdf/v3/model";_ge "github.com/unidoc/unipdf/v3/render/internal/context";_c "github.com/unidoc/unipdf/v3/render/internal/context/imagerender";_ac "image";_gfd "image/draw";_gg "image/jpeg";_e "image/png";_d "os";_a "path/filepath";_gf "strings";);

// NewImageDevice returns a new image device.
func NewImageDevice ()*ImageDevice {return &ImageDevice {}};

// ImageDevice is used to render PDF pages to image targets.
type ImageDevice struct{renderer };

// Render converts the specified PDF page into an image and returns the result.
func (_ddd *ImageDevice )Render (page *_gfe .PdfPage )(_ac .Image ,error ){_bb ,_ab :=page .GetMediaBox ();if _ab !=nil {return nil ,_ab ;};_dg ,_bg :=_bb .Llx +_bb .Width (),_bb .Lly +_bb .Height ();_aa :=_c .NewContext (int (_dg ),int (_bg ));if _cf :=_ddd .renderPage (_aa ,page );_cf !=nil {return nil ,_cf ;};_bf :=_aa .Image ();if _ega :=page .CropBox ;_ega !=nil {_acg :=_ac .Rect (0,0,int (_ega .Width ()),int (_ega .Height ()));_da :=_ac .Pt (int (_ega .Llx ),int (_bg -_ega .Ury ));_fg :=_ac .NewRGBA (_acg );_gfd .Draw (_fg ,_acg ,_bf ,_da ,_gfd .Src );_bf =_fg ;};return _bf ,nil ;};

// RenderToPath converts the specified PDF page into an image and saves the
// result at the specified location.
func (_dc *ImageDevice )RenderToPath (page *_gfe .PdfPage ,outputPath string )error {_bgg ,_cc :=_dc .Render (page );if _cc !=nil {return _cc ;};_de :=_gf .ToLower (_a .Ext (outputPath ));if _de ==""{return _g .New ("\u0063\u006ful\u0064\u0020\u006eo\u0074\u0020\u0072\u0065cog\u006eiz\u0065\u0020\u006f\u0075\u0074\u0070\u0075t \u0066\u0069\u006c\u0065\u0020\u0074\u0079p\u0065");};switch _de {case "\u002e\u0070\u006e\u0067":return _aba (outputPath ,_bgg );case "\u002e\u006a\u0070\u0067","\u002e\u006a\u0070e\u0067":return _bfd (outputPath ,_bgg ,100);};return _dd .Errorf ("\u0075\u006e\u0072\u0065\u0063\u006fg\u006e\u0069\u007a\u0065\u0064\u0020\u006f\u0075\u0074\u0070\u0075\u0074\u0020f\u0069\u006c\u0065\u0020\u0074\u0079\u0070e\u003a\u0020\u0025\u0073",_de );};func _bfd (_deb string ,_ccb _ac .Image ,_gga int )error {_ca ,_ege :=_d .Create (_deb );if _ege !=nil {return _ege ;};defer _ca .Close ();return _gg .Encode (_ca ,_ccb ,&_gg .Options {Quality :_gga });};type renderer struct{};var (_ag =_g .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");_fge =_g .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072"););func (_eda renderer )renderPage (_ba _ge .Context ,_egec *_gfe .PdfPage )error {_ff ,_fgg :=_egec .GetAllContentStreams ();if _fgg !=nil {return _fgg ;};_ba .Translate (0,float64 (_ba .Height ()));_ba .Scale (1,-1);_ba .Push ();_ba .SetRGBA (1,1,1,1);_ba .DrawRectangle (0,0,float64 (_ba .Width ()),float64 (_ba .Height ()));_ba .Fill ();_ba .Pop ();_ba .SetLineWidth (1.0);_ba .SetRGBA (0,0,0,1);return _eda .renderContentStream (_ba ,_ff ,_egec .Resources );};func _aba (_bc string ,_cff _ac .Image )error {_ec ,_bce :=_d .Create (_bc );if _bce !=nil {return _bce ;};defer _ec .Close ();return _e .Encode (_ec ,_cff );};func (_fgf renderer )renderContentStream (_fe _ge .Context ,_af string ,_ga *_gfe .PdfPageResources )error {_edf ,_fc :=_ed .NewContentStreamParser (_af ).Parse ();if _fc !=nil {return _fc ;};_fea :=_fe .TextState ();_dcd :=map[string ]*_ge .TextFont {};_bfa :=_f .NewFinder (&_f .FinderOpts {Extensions :[]string {"\u002e\u0074\u0074\u0066","\u002e\u0074\u0074\u0063"}});_ggd :=_ed .NewContentStreamProcessor (*_edf );_ggd .AddHandler (_ed .HandlerConditionEnumAllOperands ,"",func (_fcf *_ed .ContentStreamOperation ,_dca _ed .GraphicsState ,_df *_gfe .PdfPageResources )error {_eb .Log .Debug ("\u0050\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0025\u0073",_fcf .Operand );switch _fcf .Operand {case "\u0071":_fe .Push ();case "\u0051":_fe .Pop ();case "\u0063\u006d":if len (_fcf .Params )!=6{return _fge ;};_aca ,_fb :=_ae .GetNumbersAsFloat (_fcf .Params );if _fb !=nil {return _fb ;};_geg :=_eg .NewMatrix (_aca [0],_aca [1],_aca [2],_aca [3],_aca [4],_aca [5]);_eb .Log .Debug ("\u0047\u0072\u0061\u0070\u0068\u0069\u0063\u0073\u0020\u0073\u0074a\u0074\u0065\u0020\u006d\u0061\u0074\u0072\u0069\u0078\u003a \u0025\u002b\u0076",_geg );_fe .SetMatrix (_fe .Matrix ().Mult (_geg ));_gfg :=(_dca .CTM .ScalingFactorX ()+_dca .CTM .ScalingFactorY ())/2.0;_fe .SetLineWidth (_gfg *_fe .LineWidth ());case "\u0077":if len (_fcf .Params )!=1{return _fge ;};_ef ,_ecf :=_ae .GetNumbersAsFloat (_fcf .Params );if _ecf !=nil {return _ecf ;};_efg :=(_dca .CTM .ScalingFactorX ()+_dca .CTM .ScalingFactorY ())/2.0;_fe .SetLineWidth (_efg *_ef [0]);case "\u004a":if len (_fcf .Params )!=1{return _fge ;};_dcb ,_aaf :=_ae .GetIntVal (_fcf .Params [0]);if !_aaf {return _ag ;};switch _dcb {case 0:_fe .SetLineCap (_ge .LineCapButt );case 1:_fe .SetLineCap (_ge .LineCapRound );case 2:_fe .SetLineCap (_ge .LineCapSquare );default:_eb .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u006ee\u0020\u0063\u0061\u0070\u0020\u0073\u0074\u0079\u006c\u0065:\u0020\u0025\u0064",_dcb );return _fge ;};case "\u006a":if len (_fcf .Params )!=1{return _fge ;};_abe ,_be :=_ae .GetIntVal (_fcf .Params [0]);if !_be {return _ag ;};switch _abe {case 0:_fe .SetLineJoin (_ge .LineJoinBevel );case 1:_fe .SetLineJoin (_ge .LineJoinRound );case 2:_fe .SetLineJoin (_ge .LineJoinBevel );default:_eb .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006c\u0069\u006e\u0065\u0020\u006a\u006f\u0069\u006e \u0073\u0074\u0079l\u0065:\u0020\u0025\u0064",_abe );return _fge ;};case "\u004d":if len (_fcf .Params )!=1{return _fge ;};_bgb ,_gc :=_ae .GetNumbersAsFloat (_fcf .Params );if _gc !=nil {return _gc ;};_ =_bgb ;_eb .Log .Debug ("\u004di\u0074\u0065\u0072\u0020l\u0069\u006d\u0069\u0074\u0020n\u006ft\u0020s\u0075\u0070\u0070\u006f\u0072\u0074\u0065d");case "\u0064":if len (_fcf .Params )!=2{return _fge ;};_gce ,_dfb :=_ae .GetArray (_fcf .Params [0]);if !_dfb {return _ag ;};_dfbd ,_dfb :=_ae .GetIntVal (_fcf .Params [1]);if !_dfb {return _ag ;};_fee ,_beb :=_ae .GetNumbersAsFloat (_gce .Elements ());if _beb !=nil {return _beb ;};_fe .SetDash (_fee ...);_ =_dfbd ;_eb .Log .Debug ("\u004c\u0069n\u0065\u0020\u0064\u0061\u0073\u0068\u0020\u0070\u0068\u0061\u0073\u0065\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006frt\u0065\u0064");case "\u0072\u0069":_eb .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020i\u006e\u0074\u0065\u006e\u0074\u0020\u006eo\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");case "\u0069":_eb .Log .Debug ("\u0046\u006c\u0061\u0074\u006e\u0065\u0073\u0073\u0020\u0074\u006f\u006c\u0065\u0072\u0061n\u0063e\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");case "\u0067\u0073":if len (_fcf .Params )!=1{return _fge ;};_ebd ,_ccg :=_ae .GetName (_fcf .Params [0]);if !_ccg {return _ag ;};if _ebd ==nil {return _fge ;};_gb ,_ccg :=_df .GetExtGState (*_ebd );if !_ccg {_eb .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006eo\u0074 \u0066i\u006ed\u0020\u0072\u0065\u0073\u006f\u0075\u0072\u0063\u0065\u003a\u0020\u0025\u0073",*_ebd );return _g .New ("\u0072e\u0073o\u0075\u0072\u0063\u0065\u0020n\u006f\u0074 \u0066\u006f\u0075\u006e\u0064");};_ce ,_ccg :=_ae .GetDict (_gb );if !_ccg {_eb .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020c\u006f\u0075\u006c\u0064 ge\u0074 g\u0072\u0061\u0070\u0068\u0069\u0063\u0073 s\u0074\u0061\u0074\u0065\u0020\u0064\u0069c\u0074");return _ag ;};_eb .Log .Debug ("G\u0053\u0020\u0064\u0069\u0063\u0074\u003a\u0020\u0025\u0073",_ce .String ());case "\u006d":if len (_fcf .Params )!=2{_eb .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006d\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_fge );return nil ;};_ebg ,_cfc :=_ae .GetNumbersAsFloat (_fcf .Params );if _cfc !=nil {return _cfc ;};_eb .Log .Debug ("M\u006f\u0076\u0065\u0020\u0074\u006f\u003a\u0020\u0025\u0076",_ebg );_fe .NewSubPath ();_fe .MoveTo (_ebg [0],_ebg [1]);case "\u006c":if len (_fcf .Params )!=2{_eb .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006c\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_fge );return nil ;};_bfg ,_cb :=_ae .GetNumbersAsFloat (_fcf .Params );if _cb !=nil {return _cb ;};_fe .LineTo (_bfg [0],_bfg [1]);case "\u0063":if len (_fcf .Params )!=6{return _fge ;};_cd ,_bfdf :=_ae .GetNumbersAsFloat (_fcf .Params );if _bfdf !=nil {return _bfdf ;};_eb .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_cd );_fe .CubicTo (_cd [0],_cd [1],_cd [2],_cd [3],_cd [4],_cd [5]);case "\u0076","\u0079":if len (_fcf .Params )!=4{return _fge ;};_fcff ,_fec :=_ae .GetNumbersAsFloat (_fcf .Params );if _fec !=nil {return _fec ;};_eb .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_fcff );_fe .QuadraticTo (_fcff [0],_fcff [1],_fcff [2],_fcff [3]);case "\u0068":_fe .ClosePath ();_fe .NewSubPath ();case "\u0072\u0065":if len (_fcf .Params )!=4{return _fge ;};_bggc ,_bff :=_ae .GetNumbersAsFloat (_fcf .Params );if _bff !=nil {return _bff ;};_fe .DrawRectangle (_bggc [0],_bggc [1],_bggc [2],_bggc [3]);_fe .NewSubPath ();case "\u0053":_ggf ,_gfb :=_dca .ColorspaceStroking .ColorToRGB (_dca .ColorStroking );if _gfb !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gfb );return _gfb ;};_ddb ,_ee :=_ggf .(*_gfe .PdfColorDeviceRGB );if !_ee {_eb .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _gfb ;};_fe .SetRGBA (_ddb .R (),_ddb .G (),_ddb .B (),1);_fe .Stroke ();case "\u0073":_eba ,_efd :=_dca .ColorspaceStroking .ColorToRGB (_dca .ColorStroking );if _efd !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_efd );return _efd ;};_bd ,_ad :=_eba .(*_gfe .PdfColorDeviceRGB );if !_ad {_eb .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _efd ;};_fe .ClosePath ();_fe .NewSubPath ();_fe .SetRGBA (_bd .R (),_bd .G (),_bd .B (),1);_fe .Stroke ();case "\u0066","\u0046":_gae ,_gd :=_dca .ColorspaceNonStroking .ColorToRGB (_dca .ColorNonStroking );if _gd !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gd );return _gd ;};_bfc ,_dff :=_gae .(*_gfe .PdfColorDeviceRGB );if !_dff {_eb .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _gd ;};_fe .SetRGBA (_bfc .R (),_bfc .G (),_bfc .B (),1);_fe .SetFillRule (_ge .FillRuleWinding );_fe .Fill ();case "\u0066\u002a":_bef ,_cae :=_dca .ColorspaceNonStroking .ColorToRGB (_dca .ColorNonStroking );if _cae !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cae );return _cae ;};_ggc ,_gfgd :=_bef .(*_gfe .PdfColorDeviceRGB );if !_gfgd {_eb .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _cae ;};_fe .SetRGBA (_ggc .R (),_ggc .G (),_ggc .B (),1);_fe .SetFillRule (_ge .FillRuleEvenOdd );_fe .Fill ();case "\u0042":_ddg ,_egd :=_dca .ColorspaceNonStroking .ColorToRGB (_dca .ColorNonStroking );if _egd !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_egd );return _egd ;};_cg :=_ddg .(*_gfe .PdfColorDeviceRGB );_fe .SetRGBA (_cg .R (),_cg .G (),_cg .B (),1);_fe .SetFillRule (_ge .FillRuleWinding );_fe .FillPreserve ();_ddg ,_egd =_dca .ColorspaceStroking .ColorToRGB (_dca .ColorStroking );if _egd !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_egd );return _egd ;};_cg =_ddg .(*_gfe .PdfColorDeviceRGB );_fe .SetRGBA (_cg .R (),_cg .G (),_cg .B (),1);_fe .Stroke ();case "\u0042\u002a":_acc ,_abaa :=_dca .ColorspaceNonStroking .ColorToRGB (_dca .ColorNonStroking );if _abaa !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_abaa );return _abaa ;};_caf :=_acc .(*_gfe .PdfColorDeviceRGB );_fe .SetRGBA (_caf .R (),_caf .G (),_caf .B (),1);_fe .SetFillRule (_ge .FillRuleEvenOdd );_fe .FillPreserve ();_acc ,_abaa =_dca .ColorspaceStroking .ColorToRGB (_dca .ColorStroking );if _abaa !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_abaa );return _abaa ;};_caf =_acc .(*_gfe .PdfColorDeviceRGB );_fe .SetRGBA (_caf .R (),_caf .G (),_caf .B (),1);_fe .Stroke ();case "\u0062":_cbd ,_ffa :=_dca .ColorspaceNonStroking .ColorToRGB (_dca .ColorNonStroking );if _ffa !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ffa );return _ffa ;};_eed :=_cbd .(*_gfe .PdfColorDeviceRGB );_fe .SetRGBA (_eed .R (),_eed .G (),_eed .B (),1);_fe .ClosePath ();_fe .NewSubPath ();_fe .SetFillRule (_ge .FillRuleWinding );_fe .FillPreserve ();_cbd ,_ffa =_dca .ColorspaceStroking .ColorToRGB (_dca .ColorStroking );if _ffa !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ffa );return _ffa ;};_eed =_cbd .(*_gfe .PdfColorDeviceRGB );_fe .SetRGBA (_eed .R (),_eed .G (),_eed .B (),1);_fe .Stroke ();case "\u0062\u002a":_fe .ClosePath ();_fgb ,_gec :=_dca .ColorspaceNonStroking .ColorToRGB (_dca .ColorNonStroking );if _gec !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gec );return _gec ;};_fd :=_fgb .(*_gfe .PdfColorDeviceRGB );_fe .SetRGBA (_fd .R (),_fd .G (),_fd .B (),1);_fe .NewSubPath ();_fe .SetFillRule (_ge .FillRuleEvenOdd );_fe .FillPreserve ();_fgb ,_gec =_dca .ColorspaceStroking .ColorToRGB (_dca .ColorStroking );if _gec !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gec );return _gec ;};_fd =_fgb .(*_gfe .PdfColorDeviceRGB );_fe .SetRGBA (_fd .R (),_fd .G (),_fd .B (),1);_fe .Stroke ();case "\u006e":_fe .ClearPath ();case "\u0057":_fe .SetFillRule (_ge .FillRuleWinding );_fe .ClipPreserve ();case "\u0057\u002a":_fe .SetFillRule (_ge .FillRuleEvenOdd );_fe .ClipPreserve ();case "\u0072\u0067":_aeg ,_egf :=_dca .ColorNonStroking .(*_gfe .PdfColorDeviceRGB );if !_egf {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dca .ColorNonStroking );return nil ;};_fe .SetFillRGBA (_aeg .R (),_aeg .G (),_aeg .B (),1);case "\u0052\u0047":_gecc ,_db :=_dca .ColorStroking .(*_gfe .PdfColorDeviceRGB );if !_db {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dca .ColorStroking );return nil ;};_fe .SetStrokeRGBA (_gecc .R (),_gecc .G (),_gecc .B (),1);case "\u006b":_cafe ,_dab :=_dca .ColorNonStroking .(*_gfe .PdfColorDeviceCMYK );if !_dab {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dca .ColorNonStroking );return nil ;};_cdf ,_acgc :=_dca .ColorspaceNonStroking .ColorToRGB (_cafe );if _acgc !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dca .ColorNonStroking );return nil ;};_ea ,_dab :=_cdf .(*_gfe .PdfColorDeviceRGB );if !_dab {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cdf );return nil ;};_fe .SetFillRGBA (_ea .R (),_ea .G (),_ea .B (),1);case "\u004b":_dbd ,_debb :=_dca .ColorStroking .(*_gfe .PdfColorDeviceCMYK );if !_debb {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dca .ColorStroking );return nil ;};_edc ,_aaa :=_dca .ColorspaceStroking .ColorToRGB (_dbd );if _aaa !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dca .ColorStroking );return nil ;};_fba ,_debb :=_edc .(*_gfe .PdfColorDeviceRGB );if !_debb {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_edc );return nil ;};_fe .SetStrokeRGBA (_fba .R (),_fba .G (),_fba .B (),1);case "\u0067":_cgf ,_acad :=_dca .ColorNonStroking .(*_gfe .PdfColorDeviceGray );if !_acad {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dca .ColorNonStroking );return nil ;};_fa ,_dba :=_dca .ColorspaceNonStroking .ColorToRGB (_cgf );if _dba !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dca .ColorNonStroking );return nil ;};_abc ,_acad :=_fa .(*_gfe .PdfColorDeviceRGB );if !_acad {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fa );return nil ;};_fe .SetFillRGBA (_abc .R (),_abc .G (),_abc .B (),1);case "\u0047":_ddgd ,_ddgde :=_dca .ColorStroking .(*_gfe .PdfColorDeviceGray );if !_ddgde {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dca .ColorStroking );return nil ;};_cdg ,_fdf :=_dca .ColorspaceStroking .ColorToRGB (_ddgd );if _fdf !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dca .ColorStroking );return nil ;};_aea ,_ddgde :=_cdg .(*_gfe .PdfColorDeviceRGB );if !_ddgde {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cdg );return nil ;};_fe .SetStrokeRGBA (_aea .R (),_aea .G (),_aea .B (),1);case "\u0063\u0073","\u0073\u0063","\u0073\u0063\u006e":_cdga ,_fdc :=_dca .ColorspaceNonStroking .ColorToRGB (_dca .ColorNonStroking );if _fdc !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dca .ColorNonStroking );return nil ;};_fbd ,_gaee :=_cdga .(*_gfe .PdfColorDeviceRGB );if !_gaee {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cdga );return nil ;};_fe .SetFillRGBA (_fbd .R (),_fbd .G (),_fbd .B (),1);case "\u0043\u0053","\u0053\u0043","\u0053\u0043\u004e":_dga ,_fce :=_dca .ColorspaceStroking .ColorToRGB (_dca .ColorStroking );if _fce !=nil {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dca .ColorStroking );return nil ;};_gac ,_adg :=_dga .(*_gfe .PdfColorDeviceRGB );if !_adg {_eb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dga );return nil ;};_fe .SetStrokeRGBA (_gac .R (),_gac .G (),_gac .B (),1);case "\u0044\u006f":if len (_fcf .Params )!=1{return _fge ;};_cec ,_ecc :=_ae .GetName (_fcf .Params [0]);if !_ecc {return _ag ;};_ ,_bfaf :=_df .GetXObjectByName (*_cec );switch _bfaf {case _gfe .XObjectTypeImage :_eb .Log .Debug ("\u0058\u004f\u0062\u006a\u0065\u0063\u0074\u0020\u0069\u006d\u0061\u0067e\u003a\u0020\u0025\u0073",_cec .String ());_fed ,_aaab :=_df .GetXObjectImageByName (*_cec );if _aaab !=nil {return _aaab ;};_baf ,_aaab :=_fed .ToImage ();if _aaab !=nil {return _aaab ;};_caa ,_aaab :=_baf .ToGoImage ();if _aaab !=nil {return _aaab ;};_bga :=_caa .Bounds ();_fe .Push ();_fe .Scale (1.0/float64 (_bga .Dx ()),-1.0/float64 (_bga .Dy ()));_fe .DrawImageAnchored (_caa ,0,0,0,1);_fe .Pop ();case _gfe .XObjectTypeForm :_eb .Log .Debug ("\u0058\u004fb\u006a\u0065\u0063t\u0020\u0066\u006f\u0072\u006d\u003a\u0020\u0025\u0073",_cec .String ());_dbg ,_faa :=_df .GetXObjectFormByName (*_cec );if _faa !=nil {return _faa ;};_dac ,_faa :=_dbg .GetContentStream ();if _faa !=nil {return _faa ;};_dfbc :=_dbg .Resources ;if _dfbc ==nil {_dfbc =_df ;};_fe .Push ();if _dbg .Matrix !=nil {_bge ,_bbe :=_ae .GetArray (_dbg .Matrix );if !_bbe {return _ag ;};_abea ,_ffe :=_ae .GetNumbersAsFloat (_bge .Elements ());if _ffe !=nil {return _ffe ;};if len (_abea )!=6{return _fge ;};_gda :=_eg .NewMatrix (_abea [0],_abea [1],_abea [2],_abea [3],_abea [4],_abea [5]);_fe .SetMatrix (_fe .Matrix ().Mult (_gda ));};if _dbg .BBox !=nil {_ccba ,_ebac :=_ae .GetArray (_dbg .BBox );if !_ebac {return _ag ;};_eff ,_aad :=_ae .GetNumbersAsFloat (_ccba .Elements ());if _aad !=nil {return _aad ;};if len (_eff )!=4{_eb .Log .Debug ("\u004c\u0065\u006e\u0020\u003d\u0020\u0025\u0064",len (_eff ));return _fge ;};_fe .DrawRectangle (_eff [0],_eff [1],_eff [2]-_eff [0],_eff [3]-_eff [1]);_fe .SetRGBA (1,0,0,1);_fe .Clip ();}else {_eb .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0052\u0065q\u0075\u0069\u0072e\u0064\u0020\u0042\u0042\u006f\u0078\u0020\u006d\u0069ss\u0069\u006e\u0067 \u006f\u006e \u0058\u004f\u0062\u006a\u0065\u0063t\u0020\u0046o\u0072\u006d");};_faa =_fgf .renderContentStream (_fe ,string (_dac ),_dfbc );if _faa !=nil {return _faa ;};_fe .Pop ();};case "\u0042\u0049":if len (_fcf .Params )!=1{return _fge ;};_ggdd ,_fda :=_fcf .Params [0].(*_ed .ContentStreamInlineImage );if !_fda {return nil ;};_dda ,_efgf :=_ggdd .ToImage (_df );if _efgf !=nil {return _efgf ;};_cfd ,_efgf :=_dda .ToGoImage ();if _efgf !=nil {return _efgf ;};_abf :=_cfd .Bounds ();_fe .Push ();_fe .Scale (1.0/float64 (_abf .Dx ()),-1.0/float64 (_abf .Dy ()));_fe .DrawImageAnchored (_cfd ,0,0,0,1);_fe .Pop ();case "\u0042\u0054":_fea .Reset ();case "\u0045\u0054":_fea .Reset ();case "\u0054\u004c":if len (_fcf .Params )!=1{return _fge ;};_gge ,_dge :=_ae .GetNumberAsFloat (_fcf .Params [0]);if _dge !=nil {return _dge ;};_fea .Tl =_gge ;case "\u0054\u0063":if len (_fcf .Params )!=1{return _fge ;};_fag ,_acab :=_ae .GetNumberAsFloat (_fcf .Params [0]);if _acab !=nil {return _acab ;};_fea .Tc =_fag ;case "\u0054\u0077":if len (_fcf .Params )!=1{return _fge ;};_aec ,_efda :=_ae .GetNumberAsFloat (_fcf .Params [0]);if _efda !=nil {return _efda ;};_fea .Tw =_aec ;case "\u0054\u007a":if len (_fcf .Params )!=1{return _fge ;};_gfge ,_cce :=_ae .GetNumberAsFloat (_fcf .Params [0]);if _cce !=nil {return _cce ;};_fea .Th =_gfge ;case "\u0054\u0073":if len (_fcf .Params )!=1{return _fge ;};_fgd ,_edd :=_ae .GetNumberAsFloat (_fcf .Params [0]);if _edd !=nil {return _edd ;};_fea .Ts =_fgd ;case "\u0054\u0064":if len (_fcf .Params )!=2{return _fge ;};_edca ,_cfcb :=_ae .GetNumbersAsFloat (_fcf .Params );if _cfcb !=nil {return _cfcb ;};_eb .Log .Debug ("\u0054\u0064\u003a\u0020\u0025\u0076",_edca );_fea .ProcTd (_edca [0],_edca [1]);case "\u0054\u0044":if len (_fcf .Params )!=2{return _fge ;};_ceca ,_gbb :=_ae .GetNumbersAsFloat (_fcf .Params );if _gbb !=nil {return _gbb ;};_eb .Log .Debug ("\u0054\u0044\u003a\u0020\u0025\u0076",_ceca );_fea .ProcTD (_ceca [0],_ceca [1]);case "\u0054\u002a":_fea .ProcTStar ();case "\u0054\u006d":if len (_fcf .Params )!=6{return _fge ;};_beg ,_ccag :=_ae .GetNumbersAsFloat (_fcf .Params );if _ccag !=nil {return _ccag ;};_eb .Log .Debug ("\u0054\u0065x\u0074\u0020\u006da\u0074\u0072\u0069\u0078\u003a\u0020\u0025\u002b\u0076",_beg );_fea .ProcTm (_beg [0],_beg [1],_beg [2],_beg [3],_beg [4],_beg [5]);case "\u0027":if len (_fcf .Params )!=1{return _fge ;};_edad ,_efde :=_ae .GetStringBytes (_fcf .Params [0]);if !_efde {return _ag ;};_eb .Log .Debug ("\u0027\u0020\u0073t\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_edad ));_fea .ProcQ (_edad ,_fe );case "\u0022":if len (_fcf .Params )!=3{return _fge ;};_ffg ,_dgg :=_ae .GetNumberAsFloat (_fcf .Params [0]);if _dgg !=nil {return _dgg ;};_egad ,_dgg :=_ae .GetNumberAsFloat (_fcf .Params [1]);if _dgg !=nil {return _dgg ;};_dbb ,_gca :=_ae .GetStringBytes (_fcf .Params [2]);if !_gca {return _ag ;};_fea .ProcDQ (_dbb ,_ffg ,_egad ,_fe );case "\u0054\u006a":if len (_fcf .Params )!=1{return _fge ;};_fcd ,_faf :=_ae .GetStringBytes (_fcf .Params [0]);if !_faf {return _ag ;};_eb .Log .Debug ("\u0054j\u0020s\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0060\u0025\u0073\u0060",string (_fcd ));_fea .ProcTj (_fcd ,_fe );case "\u0054\u004a":if len (_fcf .Params )!=1{return _fge ;};_ebgc ,_ecd :=_ae .GetArray (_fcf .Params [0]);if !_ecd {_eb .Log .Debug ("\u0054\u0079\u0070\u0065\u003a\u0020\u0025\u0054",_ebgc );return _ag ;};_eb .Log .Debug ("\u0054\u004a\u0020\u0061\u0072\u0072\u0061\u0079\u003a\u0020\u0025\u002b\u0076",_ebgc );for _ ,_egfa :=range _ebgc .Elements (){switch _gaa :=_egfa .(type ){case *_ae .PdfObjectString :if _gaa !=nil {_fea .ProcTj (_gaa .Bytes (),_fe );};case *_ae .PdfObjectFloat ,*_ae .PdfObjectInteger :_cfe ,_gaef :=_ae .GetNumberAsFloat (_gaa );if _gaef ==nil {_fea .Translate (-_cfe *0.001*_fea .Tf .Size ,0);};};};case "\u0054\u0066":if len (_fcf .Params )!=2{return _fge ;};_eb .Log .Debug ("\u0025\u0023\u0076",_fcf .Params );_bde ,_edfd :=_ae .GetName (_fcf .Params [0]);if !_edfd ||_bde ==nil {_eb .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u006e\u0061m\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_fcf .Params [0]);return _ag ;};_eb .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u006e\u0061\u006d\u0065\u003a\u0020\u0025\u0073",_bde .String ());_bbc ,_ebag :=_ae .GetNumberAsFloat (_fcf .Params [1]);if _ebag !=nil {_eb .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u0073\u0069z\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_fcf .Params [1]);return _ag ;};_eb .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u0073\u0069\u007a\u0065\u003a\u0020\u0025\u0076",_bbc );_def ,_bffb :=_df .GetFontByName (*_bde );if !_bffb {_eb .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0046\u006f\u006e\u0074\u0020\u0025s\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064",_bde .String ());return _g .New ("\u0066\u006f\u006e\u0074\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};_eb .Log .Debug ("\u0046\u006f\u006e\u0074\u003a\u0020\u0025\u0054",_def );_ggeg ,_edfd :=_ae .GetDict (_def );if !_edfd {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075l\u0064\u0020\u006e\u006f\u0074\u0020\u0067e\u0074\u0020\u0066\u006f\u006e\u0074\u0020\u0064\u0069\u0063\u0074");return _ag ;};_gcea ,_ebag :=_gfe .NewPdfFontFromPdfObject (_ggeg );if _ebag !=nil {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066\u0072\u006fm\u0020\u006fb\u006a\u0065\u0063\u0074");return _ebag ;};_gaab :=_gcea .BaseFont ();if _gaab ==""{_gaab =_bde .String ();};_ebdd ,_edfd :=_dcd [_gaab ];if !_edfd {_ebdd ,_ebag =_ge .NewTextFont (_gcea ,_bbc );if _ebag !=nil {_eb .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_ebag );};};if _ebdd ==nil {if len (_gaab )> 7&&_gaab [6]=='+'{_gaab =_gaab [7:];};_bgag :=[]string {_gaab ,"\u0054i\u006de\u0073\u0020\u004e\u0065\u0077\u0020\u0052\u006f\u006d\u0061\u006e","\u0041\u0072\u0069a\u006c","D\u0065\u006a\u0061\u0056\u0075\u0020\u0053\u0061\u006e\u0073"};for _ ,_dged :=range _bgag {_eb .Log .Debug ("\u0044\u0045\u0042\u0055\u0047\u003a \u0073\u0065\u0061\u0072\u0063\u0068\u0069\u006e\u0067\u0020\u0073\u0079\u0073t\u0065\u006d\u0020\u0066\u006f\u006e\u0074 \u0060\u0025\u0073\u0060",_dged );if _ebdd ,_edfd =_dcd [_dged ];_edfd {break ;};_ced :=_bfa .Match (_dged );if _ced ==nil {_eb .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u0066\u0069\u006e\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_dged );continue ;};_ebdd ,_ebag =_ge .NewTextFontFromPath (_ced .Filename ,_bbc );if _ebag !=nil {_eb .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_ced .Filename );continue ;};_eb .Log .Debug ("\u0053\u0075\u0062\u0073\u0074\u0069t\u0075\u0074\u0069\u006e\u0067\u0020\u0066\u006f\u006e\u0074\u0020\u0025\u0073 \u0077\u0069\u0074\u0068\u0020\u0025\u0073 \u0028\u0025\u0073\u0029",_gaab ,_ced .Name ,_ced .Filename );_dcd [_dged ]=_ebdd ;break ;};};if _ebdd ==nil {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020n\u006f\u0074\u0020\u0066\u0069\u006ed\u0020\u0061\u006e\u0079\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065 \u0066\u006f\u006e\u0074");return _g .New ("\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0066\u0069\u006e\u0064\u0020a\u006ey\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065\u0020\u0066\u006f\u006e\u0074");};_fea .ProcTf (_ebdd .WithSize (_bbc ,_gcea ));case "\u0042\u004d\u0043","\u0042\u0044\u0043":case "\u0045\u004d\u0043":default:_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0073u\u0070\u0070\u006f\u0072\u0074\u0065\u0064 \u006f\u0070\u0065\u0072\u0061\u006e\u0064\u003a\u0020\u0025\u0073",_fcf .Operand );};return nil ;});_fc =_ggd .Process (_ga );if _fc !=nil {return _fc ;};return nil ;};
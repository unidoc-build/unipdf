//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package render ;import (_g "errors";_f "fmt";_baa "github.com/adrg/sysfont";_be "github.com/unidoc/unipdf/v3/common";_ce "github.com/unidoc/unipdf/v3/contentstream";_ab "github.com/unidoc/unipdf/v3/core";_fc "github.com/unidoc/unipdf/v3/internal/transform";_dg "github.com/unidoc/unipdf/v3/model";_de "github.com/unidoc/unipdf/v3/render/internal/context";_df "github.com/unidoc/unipdf/v3/render/internal/context/imagerender";_gg "image";_e "image/draw";_a "image/jpeg";_d "image/png";_ba "os";_cb "path/filepath";_c "strings";);var (_fg =_g .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");_gc =_g .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072"););

// NewImageDevice returns a new image device.
func NewImageDevice ()*ImageDevice {return &ImageDevice {}};func (_fa renderer )renderPage (_abg _de .Context ,_eg *_dg .PdfPage )error {_ac ,_ef :=_eg .GetAllContentStreams ();if _ef !=nil {return _ef ;};_abg .Translate (0,float64 (_abg .Height ()));_abg .Scale (1,-1);_abg .Push ();_abg .SetRGBA (1,1,1,1);_abg .DrawRectangle (0,0,float64 (_abg .Width ()),float64 (_abg .Height ()));_abg .Fill ();_abg .Pop ();_abg .SetLineWidth (1.0);_abg .SetRGBA (0,0,0,1);return _fa .renderContentStream (_abg ,_ac ,_eg .Resources );};

// ImageDevice is used to render PDF pages to image targets.
type ImageDevice struct{renderer };type renderer struct{};func _fff (_cga string ,_bc _gg .Image ,_dc int )error {_dgb ,_eb :=_ba .Create (_cga );if _eb !=nil {return _eb ;};defer _dgb .Close ();return _a .Encode (_dgb ,_bc ,&_a .Options {Quality :_dc });};func _cd (_ddc string ,_cc _gg .Image )error {_ddg ,_db :=_ba .Create (_ddc );if _db !=nil {return _db ;};defer _ddg .Close ();return _d .Encode (_ddg ,_cc );};func (_eff renderer )renderContentStream (_baf _de .Context ,_fb string ,_fd *_dg .PdfPageResources )error {_ea ,_fae :=_ce .NewContentStreamParser (_fb ).Parse ();if _fae !=nil {return _fae ;};_fgb :=_baf .TextState ();_fe :=map[string ]*_de .TextFont {};_fdd :=_baa .NewFinder (&_baa .FinderOpts {Extensions :[]string {"\u002e\u0074\u0074\u0066","\u002e\u0074\u0074\u0063"}});_cee :=_ce .NewContentStreamProcessor (*_ea );_cee .AddHandler (_ce .HandlerConditionEnumAllOperands ,"",func (_ceb *_ce .ContentStreamOperation ,_gcd _ce .GraphicsState ,_gea *_dg .PdfPageResources )error {_be .Log .Debug ("\u0050\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0025\u0073",_ceb .Operand );switch _ceb .Operand {case "\u0071":_baf .Push ();case "\u0051":_baf .Pop ();case "\u0063\u006d":if len (_ceb .Params )!=6{return _gc ;};_bd ,_gdd :=_ab .GetNumbersAsFloat (_ceb .Params );if _gdd !=nil {return _gdd ;};_ddeg :=_fc .NewMatrix (_bd [0],_bd [1],_bd [2],_bd [3],_bd [4],_bd [5]);_be .Log .Debug ("\u0047\u0072\u0061\u0070\u0068\u0069\u0063\u0073\u0020\u0073\u0074a\u0074\u0065\u0020\u006d\u0061\u0074\u0072\u0069\u0078\u003a \u0025\u002b\u0076",_ddeg );_baf .SetMatrix (_baf .Matrix ().Mult (_ddeg ));_bdb :=(_gcd .CTM .ScalingFactorX ()+_gcd .CTM .ScalingFactorY ())/2.0;_baf .SetLineWidth (_bdb *_baf .LineWidth ());case "\u0077":if len (_ceb .Params )!=1{return _gc ;};_dda ,_cbd :=_ab .GetNumbersAsFloat (_ceb .Params );if _cbd !=nil {return _cbd ;};_ffg :=(_gcd .CTM .ScalingFactorX ()+_gcd .CTM .ScalingFactorY ())/2.0;_baf .SetLineWidth (_ffg *_dda [0]);case "\u004a":if len (_ceb .Params )!=1{return _gc ;};_fdf ,_af :=_ab .GetIntVal (_ceb .Params [0]);if !_af {return _fg ;};switch _fdf {case 0:_baf .SetLineCap (_de .LineCapButt );case 1:_baf .SetLineCap (_de .LineCapRound );case 2:_baf .SetLineCap (_de .LineCapSquare );default:_be .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u006ee\u0020\u0063\u0061\u0070\u0020\u0073\u0074\u0079\u006c\u0065:\u0020\u0025\u0064",_fdf );return _gc ;};case "\u006a":if len (_ceb .Params )!=1{return _gc ;};_ag ,_acg :=_ab .GetIntVal (_ceb .Params [0]);if !_acg {return _fg ;};switch _ag {case 0:_baf .SetLineJoin (_de .LineJoinBevel );case 1:_baf .SetLineJoin (_de .LineJoinRound );case 2:_baf .SetLineJoin (_de .LineJoinBevel );default:_be .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006c\u0069\u006e\u0065\u0020\u006a\u006f\u0069\u006e \u0073\u0074\u0079l\u0065:\u0020\u0025\u0064",_ag );return _gc ;};case "\u004d":if len (_ceb .Params )!=1{return _gc ;};_gbc ,_aca :=_ab .GetNumbersAsFloat (_ceb .Params );if _aca !=nil {return _aca ;};_ =_gbc ;_be .Log .Debug ("\u004di\u0074\u0065\u0072\u0020l\u0069\u006d\u0069\u0074\u0020n\u006ft\u0020s\u0075\u0070\u0070\u006f\u0072\u0074\u0065d");case "\u0064":if len (_ceb .Params )!=2{return _gc ;};_bdc ,_bb :=_ab .GetArray (_ceb .Params [0]);if !_bb {return _fg ;};_dgbd ,_bb :=_ab .GetIntVal (_ceb .Params [1]);if !_bb {return _fg ;};_gada ,_cgac :=_ab .GetNumbersAsFloat (_bdc .Elements ());if _cgac !=nil {return _cgac ;};_baf .SetDash (_gada ...);_ =_dgbd ;_be .Log .Debug ("\u004c\u0069n\u0065\u0020\u0064\u0061\u0073\u0068\u0020\u0070\u0068\u0061\u0073\u0065\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006frt\u0065\u0064");case "\u0072\u0069":_be .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020i\u006e\u0074\u0065\u006e\u0074\u0020\u006eo\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");case "\u0069":_be .Log .Debug ("\u0046\u006c\u0061\u0074\u006e\u0065\u0073\u0073\u0020\u0074\u006f\u006c\u0065\u0072\u0061n\u0063e\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");case "\u0067\u0073":if len (_ceb .Params )!=1{return _gc ;};_ae ,_deg :=_ab .GetName (_ceb .Params [0]);if !_deg {return _fg ;};if _ae ==nil {return _gc ;};_bbf ,_deg :=_gea .GetExtGState (*_ae );if !_deg {_be .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006eo\u0074 \u0066i\u006ed\u0020\u0072\u0065\u0073\u006f\u0075\u0072\u0063\u0065\u003a\u0020\u0025\u0073",*_ae );return _g .New ("\u0072e\u0073o\u0075\u0072\u0063\u0065\u0020n\u006f\u0074 \u0066\u006f\u0075\u006e\u0064");};_fgbc ,_deg :=_ab .GetDict (_bbf );if !_deg {_be .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020c\u006f\u0075\u006c\u0064 ge\u0074 g\u0072\u0061\u0070\u0068\u0069\u0063\u0073 s\u0074\u0061\u0074\u0065\u0020\u0064\u0069c\u0074");return _fg ;};_be .Log .Debug ("G\u0053\u0020\u0064\u0069\u0063\u0074\u003a\u0020\u0025\u0073",_fgbc .String ());case "\u006d":if len (_ceb .Params )!=2{_be .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006d\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_gc );return nil ;};_bg ,_aeg :=_ab .GetNumbersAsFloat (_ceb .Params );if _aeg !=nil {return _aeg ;};_be .Log .Debug ("M\u006f\u0076\u0065\u0020\u0074\u006f\u003a\u0020\u0025\u0076",_bg );_baf .NewSubPath ();_baf .MoveTo (_bg [0],_bg [1]);case "\u006c":if len (_ceb .Params )!=2{_be .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006c\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_gc );return nil ;};_afc ,_efa :=_ab .GetNumbersAsFloat (_ceb .Params );if _efa !=nil {return _efa ;};_baf .LineTo (_afc [0],_afc [1]);case "\u0063":if len (_ceb .Params )!=6{return _gc ;};_eed ,_eac :=_ab .GetNumbersAsFloat (_ceb .Params );if _eac !=nil {return _eac ;};_be .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_eed );_baf .CubicTo (_eed [0],_eed [1],_eed [2],_eed [3],_eed [4],_eed [5]);case "\u0076","\u0079":if len (_ceb .Params )!=4{return _gc ;};_bbe ,_gca :=_ab .GetNumbersAsFloat (_ceb .Params );if _gca !=nil {return _gca ;};_be .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_bbe );_baf .QuadraticTo (_bbe [0],_bbe [1],_bbe [2],_bbe [3]);case "\u0068":_baf .ClosePath ();_baf .NewSubPath ();case "\u0072\u0065":if len (_ceb .Params )!=4{return _gc ;};_egb ,_cbf :=_ab .GetNumbersAsFloat (_ceb .Params );if _cbf !=nil {return _cbf ;};_baf .DrawRectangle (_egb [0],_egb [1],_egb [2],_egb [3]);_baf .NewSubPath ();case "\u0053":_fba ,_eec :=_gcd .ColorspaceStroking .ColorToRGB (_gcd .ColorStroking );if _eec !=nil {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eec );return _eec ;};_eae ,_ec :=_fba .(*_dg .PdfColorDeviceRGB );if !_ec {_be .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _eec ;};_baf .SetRGBA (_eae .R (),_eae .G (),_eae .B (),1);_baf .Stroke ();case "\u0073":_eace ,_aa :=_gcd .ColorspaceStroking .ColorToRGB (_gcd .ColorStroking );if _aa !=nil {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aa );return _aa ;};_gaa ,_bagd :=_eace .(*_dg .PdfColorDeviceRGB );if !_bagd {_be .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _aa ;};_baf .ClosePath ();_baf .NewSubPath ();_baf .SetRGBA (_gaa .R (),_gaa .G (),_gaa .B (),1);_baf .Stroke ();case "\u0066","\u0046":_caf ,_gbce :=_gcd .ColorspaceNonStroking .ColorToRGB (_gcd .ColorNonStroking );if _gbce !=nil {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gbce );return _gbce ;};_fef ,_ebe :=_caf .(*_dg .PdfColorDeviceRGB );if !_ebe {_be .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _gbce ;};_baf .SetRGBA (_fef .R (),_fef .G (),_fef .B (),1);_baf .SetFillRule (_de .FillRuleWinding );_baf .Fill ();case "\u0066\u002a":_gdda ,_eag :=_gcd .ColorspaceNonStroking .ColorToRGB (_gcd .ColorNonStroking );if _eag !=nil {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eag );return _eag ;};_fca ,_afd :=_gdda .(*_dg .PdfColorDeviceRGB );if !_afd {_be .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _eag ;};_baf .SetRGBA (_fca .R (),_fca .G (),_fca .B (),1);_baf .SetFillRule (_de .FillRuleEvenOdd );_baf .Fill ();case "\u0042":_eba ,_acf :=_gcd .ColorspaceNonStroking .ColorToRGB (_gcd .ColorNonStroking );if _acf !=nil {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_acf );return _acf ;};_dbb :=_eba .(*_dg .PdfColorDeviceRGB );_baf .SetRGBA (_dbb .R (),_dbb .G (),_dbb .B (),1);_baf .SetFillRule (_de .FillRuleWinding );_baf .FillPreserve ();_eba ,_acf =_gcd .ColorspaceStroking .ColorToRGB (_gcd .ColorStroking );if _acf !=nil {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_acf );return _acf ;};_dbb =_eba .(*_dg .PdfColorDeviceRGB );_baf .SetRGBA (_dbb .R (),_dbb .G (),_dbb .B (),1);_baf .Stroke ();case "\u0042\u002a":_cdf ,_bgg :=_gcd .ColorspaceNonStroking .ColorToRGB (_gcd .ColorNonStroking );if _bgg !=nil {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bgg );return _bgg ;};_bf :=_cdf .(*_dg .PdfColorDeviceRGB );_baf .SetRGBA (_bf .R (),_bf .G (),_bf .B (),1);_baf .SetFillRule (_de .FillRuleEvenOdd );_baf .FillPreserve ();_cdf ,_bgg =_gcd .ColorspaceStroking .ColorToRGB (_gcd .ColorStroking );if _bgg !=nil {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bgg );return _bgg ;};_bf =_cdf .(*_dg .PdfColorDeviceRGB );_baf .SetRGBA (_bf .R (),_bf .G (),_bf .B (),1);_baf .Stroke ();case "\u0062":_fad ,_gbe :=_gcd .ColorspaceNonStroking .ColorToRGB (_gcd .ColorNonStroking );if _gbe !=nil {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gbe );return _gbe ;};_ffa :=_fad .(*_dg .PdfColorDeviceRGB );_baf .SetRGBA (_ffa .R (),_ffa .G (),_ffa .B (),1);_baf .ClosePath ();_baf .NewSubPath ();_baf .SetFillRule (_de .FillRuleWinding );_baf .FillPreserve ();_fad ,_gbe =_gcd .ColorspaceStroking .ColorToRGB (_gcd .ColorStroking );if _gbe !=nil {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gbe );return _gbe ;};_ffa =_fad .(*_dg .PdfColorDeviceRGB );_baf .SetRGBA (_ffa .R (),_ffa .G (),_ffa .B (),1);_baf .Stroke ();case "\u0062\u002a":_baf .ClosePath ();_abb ,_efb :=_gcd .ColorspaceNonStroking .ColorToRGB (_gcd .ColorNonStroking );if _efb !=nil {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_efb );return _efb ;};_gaf :=_abb .(*_dg .PdfColorDeviceRGB );_baf .SetRGBA (_gaf .R (),_gaf .G (),_gaf .B (),1);_baf .NewSubPath ();_baf .SetFillRule (_de .FillRuleEvenOdd );_baf .FillPreserve ();_abb ,_efb =_gcd .ColorspaceStroking .ColorToRGB (_gcd .ColorStroking );if _efb !=nil {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_efb );return _efb ;};_gaf =_abb .(*_dg .PdfColorDeviceRGB );_baf .SetRGBA (_gaf .R (),_gaf .G (),_gaf .B (),1);_baf .Stroke ();case "\u006e":_baf .ClearPath ();case "\u0057":_baf .SetFillRule (_de .FillRuleWinding );_baf .ClipPreserve ();case "\u0057\u002a":_baf .SetFillRule (_de .FillRuleEvenOdd );_baf .ClipPreserve ();case "\u0072\u0067":_faa ,_fdb :=_gcd .ColorNonStroking .(*_dg .PdfColorDeviceRGB );if !_fdb {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gcd .ColorNonStroking );return nil ;};_baf .SetFillRGBA (_faa .R (),_faa .G (),_faa .B (),1);case "\u0052\u0047":_da ,_baad :=_gcd .ColorStroking .(*_dg .PdfColorDeviceRGB );if !_baad {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gcd .ColorStroking );return nil ;};_baf .SetStrokeRGBA (_da .R (),_da .G (),_da .B (),1);case "\u006b":_eee ,_bcc :=_gcd .ColorNonStroking .(*_dg .PdfColorDeviceCMYK );if !_bcc {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gcd .ColorNonStroking );return nil ;};_fefg ,_adb :=_gcd .ColorspaceNonStroking .ColorToRGB (_eee );if _adb !=nil {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gcd .ColorNonStroking );return nil ;};_ebab ,_bcc :=_fefg .(*_dg .PdfColorDeviceRGB );if !_bcc {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fefg );return nil ;};_baf .SetFillRGBA (_ebab .R (),_ebab .G (),_ebab .B (),1);case "\u004b":_cf ,_ffff :=_gcd .ColorStroking .(*_dg .PdfColorDeviceCMYK );if !_ffff {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gcd .ColorStroking );return nil ;};_ffffg ,_fffe :=_gcd .ColorspaceStroking .ColorToRGB (_cf );if _fffe !=nil {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gcd .ColorStroking );return nil ;};_cebf ,_ffff :=_ffffg .(*_dg .PdfColorDeviceRGB );if !_ffff {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ffffg );return nil ;};_baf .SetStrokeRGBA (_cebf .R (),_cebf .G (),_cebf .B (),1);case "\u0067":_gf ,_ffc :=_gcd .ColorNonStroking .(*_dg .PdfColorDeviceGray );if !_ffc {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gcd .ColorNonStroking );return nil ;};_dbd ,_ddge :=_gcd .ColorspaceNonStroking .ColorToRGB (_gf );if _ddge !=nil {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gcd .ColorNonStroking );return nil ;};_ccb ,_ffc :=_dbd .(*_dg .PdfColorDeviceRGB );if !_ffc {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dbd );return nil ;};_baf .SetFillRGBA (_ccb .R (),_ccb .G (),_ccb .B (),1);case "\u0047":_ccc ,_cfb :=_gcd .ColorStroking .(*_dg .PdfColorDeviceGray );if !_cfb {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gcd .ColorStroking );return nil ;};_bdf ,_cgd :=_gcd .ColorspaceStroking .ColorToRGB (_ccc );if _cgd !=nil {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gcd .ColorStroking );return nil ;};_abge ,_cfb :=_bdf .(*_dg .PdfColorDeviceRGB );if !_cfb {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bdf );return nil ;};_baf .SetStrokeRGBA (_abge .R (),_abge .G (),_abge .B (),1);case "\u0063\u0073","\u0073\u0063","\u0073\u0063\u006e":_ed ,_dbg :=_gcd .ColorspaceNonStroking .ColorToRGB (_gcd .ColorNonStroking );if _dbg !=nil {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gcd .ColorNonStroking );return nil ;};_ffgf ,_ggc :=_ed .(*_dg .PdfColorDeviceRGB );if !_ggc {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ed );return nil ;};_baf .SetFillRGBA (_ffgf .R (),_ffgf .G (),_ffgf .B (),1);case "\u0043\u0053","\u0053\u0043","\u0053\u0043\u004e":_fbf ,_dff :=_gcd .ColorspaceStroking .ColorToRGB (_gcd .ColorStroking );if _dff !=nil {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gcd .ColorStroking );return nil ;};_abe ,_fddd :=_fbf .(*_dg .PdfColorDeviceRGB );if !_fddd {_be .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fbf );return nil ;};_baf .SetStrokeRGBA (_abe .R (),_abe .G (),_abe .B (),1);case "\u0044\u006f":if len (_ceb .Params )!=1{return _gc ;};_aab ,_abea :=_ab .GetName (_ceb .Params [0]);if !_abea {return _fg ;};_ ,_add :=_gea .GetXObjectByName (*_aab );switch _add {case _dg .XObjectTypeImage :_be .Log .Debug ("\u0058\u004f\u0062\u006a\u0065\u0063\u0074\u0020\u0069\u006d\u0061\u0067e\u003a\u0020\u0025\u0073",_aab .String ());_aef ,_adbg :=_gea .GetXObjectImageByName (*_aab );if _adbg !=nil {return _adbg ;};_fbc ,_adbg :=_aef .ToImage ();if _adbg !=nil {return _adbg ;};_efd ,_adbg :=_fbc .ToGoImage ();if _adbg !=nil {return _adbg ;};_dbba :=_efd .Bounds ();_baf .Push ();_baf .Scale (1.0/float64 (_dbba .Dx ()),-1.0/float64 (_dbba .Dy ()));_baf .DrawImageAnchored (_efd ,0,0,0,1);_baf .Pop ();case _dg .XObjectTypeForm :_be .Log .Debug ("\u0058\u004fb\u006a\u0065\u0063t\u0020\u0066\u006f\u0072\u006d\u003a\u0020\u0025\u0073",_aab .String ());_dee ,_cfa :=_gea .GetXObjectFormByName (*_aab );if _cfa !=nil {return _cfa ;};_gbcb ,_cfa :=_dee .GetContentStream ();if _cfa !=nil {return _cfa ;};_fcaa :=_dee .Resources ;if _fcaa ==nil {_fcaa =_gea ;};_baf .Push ();if _dee .Matrix !=nil {_agg ,_ffae :=_ab .GetArray (_dee .Matrix );if !_ffae {return _fg ;};_dfe ,_dbf :=_ab .GetNumbersAsFloat (_agg .Elements ());if _dbf !=nil {return _dbf ;};if len (_dfe )!=6{return _gc ;};_ecg :=_fc .NewMatrix (_dfe [0],_dfe [1],_dfe [2],_dfe [3],_dfe [4],_dfe [5]);_baf .SetMatrix (_baf .Matrix ().Mult (_ecg ));};if _dee .BBox !=nil {_aaba ,_dgc :=_ab .GetArray (_dee .BBox );if !_dgc {return _fg ;};_bcd ,_ecb :=_ab .GetNumbersAsFloat (_aaba .Elements ());if _ecb !=nil {return _ecb ;};if len (_bcd )!=4{_be .Log .Debug ("\u004c\u0065\u006e\u0020\u003d\u0020\u0025\u0064",len (_bcd ));return _gc ;};_baf .DrawRectangle (_bcd [0],_bcd [1],_bcd [2]-_bcd [0],_bcd [3]-_bcd [1]);_baf .SetRGBA (1,0,0,1);_baf .Clip ();}else {_be .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0052\u0065q\u0075\u0069\u0072e\u0064\u0020\u0042\u0042\u006f\u0078\u0020\u006d\u0069ss\u0069\u006e\u0067 \u006f\u006e \u0058\u004f\u0062\u006a\u0065\u0063t\u0020\u0046o\u0072\u006d");};_cfa =_eff .renderContentStream (_baf ,string (_gbcb ),_fcaa );if _cfa !=nil {return _cfa ;};_baf .Pop ();};case "\u0042\u0049":if len (_ceb .Params )!=1{return _gc ;};_gcf ,_bed :=_ceb .Params [0].(*_ce .ContentStreamInlineImage );if !_bed {return nil ;};_gdg ,_ace :=_gcf .ToImage (_gea );if _ace !=nil {return _ace ;};_dbdd ,_ace :=_gdg .ToGoImage ();if _ace !=nil {return _ace ;};_dba :=_dbdd .Bounds ();_baf .Push ();_baf .Scale (1.0/float64 (_dba .Dx ()),-1.0/float64 (_dba .Dy ()));_baf .DrawImageAnchored (_dbdd ,0,0,0,1);_baf .Pop ();case "\u0042\u0054":_fgb .Reset ();case "\u0045\u0054":_fgb .Reset ();case "\u0054\u004c":if len (_ceb .Params )!=1{return _gc ;};_bfe ,_ebc :=_ab .GetNumberAsFloat (_ceb .Params [0]);if _ebc !=nil {return _ebc ;};_fgb .Tl =_bfe ;case "\u0054\u0063":if len (_ceb .Params )!=1{return _gc ;};_gbg ,_beg :=_ab .GetNumberAsFloat (_ceb .Params [0]);if _beg !=nil {return _beg ;};_fgb .Tc =_gbg ;case "\u0054\u0077":if len (_ceb .Params )!=1{return _gc ;};_egd ,_egc :=_ab .GetNumberAsFloat (_ceb .Params [0]);if _egc !=nil {return _egc ;};_fgb .Tw =_egd ;case "\u0054\u007a":if len (_ceb .Params )!=1{return _gc ;};_eeag ,_fgd :=_ab .GetNumberAsFloat (_ceb .Params [0]);if _fgd !=nil {return _fgd ;};_fgb .Th =_eeag ;case "\u0054\u0073":if len (_ceb .Params )!=1{return _gc ;};_dgca ,_gbf :=_ab .GetNumberAsFloat (_ceb .Params [0]);if _gbf !=nil {return _gbf ;};_fgb .Ts =_dgca ;case "\u0054\u0064":if len (_ceb .Params )!=2{return _gc ;};_ged ,_gee :=_ab .GetNumbersAsFloat (_ceb .Params );if _gee !=nil {return _gee ;};_be .Log .Debug ("\u0054\u0064\u003a\u0020\u0025\u0076",_ged );_fgb .ProcTd (_ged [0],_ged [1]);case "\u0054\u0044":if len (_ceb .Params )!=2{return _gc ;};_bcca ,_bde :=_ab .GetNumbersAsFloat (_ceb .Params );if _bde !=nil {return _bde ;};_be .Log .Debug ("\u0054\u0044\u003a\u0020\u0025\u0076",_bcca );_fgb .ProcTD (_bcca [0],_bcca [1]);case "\u0054\u002a":_fgb .ProcTStar ();case "\u0054\u006d":if len (_ceb .Params )!=6{return _gc ;};_bca ,_adf :=_ab .GetNumbersAsFloat (_ceb .Params );if _adf !=nil {return _adf ;};_be .Log .Debug ("\u0054\u0065x\u0074\u0020\u006da\u0074\u0072\u0069\u0078\u003a\u0020\u0025\u002b\u0076",_bca );_fgb .ProcTm (_bca [0],_bca [1],_bca [2],_bca [3],_bca [4],_bca [5]);case "\u0027":if len (_ceb .Params )!=1{return _gc ;};_bafb ,_gda :=_ab .GetStringBytes (_ceb .Params [0]);if !_gda {return _fg ;};_be .Log .Debug ("\u0027\u0020\u0073t\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_bafb ));_fgb .ProcQ (_bafb ,_baf );case "\u0022":if len (_ceb .Params )!=3{return _gc ;};_bec ,_feb :=_ab .GetNumberAsFloat (_ceb .Params [0]);if _feb !=nil {return _feb ;};_def ,_feb :=_ab .GetNumberAsFloat (_ceb .Params [1]);if _feb !=nil {return _feb ;};_eab ,_fcac :=_ab .GetStringBytes (_ceb .Params [2]);if !_fcac {return _fg ;};_fgb .ProcDQ (_eab ,_bec ,_def ,_baf );case "\u0054\u006a":if len (_ceb .Params )!=1{return _gc ;};_eaea ,_gff :=_ab .GetStringBytes (_ceb .Params [0]);if !_gff {return _fg ;};_be .Log .Debug ("\u0054j\u0020s\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0060\u0025\u0073\u0060",string (_eaea ));_fgb .ProcTj (_eaea ,_baf );case "\u0054\u004a":if len (_ceb .Params )!=1{return _gc ;};_acga ,_bad :=_ab .GetArray (_ceb .Params [0]);if !_bad {_be .Log .Debug ("\u0054\u0079\u0070\u0065\u003a\u0020\u0025\u0054",_acga );return _fg ;};_be .Log .Debug ("\u0054\u004a\u0020\u0061\u0072\u0072\u0061\u0079\u003a\u0020\u0025\u002b\u0076",_acga );for _ ,_bgd :=range _acga .Elements (){switch _bda :=_bgd .(type ){case *_ab .PdfObjectString :if _bda !=nil {_fgb .ProcTj (_bda .Bytes (),_baf );};case *_ab .PdfObjectFloat ,*_ab .PdfObjectInteger :_eabb ,_ccbf :=_ab .GetNumberAsFloat (_bda );if _ccbf ==nil {_fgb .Translate (-_eabb *0.001*_fgb .Tf .Size ,0);};};};case "\u0054\u0066":if len (_ceb .Params )!=2{return _gc ;};_be .Log .Debug ("\u0025\u0023\u0076",_ceb .Params );_becb ,_bea :=_ab .GetName (_ceb .Params [0]);if !_bea ||_becb ==nil {_be .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u006e\u0061m\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_ceb .Params [0]);return _fg ;};_be .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u006e\u0061\u006d\u0065\u003a\u0020\u0025\u0073",_becb .String ());_cacc ,_geg :=_ab .GetNumberAsFloat (_ceb .Params [1]);if _geg !=nil {_be .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u0073\u0069z\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_ceb .Params [1]);return _fg ;};_be .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u0073\u0069\u007a\u0065\u003a\u0020\u0025\u0076",_cacc );_ddgf ,_gdgg :=_gea .GetFontByName (*_becb );if !_gdgg {_be .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0046\u006f\u006e\u0074\u0020\u0025s\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064",_becb .String ());return _g .New ("\u0066\u006f\u006e\u0074\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};_be .Log .Debug ("\u0046\u006f\u006e\u0074\u003a\u0020\u0025\u0054",_ddgf );_aga ,_bea :=_ab .GetDict (_ddgf );if !_bea {_be .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075l\u0064\u0020\u006e\u006f\u0074\u0020\u0067e\u0074\u0020\u0066\u006f\u006e\u0074\u0020\u0064\u0069\u0063\u0074");return _fg ;};_acge ,_geg :=_dg .NewPdfFontFromPdfObject (_aga );if _geg !=nil {_be .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066\u0072\u006fm\u0020\u006fb\u006a\u0065\u0063\u0074");return _geg ;};_dfd :=_acge .BaseFont ();if _dfd ==""{_dfd =_becb .String ();};_gcde ,_bea :=_fe [_dfd ];if !_bea {_gcde ,_geg =_de .NewTextFont (_acge ,_cacc );if _geg !=nil {_be .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_geg );};};if _gcde ==nil {if len (_dfd )> 7&&_dfd [6]=='+'{_dfd =_dfd [7:];};_cdfc :=[]string {_dfd ,"\u0054i\u006de\u0073\u0020\u004e\u0065\u0077\u0020\u0052\u006f\u006d\u0061\u006e","\u0041\u0072\u0069a\u006c","D\u0065\u006a\u0061\u0056\u0075\u0020\u0053\u0061\u006e\u0073"};for _ ,_ecgc :=range _cdfc {_be .Log .Debug ("\u0044\u0045\u0042\u0055\u0047\u003a \u0073\u0065\u0061\u0072\u0063\u0068\u0069\u006e\u0067\u0020\u0073\u0079\u0073t\u0065\u006d\u0020\u0066\u006f\u006e\u0074 \u0060\u0025\u0073\u0060",_ecgc );if _gcde ,_bea =_fe [_ecgc ];_bea {break ;};_cbfa :=_fdd .Match (_ecgc );if _cbfa ==nil {_be .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u0066\u0069\u006e\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_ecgc );continue ;};_gcde ,_geg =_de .NewTextFontFromPath (_cbfa .Filename ,_cacc );if _geg !=nil {_be .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_cbfa .Filename );continue ;};_be .Log .Debug ("\u0053\u0075\u0062\u0073\u0074\u0069t\u0075\u0074\u0069\u006e\u0067\u0020\u0066\u006f\u006e\u0074\u0020\u0025\u0073 \u0077\u0069\u0074\u0068\u0020\u0025\u0073 \u0028\u0025\u0073\u0029",_dfd ,_cbfa .Name ,_cbfa .Filename );_fe [_ecgc ]=_gcde ;break ;};};if _gcde ==nil {_be .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020n\u006f\u0074\u0020\u0066\u0069\u006ed\u0020\u0061\u006e\u0079\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065 \u0066\u006f\u006e\u0074");return _g .New ("\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0066\u0069\u006e\u0064\u0020a\u006ey\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065\u0020\u0066\u006f\u006e\u0074");};_fgb .ProcTf (_gcde .WithSize (_cacc ,_acge ));case "\u0042\u004d\u0043","\u0042\u0044\u0043":case "\u0045\u004d\u0043":default:_be .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0073u\u0070\u0070\u006f\u0072\u0074\u0065\u0064 \u006f\u0070\u0065\u0072\u0061\u006e\u0064\u003a\u0020\u0025\u0073",_ceb .Operand );};return nil ;});_fae =_cee .Process (_fd );if _fae !=nil {return _fae ;};return nil ;};

// RenderToPath converts the specified PDF page into an image and saves the
// result at the specified location.
func (_gad *ImageDevice )RenderToPath (page *_dg .PdfPage ,outputPath string )error {_cg ,_dde :=_gad .Render (page );if _dde !=nil {return _dde ;};_adg :=_c .ToLower (_cb .Ext (outputPath ));if _adg ==""{return _g .New ("\u0063\u006ful\u0064\u0020\u006eo\u0074\u0020\u0072\u0065cog\u006eiz\u0065\u0020\u006f\u0075\u0074\u0070\u0075t \u0066\u0069\u006c\u0065\u0020\u0074\u0079p\u0065");};switch _adg {case "\u002e\u0070\u006e\u0067":return _cd (outputPath ,_cg );case "\u002e\u006a\u0070\u0067","\u002e\u006a\u0070e\u0067":return _fff (outputPath ,_cg ,100);};return _f .Errorf ("\u0075\u006e\u0072\u0065\u0063\u006fg\u006e\u0069\u007a\u0065\u0064\u0020\u006f\u0075\u0074\u0070\u0075\u0074\u0020f\u0069\u006c\u0065\u0020\u0074\u0079\u0070e\u003a\u0020\u0025\u0073",_adg );};

// Render converts the specified PDF page into an image and returns the result.
func (_ad *ImageDevice )Render (page *_dg .PdfPage )(_gg .Image ,error ){_ee ,_ge :=page .GetMediaBox ();if _ge !=nil {return nil ,_ge ;};_ga ,_bab :=_ee .Llx +_ee .Width (),_ee .Lly +_ee .Height ();_gd :=_df .NewContext (int (_ga ),int (_bab ));if _eea :=_ad .renderPage (_gd ,page );_eea !=nil {return nil ,_eea ;};_dd :=_gd .Image ();if _ca :=page .CropBox ;_ca !=nil {_gb :=_gg .Rect (0,0,int (_ca .Width ()),int (_ca .Height ()));_cac :=_gg .Pt (int (_ca .Llx ),int (_bab -_ca .Ury ));_ff :=_gg .NewRGBA (_gb );_e .Draw (_ff ,_gb ,_dd ,_cac ,_e .Src );_dd =_ff ;};return _dd ,nil ;};
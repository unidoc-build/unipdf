//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package render ;import (_a "errors";_fad "fmt";_cec "github.com/adrg/sysfont";_ce "github.com/unidoc/unipdf/v3/annotator";_ca "github.com/unidoc/unipdf/v3/common";_ga "github.com/unidoc/unipdf/v3/contentstream";_ab "github.com/unidoc/unipdf/v3/contentstream/draw";
_df "github.com/unidoc/unipdf/v3/core";_c "github.com/unidoc/unipdf/v3/internal/license";_cd "github.com/unidoc/unipdf/v3/internal/transform";_cc "github.com/unidoc/unipdf/v3/model";_bf "github.com/unidoc/unipdf/v3/render/internal/context";_ac "github.com/unidoc/unipdf/v3/render/internal/context/imagerender";
_abf "golang.org/x/image/draw";_e "image";_b "image/color";_db "image/draw";_fa "image/jpeg";_g "image/png";_fd "math";_ag "os";_d "path/filepath";_ff "strings";);func (_ecf renderer )processShading (_efff _bf .Context ,_adc *_cc .PdfShading )(_bf .Gradient ,*_df .PdfObjectArray ,error ){_dcd :=int64 (*_adc .ShadingType );
if _dcd ==int64 (ShadingTypeAxial ){return _ecf .processLinearShading (_efff ,_adc );}else if _dcd ==int64 (ShadingTypeRadial ){return _ecf .processRadialShading (_efff ,_adc );}else {_ca .Log .Debug (_fad .Sprintf ("\u0050r\u006f\u0063e\u0073\u0073\u0069n\u0067\u0020\u0067\u0072\u0061\u0064\u0069e\u006e\u0074\u0020\u0074\u0079\u0070e\u0020\u0025\u0064\u0020\u006e\u006f\u0074\u0020\u0079\u0065\u0074 \u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064",_dcd ));
};return nil ,nil ,nil ;};

// NewImageDevice returns a new image device.
func NewImageDevice ()*ImageDevice {const _eg ="r\u0065\u006e\u0064\u0065r.\u004ee\u0077\u0049\u006d\u0061\u0067e\u0044\u0065\u0076\u0069\u0063\u0065";_c .TrackUse (_eg );return &ImageDevice {};};func (_ffa renderer )processRadialShading (_bdg _bf .Context ,_afc *_cc .PdfShading )(_bf .Gradient ,*_df .PdfObjectArray ,error ){_fdgeb :=_afc .GetContext ().(*_cc .PdfShadingType3 );
if len (_fdgeb .Function )==0{return nil ,nil ,_a .New ("\u006e\u006f\u0020\u0067\u0072\u0061\u0064i\u0065\u006e\u0074 \u0066\u0075\u006e\u0063t\u0069\u006f\u006e\u0020\u0066\u006f\u0075\u006e\u0064\u002c\u0020\u0073\u006b\u0069\u0070\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e");
};_ggf ,_cecf :=_fdgeb .Coords .ToFloat64Array ();if _cecf !=nil {return nil ,nil ,_a .New ("\u0066\u0061\u0069l\u0065\u0064\u0020\u0067e\u0074\u0074\u0069\u006e\u0067\u0020\u0073h\u0061\u0064\u0069\u006e\u0067\u0020\u0070\u006f\u0073\u0069\u0074\u0069\u006f\u006e");
};_bgag :=_afc .ColorSpace ;_dbc :=_df .MakeArrayFromFloats ([]float64 {0,0,1,1});var _fabd ,_adfee ,_bcf ,_cef ,_ace ,_fcba float64 ;_fabd ,_adfee =_bdg .Matrix ().Transform (_ggf [0],_ggf [1]);_bcf ,_cef =_bdg .Matrix ().Transform (_ggf [3],_ggf [4]);
_ace ,_ =_bdg .Matrix ().Transform (_ggf [2],0);_fcba ,_ =_bdg .Matrix ().Transform (_ggf [5],0);_dab ,_ :=_bdg .Matrix ().Translation ();_ace -=_dab ;_fcba -=_dab ;for _fce ,_bcdb :=range _ggf {if _fce ==2||_fce ==5{continue ;};if _bcdb > 1.0{_gec :=_fd .Min (_fabd -_ace ,_bcf -_fcba );
_bfgd :=_fd .Min (_adfee -_ace ,_cef -_fcba );_ged :=_fd .Max (_fabd +_ace ,_bcf +_fcba );_dac :=_fd .Max (_adfee +_ace ,_cef +_fcba );_cafb :=_ged -_gec ;_dged :=_bfgd -_dac ;_dbc =_df .MakeArrayFromFloats ([]float64 {_gec ,_bfgd ,_cafb ,_dged });break ;
};};_bgf :=_ac .NewRadialGradient (_fabd ,_adfee ,_ace ,_bcf ,_cef ,_fcba );if _bbg ,_gfdf :=_fdgeb .Function [0].(*_cc .PdfFunctionType2 );_gfdf {_bgf ,_cecf =_ccbd (_bgf ,_bbg ,_bgag ,1.0,true );}else if _ddad ,_fccb :=_fdgeb .Function [0].(*_cc .PdfFunctionType3 );
_fccb {_gcfa :=append ([]float64 {0},_ddad .Bounds ...);_gcfa =append (_gcfa ,1.0);_bgf ,_cecf =_ffee (_bgf ,_ddad ,_bgag ,_gcfa );};if _cecf !=nil {return nil ,nil ,_cecf ;};return _bgf ,_dbc ,nil ;};func _ffee (_gcdg _bf .Gradient ,_dbea *_cc .PdfFunctionType3 ,_cfa _cc .PdfColorspace ,_agca []float64 )(_bf .Gradient ,error ){var _eadc error ;
for _fdc :=0;_fdc < len (_dbea .Functions );_fdc ++{if _cad ,_ceed :=_dbea .Functions [_fdc ].(*_cc .PdfFunctionType2 );_ceed {_gcdg ,_eadc =_ccbd (_gcdg ,_cad ,_cfa ,_agca [_fdc +1],_fdc ==0);if _eadc !=nil {return nil ,_eadc ;};};};return _gcdg ,nil ;
};

// RenderToPath converts the specified PDF page into an image and saves the
// result at the specified location.
func (_ed *ImageDevice )RenderToPath (page *_cc .PdfPage ,outputPath string )error {_gag ,_agf :=_ed .Render (page );if _agf !=nil {return _agf ;};_cag :=_ff .ToLower (_d .Ext (outputPath ));if _cag ==""{return _a .New ("\u0063\u006ful\u0064\u0020\u006eo\u0074\u0020\u0072\u0065cog\u006eiz\u0065\u0020\u006f\u0075\u0074\u0070\u0075t \u0066\u0069\u006c\u0065\u0020\u0074\u0079p\u0065");
};switch _cag {case "\u002e\u0070\u006e\u0067":return _fdgb (outputPath ,_gag );case "\u002e\u006a\u0070\u0067","\u002e\u006a\u0070e\u0067":return _geeg (outputPath ,_gag ,100);};return _fad .Errorf ("\u0075\u006e\u0072\u0065\u0063\u006fg\u006e\u0069\u007a\u0065\u0064\u0020\u006f\u0075\u0074\u0070\u0075\u0074\u0020f\u0069\u006c\u0065\u0020\u0074\u0079\u0070e\u003a\u0020\u0025\u0073",_cag );
};func (_caf renderer )renderContentStream (_gc _bf .Context ,_eca string ,_ded *_cc .PdfPageResources )error {_edd ,_eff :=_ga .NewContentStreamParser (_eca ).Parse ();if _eff !=nil {return _eff ;};_edc :=_gc .TextState ();_edc .GlobalScale =_caf ._dg ;
_edb :=map[string ]*_bf .TextFont {};_eef :=_cec .NewFinder (&_cec .FinderOpts {Extensions :[]string {"\u002e\u0074\u0074\u0066","\u002e\u0074\u0074\u0063"}});var _egce *_ga .ContentStreamOperation ;_cbb :=_ga .NewContentStreamProcessor (*_edd );_cbb .AddHandler (_ga .HandlerConditionEnumAllOperands ,"",func (_fbf *_ga .ContentStreamOperation ,_aeg _ga .GraphicsState ,_ddf *_cc .PdfPageResources )error {_ca .Log .Debug ("\u0050\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0025\u0073",_fbf .Operand );
switch _fbf .Operand {case "\u0071":_gc .Push ();case "\u0051":_gc .Pop ();_edc =_gc .TextState ();case "\u0063\u006d":if len (_fbf .Params )!=6{return _aga ;};_gbec ,_cee :=_df .GetNumbersAsFloat (_fbf .Params );if _cee !=nil {return _cee ;};_fdde :=_cd .NewMatrix (_gbec [0],_gbec [1],_gbec [2],_gbec [3],_gbec [4],_gbec [5]);
_ca .Log .Debug ("\u0047\u0072\u0061\u0070\u0068\u0069\u0063\u0073\u0020\u0073\u0074a\u0074\u0065\u0020\u006d\u0061\u0074\u0072\u0069\u0078\u003a \u0025\u002b\u0076",_fdde );_gc .SetMatrix (_gc .Matrix ().Mult (_fdde ));case "\u0077":if len (_fbf .Params )!=1{return _aga ;
};_dee ,_ba :=_df .GetNumbersAsFloat (_fbf .Params );if _ba !=nil {return _ba ;};_gc .SetLineWidth (_dee [0]);case "\u004a":if len (_fbf .Params )!=1{return _aga ;};_eec ,_dga :=_df .GetIntVal (_fbf .Params [0]);if !_dga {return _gad ;};switch _eec {case 0:_gc .SetLineCap (_bf .LineCapButt );
case 1:_gc .SetLineCap (_bf .LineCapRound );case 2:_gc .SetLineCap (_bf .LineCapSquare );default:_ca .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u006ee\u0020\u0063\u0061\u0070\u0020\u0073\u0074\u0079\u006c\u0065:\u0020\u0025\u0064",_eec );
return _aga ;};case "\u006a":if len (_fbf .Params )!=1{return _aga ;};_eefa ,_gbf :=_df .GetIntVal (_fbf .Params [0]);if !_gbf {return _gad ;};switch _eefa {case 0:_gc .SetLineJoin (_bf .LineJoinBevel );case 1:_gc .SetLineJoin (_bf .LineJoinRound );case 2:_gc .SetLineJoin (_bf .LineJoinBevel );
default:_ca .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006c\u0069\u006e\u0065\u0020\u006a\u006f\u0069\u006e \u0073\u0074\u0079l\u0065:\u0020\u0025\u0064",_eefa );return _aga ;};case "\u004d":if len (_fbf .Params )!=1{return _aga ;};_dgb ,_bcd :=_df .GetNumbersAsFloat (_fbf .Params );
if _bcd !=nil {return _bcd ;};_ =_dgb ;_ca .Log .Debug ("\u004di\u0074\u0065\u0072\u0020l\u0069\u006d\u0069\u0074\u0020n\u006ft\u0020s\u0075\u0070\u0070\u006f\u0072\u0074\u0065d");case "\u0064":if len (_fbf .Params )!=2{return _aga ;};_bcc ,_cbd :=_df .GetArray (_fbf .Params [0]);
if !_cbd {return _gad ;};_fc ,_cbd :=_df .GetIntVal (_fbf .Params [1]);if !_cbd {_ ,_gee :=_df .GetFloatVal (_fbf .Params [1]);if !_gee {return _gad ;};};_cdb ,_ceg :=_df .GetNumbersAsFloat (_bcc .Elements ());if _ceg !=nil {return _ceg ;};_gc .SetDash (_cdb ...);
_ =_fc ;_ca .Log .Debug ("\u004c\u0069n\u0065\u0020\u0064\u0061\u0073\u0068\u0020\u0070\u0068\u0061\u0073\u0065\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006frt\u0065\u0064");case "\u0072\u0069":_ca .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020i\u006e\u0074\u0065\u006e\u0074\u0020\u006eo\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");
case "\u0069":_ca .Log .Debug ("\u0046\u006c\u0061\u0074\u006e\u0065\u0073\u0073\u0020\u0074\u006f\u006c\u0065\u0072\u0061n\u0063e\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");case "\u0067\u0073":if len (_fbf .Params )!=1{return _aga ;
};_aed ,_ffg :=_df .GetName (_fbf .Params [0]);if !_ffg {return _gad ;};if _aed ==nil {return _aga ;};_dca ,_ffg :=_ddf .GetExtGState (*_aed );if !_ffg {_ca .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006eo\u0074 \u0066i\u006ed\u0020\u0072\u0065\u0073\u006f\u0075\u0072\u0063\u0065\u003a\u0020\u0025\u0073",*_aed );
return _a .New ("\u0072e\u0073o\u0075\u0072\u0063\u0065\u0020n\u006f\u0074 \u0066\u006f\u0075\u006e\u0064");};_fgf ,_ffg :=_df .GetDict (_dca );if !_ffg {_ca .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020c\u006f\u0075\u006c\u0064 ge\u0074 g\u0072\u0061\u0070\u0068\u0069\u0063\u0073 s\u0074\u0061\u0074\u0065\u0020\u0064\u0069c\u0074");
return _gad ;};_ca .Log .Debug ("G\u0053\u0020\u0064\u0069\u0063\u0074\u003a\u0020\u0025\u0073",_fgf .String ());case "\u006d":if len (_fbf .Params )!=2{_ca .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006d\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_aga );
return nil ;};_fbd ,_cecc :=_df .GetNumbersAsFloat (_fbf .Params );if _cecc !=nil {return _cecc ;};_ca .Log .Debug ("M\u006f\u0076\u0065\u0020\u0074\u006f\u003a\u0020\u0025\u0076",_fbd );_gc .NewSubPath ();_gc .MoveTo (_fbd [0],_fbd [1]);case "\u006c":if len (_fbf .Params )!=2{_ca .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006c\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_aga );
return nil ;};_eee ,_geec :=_df .GetNumbersAsFloat (_fbf .Params );if _geec !=nil {return _geec ;};_gc .LineTo (_eee [0],_eee [1]);case "\u0063":if len (_fbf .Params )!=6{return _aga ;};_cea ,_bdd :=_df .GetNumbersAsFloat (_fbf .Params );if _bdd !=nil {return _bdd ;
};_ca .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_cea );_gc .CubicTo (_cea [0],_cea [1],_cea [2],_cea [3],_cea [4],_cea [5]);case "\u0076","\u0079":if len (_fbf .Params )!=4{return _aga ;
};_cagb ,_efd :=_df .GetNumbersAsFloat (_fbf .Params );if _efd !=nil {return _efd ;};_ca .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_cagb );_gc .QuadraticTo (_cagb [0],_cagb [1],_cagb [2],_cagb [3]);
case "\u0068":_gc .ClosePath ();_gc .NewSubPath ();case "\u0072\u0065":if len (_fbf .Params )!=4{return _aga ;};_fdf ,_dda :=_df .GetNumbersAsFloat (_fbf .Params );if _dda !=nil {return _dda ;};_gc .DrawRectangle (_fdf [0],_fdf [1],_fdf [2],_fdf [3]);_gc .NewSubPath ();
case "\u0053":_bga ,_abfb :=_aeg .ColorspaceStroking .ColorToRGB (_aeg .ColorStroking );if _abfb !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_abfb );
return _abfb ;};_dba ,_af :=_bga .(*_cc .PdfColorDeviceRGB );if !_af {_ca .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _abfb ;};_gc .SetRGBA (_dba .R (),_dba .G (),_dba .B (),1);
_gc .Stroke ();case "\u0073":_ccc ,_adf :=_aeg .ColorspaceStroking .ColorToRGB (_aeg .ColorStroking );if _adf !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_adf );
return _adf ;};_faa ,_bdf :=_ccc .(*_cc .PdfColorDeviceRGB );if !_bdf {_ca .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _adf ;};_gc .ClosePath ();_gc .NewSubPath ();
_gc .SetRGBA (_faa .R (),_faa .G (),_faa .B (),1);_gc .Stroke ();case "\u0066","\u0046":_ffb ,_fcb :=_aeg .ColorspaceNonStroking .ColorToRGB (_aeg .ColorNonStroking );if _fcb !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fcb );
return _fcb ;};switch _dde :=_ffb .(type ){case *_cc .PdfColorDeviceRGB :_gc .SetRGBA (_dde .R (),_dde .G (),_dde .B (),1);_gc .SetFillRule (_bf .FillRuleWinding );_gc .Fill ();case *_cc .PdfColorPattern :_gc .Fill ();};_ca .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");
case "\u0066\u002a":_aaff ,_gaa :=_aeg .ColorspaceNonStroking .ColorToRGB (_aeg .ColorNonStroking );if _gaa !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gaa );
return _gaa ;};_aab ,_deg :=_aaff .(*_cc .PdfColorDeviceRGB );if !_deg {_ca .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _gaa ;};_gc .SetRGBA (_aab .R (),_aab .G (),_aab .B (),1);
_gc .SetFillRule (_bf .FillRuleEvenOdd );_gc .Fill ();case "\u0042":_fgc ,_cedb :=_aeg .ColorspaceNonStroking .ColorToRGB (_aeg .ColorNonStroking );if _cedb !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cedb );
return _cedb ;};switch _ege :=_fgc .(type ){case *_cc .PdfColorDeviceRGB :_gc .SetRGBA (_ege .R (),_ege .G (),_ege .B (),1);_gc .SetFillRule (_bf .FillRuleWinding );_gc .FillPreserve ();_fgc ,_cedb =_aeg .ColorspaceStroking .ColorToRGB (_aeg .ColorStroking );
if _cedb !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cedb );return _cedb ;};if _aag ,_fgce :=_fgc .(*_cc .PdfColorDeviceRGB );
_fgce {_gc .SetRGBA (_aag .R (),_aag .G (),_aag .B (),1);_gc .Stroke ();};case *_cc .PdfColorPattern :_gc .SetFillRule (_bf .FillRuleWinding );_gc .Fill ();_gc .StrokePattern ();};case "\u0042\u002a":_bcb ,_dcf :=_aeg .ColorspaceNonStroking .ColorToRGB (_aeg .ColorNonStroking );
if _dcf !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dcf );return _dcf ;};switch _bfa :=_bcb .(type ){case *_cc .PdfColorDeviceRGB :_gc .SetRGBA (_bfa .R (),_bfa .G (),_bfa .B (),1);
_gc .SetFillRule (_bf .FillRuleEvenOdd );_gc .FillPreserve ();_bcb ,_dcf =_aeg .ColorspaceStroking .ColorToRGB (_aeg .ColorStroking );if _dcf !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dcf );
return _dcf ;};if _agfe ,_gfc :=_bcb .(*_cc .PdfColorDeviceRGB );_gfc {_gc .SetRGBA (_agfe .R (),_agfe .G (),_agfe .B (),1);_gc .Stroke ();};case *_cc .PdfColorPattern :_gc .SetFillRule (_bf .FillRuleEvenOdd );_gc .Fill ();_gc .StrokePattern ();};case "\u0062":_gc .ClosePath ();
_cbe ,_fae :=_aeg .ColorspaceNonStroking .ColorToRGB (_aeg .ColorNonStroking );if _fae !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fae );
return _fae ;};switch _ddfd :=_cbe .(type ){case *_cc .PdfColorDeviceRGB :_gc .SetRGBA (_ddfd .R (),_ddfd .G (),_ddfd .B (),1);_gc .NewSubPath ();_gc .SetFillRule (_bf .FillRuleWinding );_gc .FillPreserve ();_cbe ,_fae =_aeg .ColorspaceStroking .ColorToRGB (_aeg .ColorStroking );
if _fae !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fae );return _fae ;};if _fab ,_degg :=_cbe .(*_cc .PdfColorDeviceRGB );
_degg {_gc .SetRGBA (_fab .R (),_fab .G (),_fab .B (),1);_gc .Stroke ();};case *_cc .PdfColorPattern :_gc .NewSubPath ();_gc .SetFillRule (_bf .FillRuleWinding );_gc .Fill ();_gc .StrokePattern ();};case "\u0062\u002a":_gc .ClosePath ();_cede ,_dfc :=_aeg .ColorspaceNonStroking .ColorToRGB (_aeg .ColorNonStroking );
if _dfc !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dfc );return _dfc ;};switch _afe :=_cede .(type ){case *_cc .PdfColorDeviceRGB :_gc .SetRGBA (_afe .R (),_afe .G (),_afe .B (),1);
_gc .NewSubPath ();_gc .SetFillRule (_bf .FillRuleEvenOdd );_gc .FillPreserve ();_cede ,_dfc =_aeg .ColorspaceStroking .ColorToRGB (_aeg .ColorStroking );if _dfc !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dfc );
return _dfc ;};if _deb ,_da :=_cede .(*_cc .PdfColorDeviceRGB );_da {_gc .SetRGBA (_deb .R (),_deb .G (),_deb .B (),1);_gc .Stroke ();};case *_cc .PdfColorPattern :_gc .NewSubPath ();_gc .SetFillRule (_bf .FillRuleEvenOdd );_gc .Fill ();_gc .StrokePattern ();
};case "\u006e":_gc .ClearPath ();case "\u0057":_gc .SetFillRule (_bf .FillRuleWinding );_gc .ClipPreserve ();case "\u0057\u002a":_gc .SetFillRule (_bf .FillRuleEvenOdd );_gc .ClipPreserve ();case "\u0072\u0067":_fge ,_gcb :=_aeg .ColorNonStroking .(*_cc .PdfColorDeviceRGB );
if !_gcb {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aeg .ColorNonStroking );return nil ;};_gc .SetFillRGBA (_fge .R (),_fge .G (),_fge .B (),1);
case "\u0052\u0047":_cgb ,_ead :=_aeg .ColorStroking .(*_cc .PdfColorDeviceRGB );if !_ead {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aeg .ColorStroking );
return nil ;};_gc .SetStrokeRGBA (_cgb .R (),_cgb .G (),_cgb .B (),1);case "\u006b":_egcc ,_gff :=_aeg .ColorNonStroking .(*_cc .PdfColorDeviceCMYK );if !_gff {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aeg .ColorNonStroking );
return nil ;};_edac ,_ccb :=_aeg .ColorspaceNonStroking .ColorToRGB (_egcc );if _ccb !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aeg .ColorNonStroking );
return nil ;};_edbg ,_gff :=_edac .(*_cc .PdfColorDeviceRGB );if !_gff {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_edac );return nil ;
};_gc .SetFillRGBA (_edbg .R (),_edbg .G (),_edbg .B (),1);case "\u004b":_faag ,_gae :=_aeg .ColorStroking .(*_cc .PdfColorDeviceCMYK );if !_gae {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aeg .ColorStroking );
return nil ;};_dge ,_gfa :=_aeg .ColorspaceStroking .ColorToRGB (_faag );if _gfa !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aeg .ColorStroking );
return nil ;};_bab ,_gae :=_dge .(*_cc .PdfColorDeviceRGB );if !_gae {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dge );return nil ;
};_gc .SetStrokeRGBA (_bab .R (),_bab .G (),_bab .B (),1);case "\u0067":_eade ,_fe :=_aeg .ColorNonStroking .(*_cc .PdfColorDeviceGray );if !_fe {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aeg .ColorNonStroking );
return nil ;};_cdba ,_dae :=_aeg .ColorspaceNonStroking .ColorToRGB (_eade );if _dae !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aeg .ColorNonStroking );
return nil ;};_gaga ,_fe :=_cdba .(*_cc .PdfColorDeviceRGB );if !_fe {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cdba );return nil ;
};_gc .SetFillRGBA (_gaga .R (),_gaga .G (),_gaga .B (),1);case "\u0047":_gba ,_be :=_aeg .ColorStroking .(*_cc .PdfColorDeviceGray );if !_be {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aeg .ColorStroking );
return nil ;};_cfd ,_bed :=_aeg .ColorspaceStroking .ColorToRGB (_gba );if _bed !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aeg .ColorStroking );
return nil ;};_bbc ,_be :=_cfd .(*_cc .PdfColorDeviceRGB );if !_be {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cfd );return nil ;
};_gc .SetStrokeRGBA (_bbc .R (),_bbc .G (),_bbc .B (),1);case "\u0063\u0073":if len (_fbf .Params )> 0{if _dfff ,_eecg :=_df .GetName (_fbf .Params [0]);_eecg &&_dfff .String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e"{break ;};};_dbaf ,_fea :=_aeg .ColorspaceNonStroking .ColorToRGB (_aeg .ColorNonStroking );
if _fea !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aeg .ColorNonStroking );return nil ;};_eeb ,_eed :=_dbaf .(*_cc .PdfColorDeviceRGB );
if !_eed {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dbaf );return nil ;};_gc .SetFillRGBA (_eeb .R (),_eeb .G (),_eeb .B (),1);
case "\u0073\u0063":_ecd ,_aecc :=_aeg .ColorspaceNonStroking .ColorToRGB (_aeg .ColorNonStroking );if _aecc !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aeg .ColorNonStroking );
return nil ;};_fcc ,_abe :=_ecd .(*_cc .PdfColorDeviceRGB );if !_abe {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ecd );return nil ;
};_gc .SetFillRGBA (_fcc .R (),_fcc .G (),_fcc .B (),1);case "\u0073\u0063\u006e":if len (_fbf .Params )> 0&&len (_egce .Params )> 0{if _cbec ,_aff :=_df .GetName (_egce .Params [0]);_aff &&_cbec .String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e"{if _bba ,_cgf :=_df .GetName (_fbf .Params [0]);
_cgf {_faf ,_ddc :=_caf .processGradient (_gc ,_fbf ,_ddf ,_bba );if _ddc !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077\u0068\u0065\u006e\u0020\u0070\u0072o\u0063\u0065\u0073\u0073\u0069\u006eg\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074\u0020\u0064\u0061\u0074a\u003a\u0020\u0025\u0076",_ddc );
break ;};if _faf ==nil {_ca .Log .Debug ("\u0055\u006ek\u006e\u006f\u0077n\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074");break ;};_gc .SetFillStyle (_faf );_gc .SetStrokeStyle (_faf );break ;};};};_gab ,_ebe :=_aeg .ColorspaceNonStroking .ColorToRGB (_aeg .ColorNonStroking );
if _ebe !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aeg .ColorNonStroking );return nil ;};_feg ,_fafd :=_gab .(*_cc .PdfColorDeviceRGB );
if !_fafd {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gab );return nil ;};_gc .SetFillRGBA (_feg .R (),_feg .G (),_feg .B (),1);
case "\u0043\u0053":if len (_fbf .Params )> 0{if _edbf ,_gfg :=_df .GetName (_fbf .Params [0]);_gfg &&_edbf .String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e"{break ;};};_fdg ,_ecaf :=_aeg .ColorspaceStroking .ColorToRGB (_aeg .ColorStroking );if _ecaf !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aeg .ColorStroking );
return nil ;};_edf ,_egcg :=_fdg .(*_cc .PdfColorDeviceRGB );if !_egcg {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fdg );return nil ;
};_gc .SetStrokeRGBA (_edf .R (),_edf .G (),_edf .B (),1);case "\u0053\u0043":_ada ,_adfc :=_aeg .ColorspaceStroking .ColorToRGB (_aeg .ColorStroking );if _adfc !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aeg .ColorStroking );
return nil ;};_ddca ,_beg :=_ada .(*_cc .PdfColorDeviceRGB );if !_beg {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ada );return nil ;
};_gc .SetStrokeRGBA (_ddca .R (),_ddca .G (),_ddca .B (),1);case "\u0053\u0043\u004e":if len (_fbf .Params )> 0&&len (_egce .Params )> 0{if _dbff ,_bbb :=_df .GetName (_egce .Params [0]);_bbb &&_dbff .String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e"{if _daec ,_dbe :=_df .GetName (_fbf .Params [0]);
_dbe {_fgff ,_ffd :=_caf .processGradient (_gc ,_fbf ,_ddf ,_daec );if _ffd !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077\u0068\u0065\u006e\u0020\u0070\u0072o\u0063\u0065\u0073\u0073\u0069\u006eg\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074\u0020\u0064\u0061\u0074a\u003a\u0020\u0025\u0076",_ffd );
break ;};if _fgff ==nil {_ca .Log .Debug ("\u0055\u006ek\u006e\u006f\u0077n\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074");break ;};_gc .SetFillStyle (_fgff );_gc .SetStrokeStyle (_fgff );break ;};};};_fgd ,_eedf :=_aeg .ColorspaceStroking .ColorToRGB (_aeg .ColorStroking );
if _eedf !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aeg .ColorStroking );return nil ;};_efea ,_dgbe :=_fgd .(*_cc .PdfColorDeviceRGB );
if !_dgbe {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fgd );return nil ;};_gc .SetStrokeRGBA (_efea .R (),_efea .G (),_efea .B (),1);
case "\u0073\u0068":if len (_fbf .Params )!=1{_ca .Log .Debug ("\u0049n\u0076\u0061\u006c\u0069\u0064\u0020\u0073\u0068\u0020\u0070\u0061r\u0061\u006d\u0073\u0020\u0066\u006f\u0072\u006d\u0061\u0074");break ;};_eeg ,_gg :=_df .GetName (_fbf .Params [0]);
if !_gg {_ca .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020g\u0065\u0074\u0074\u0069\u006e\u0067\u0020\u0073\u0068a\u0064\u0069\u006eg\u0020n\u0061\u006d\u0065");break ;};_afb ,_gg :=_ddf .GetShadingByName (*_eeg );if !_gg {_ca .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020g\u0065\u0074\u0074\u0069\u006e\u0067\u0020\u0073\u0068a\u0064\u0069\u006eg\u0020d\u0061\u0074\u0061");
break ;};_fcf ,_cde ,_bede :=_caf .processShading (_gc ,_afb );if _bede !=nil {_ca .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077\u0068\u0065\u006e\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0073\u0068a\u0064\u0069\u006e\u0067\u0020d\u0061\u0074a\u003a\u0020\u0025\u0076",_bede );
break ;};if _fcf ==nil {_ca .Log .Debug ("\u0055\u006ek\u006e\u006f\u0077n\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074");break ;};_fag ,_bede :=_cde .ToFloat64Array ();if _bede !=nil {_ca .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073: \u0025\u0076",_bede );
break ;};_gc .DrawRectangle (_fag [0],_fag [1],_fag [2],_fag [3]);_gc .NewSubPath ();_gc .SetFillStyle (_fcf );_gc .SetStrokeStyle (_fcf );_gc .Fill ();case "\u0044\u006f":if len (_fbf .Params )!=1{return _aga ;};_fafg ,_cgc :=_df .GetName (_fbf .Params [0]);
if !_cgc {return _gad ;};_ ,_bce :=_ddf .GetXObjectByName (*_fafg );switch _bce {case _cc .XObjectTypeImage :_ca .Log .Debug ("\u0058\u004f\u0062\u006a\u0065\u0063\u0074\u0020\u0069\u006d\u0061\u0067e\u003a\u0020\u0025\u0073",_fafg .String ());_gdb ,_gbb :=_ddf .GetXObjectImageByName (*_fafg );
if _gbb !=nil {return _gbb ;};_bda ,_gbb :=_gdb .ToImage ();if _gbb !=nil {_ca .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u006day\u0020b\u0065\u0020\u0069\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065.\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e \u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_gbb );
return nil ;};if _bdfc :=_gdb .ColorSpace ;_bdfc !=nil {var _gaba bool ;switch _bdfc .(type ){case *_cc .PdfColorspaceSpecialIndexed :_gaba =true ;};if _gaba {if _gdg ,_cfe :=_bdfc .ImageToRGB (*_bda );_cfe !=nil {_ca .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0063\u006fnv\u0065r\u0074\u0020\u0069\u006d\u0061\u0067\u0065\u0020\u0074\u006f\u0020\u0052G\u0042\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020i\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u002e");
}else {_bda =&_gdg ;};};};_bcda :=_gc .FillPattern ().ColorAt (0,0);var _ebb _e .Image ;if _gdb .Mask !=nil {if _ebb ,_gbb =_fca (_gdb .Mask ,_bcda );_gbb !=nil {_ca .Log .Debug ("\u0057\u0041\u0052\u004e\u003a \u0063\u006f\u0075\u006c\u0064 \u006eo\u0074\u0020\u0067\u0065\u0074\u0020\u0065\u0078\u0070\u006c\u0069\u0063\u0069\u0074\u0020\u0069\u006d\u0061\u0067e\u0020\u006d\u0061\u0073\u006b\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e");
};}else if _gdb .SMask !=nil {if _ebb ,_gbb =_aee (_gdb .SMask ,_bcda );_gbb !=nil {_ca .Log .Debug ("W\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0067\u0065\u0074\u0020\u0073\u006f\u0066\u0074\u0020\u0069\u006da\u0067e\u0020\u006d\u0061\u0073k\u002e\u0020O\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u002e");
};};var _ffdc _e .Image ;if _fbb ,_ :=_df .GetBoolVal (_gdb .ImageMask );_fbb {_ffdc =_cbg (_bda ,_bcda );}else {_ffdc ,_gbb =_bda .ToGoImage ();if _gbb !=nil {_ca .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u006day\u0020b\u0065\u0020\u0069\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065.\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e \u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_gbb );
return nil ;};};if _ebb !=nil {_ffdc =_ffc (_ffdc ,_ebb );};_adfe :=_ffdc .Bounds ();_gc .Push ();_gc .Scale (1.0/float64 (_adfe .Dx ()),-1.0/float64 (_adfe .Dy ()));_gc .DrawImageAnchored (_ffdc ,0,0,0,1);_gc .Pop ();case _cc .XObjectTypeForm :_ca .Log .Debug ("\u0058\u004fb\u006a\u0065\u0063t\u0020\u0066\u006f\u0072\u006d\u003a\u0020\u0025\u0073",_fafg .String ());
_beb ,_dgf :=_ddf .GetXObjectFormByName (*_fafg );if _dgf !=nil {return _dgf ;};_cage ,_dgf :=_beb .GetContentStream ();if _dgf !=nil {return _dgf ;};_ebf :=_beb .Resources ;if _ebf ==nil {_ebf =_ddf ;};_gc .Push ();if _beb .Matrix !=nil {_ffe ,_gde :=_df .GetArray (_beb .Matrix );
if !_gde {return _gad ;};_ebee ,_ccg :=_df .GetNumbersAsFloat (_ffe .Elements ());if _ccg !=nil {return _ccg ;};if len (_ebee )!=6{return _aga ;};_bbf :=_cd .NewMatrix (_ebee [0],_ebee [1],_ebee [2],_ebee [3],_ebee [4],_ebee [5]);_gc .SetMatrix (_gc .Matrix ().Mult (_bbf ));
};if _beb .BBox !=nil {_dbg ,_ceeb :=_df .GetArray (_beb .BBox );if !_ceeb {return _gad ;};_bgac ,_gabb :=_df .GetNumbersAsFloat (_dbg .Elements ());if _gabb !=nil {return _gabb ;};if len (_bgac )!=4{_ca .Log .Debug ("\u004c\u0065\u006e\u0020\u003d\u0020\u0025\u0064",len (_bgac ));
return _aga ;};_gc .DrawRectangle (_bgac [0],_bgac [1],_bgac [2]-_bgac [0],_bgac [3]-_bgac [1]);_gc .SetRGBA (1,0,0,1);_gc .Clip ();}else {_ca .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0052\u0065q\u0075\u0069\u0072e\u0064\u0020\u0042\u0042\u006f\u0078\u0020\u006d\u0069ss\u0069\u006e\u0067 \u006f\u006e \u0058\u004f\u0062\u006a\u0065\u0063t\u0020\u0046o\u0072\u006d");
};_dgf =_caf .renderContentStream (_gc ,string (_cage ),_ebf );if _dgf !=nil {return _dgf ;};_gc .Pop ();};case "\u0042\u0049":if len (_fbf .Params )!=1{return _aga ;};_ggd ,_dcc :=_fbf .Params [0].(*_ga .ContentStreamInlineImage );if !_dcc {return nil ;
};_eag ,_ecc :=_ggd .ToImage (_ddf );if _ecc !=nil {_ca .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u006day\u0020b\u0065\u0020\u0069\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065.\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e \u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_ecc );
return nil ;};_dcfe ,_ecc :=_eag .ToGoImage ();if _ecc !=nil {_ca .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u006day\u0020b\u0065\u0020\u0069\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065.\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e \u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_ecc );
return nil ;};_bfgg :=_dcfe .Bounds ();_gc .Push ();_gc .Scale (1.0/float64 (_bfgg .Dx ()),-1.0/float64 (_bfgg .Dy ()));_gc .DrawImageAnchored (_dcfe ,0,0,0,1);_gc .Pop ();case "\u0042\u0054":_edc .Reset ();case "\u0045\u0054":_edc .Reset ();case "\u0054\u0072":if len (_fbf .Params )!=1{return _aga ;
};_def ,_dcb :=_df .GetNumberAsFloat (_fbf .Params [0]);if _dcb !=nil {return _dcb ;};_edc .Tr =_bf .TextRenderingMode (_def );case "\u0054\u004c":if len (_fbf .Params )!=1{return _aga ;};_aae ,_add :=_df .GetNumberAsFloat (_fbf .Params [0]);if _add !=nil {return _add ;
};_edc .Tl =_aae ;case "\u0054\u0063":if len (_fbf .Params )!=1{return _aga ;};_bebb ,_ebeb :=_df .GetNumberAsFloat (_fbf .Params [0]);if _ebeb !=nil {return _ebeb ;};_ca .Log .Debug ("\u0054\u0063\u003a\u0020\u0025\u0076",_bebb );_edc .Tc =_bebb ;case "\u0054\u0077":if len (_fbf .Params )!=1{return _aga ;
};_gbg ,_ffgb :=_df .GetNumberAsFloat (_fbf .Params [0]);if _ffgb !=nil {return _ffgb ;};_ca .Log .Debug ("\u0054\u0077\u003a\u0020\u0025\u0076",_gbg );_edc .Tw =_gbg ;case "\u0054\u007a":if len (_fbf .Params )!=1{return _aga ;};_bdec ,_eaa :=_df .GetNumberAsFloat (_fbf .Params [0]);
if _eaa !=nil {return _eaa ;};_edc .Th =_bdec ;case "\u0054\u0073":if len (_fbf .Params )!=1{return _aga ;};_gfgg ,_gbgc :=_df .GetNumberAsFloat (_fbf .Params [0]);if _gbgc !=nil {return _gbgc ;};_edc .Ts =_gfgg ;case "\u0054\u0064":if len (_fbf .Params )!=2{return _aga ;
};_edff ,_edffd :=_df .GetNumbersAsFloat (_fbf .Params );if _edffd !=nil {return _edffd ;};_ca .Log .Debug ("\u0054\u0064\u003a\u0020\u0025\u0076",_edff );_edc .ProcTd (_edff [0],_edff [1]);case "\u0054\u0044":if len (_fbf .Params )!=2{return _aga ;};_cbc ,_ede :=_df .GetNumbersAsFloat (_fbf .Params );
if _ede !=nil {return _ede ;};_ca .Log .Debug ("\u0054\u0044\u003a\u0020\u0025\u0076",_cbc );_edc .ProcTD (_cbc [0],_cbc [1]);case "\u0054\u002a":_edc .ProcTStar ();case "\u0054\u006d":if len (_fbf .Params )!=6{return _aga ;};_gbbb ,_bag :=_df .GetNumbersAsFloat (_fbf .Params );
if _bag !=nil {return _bag ;};_ca .Log .Debug ("\u0054\u0065x\u0074\u0020\u006da\u0074\u0072\u0069\u0078\u003a\u0020\u0025\u002b\u0076",_gbbb );_edc .ProcTm (_gbbb [0],_gbbb [1],_gbbb [2],_gbbb [3],_gbbb [4],_gbbb [5]);case "\u0027":if len (_fbf .Params )!=1{return _aga ;
};_cgfa ,_cagg :=_df .GetStringBytes (_fbf .Params [0]);if !_cagg {return _gad ;};_ca .Log .Debug ("\u0027\u0020\u0073t\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_cgfa ));_edc .ProcQ (_cgfa ,_gc );case "\u0022":if len (_fbf .Params )!=3{return _aga ;
};_ggg ,_fbfc :=_df .GetNumberAsFloat (_fbf .Params [0]);if _fbfc !=nil {return _fbfc ;};_bbfe ,_fbfc :=_df .GetNumberAsFloat (_fbf .Params [1]);if _fbfc !=nil {return _fbfc ;};_fafb ,_cfed :=_df .GetStringBytes (_fbf .Params [2]);if !_cfed {return _gad ;
};_edc .ProcDQ (_fafb ,_ggg ,_bbfe ,_gc );case "\u0054\u006a":if len (_fbf .Params )!=1{return _aga ;};_cab ,_fegc :=_df .GetStringBytes (_fbf .Params [0]);if !_fegc {return _gad ;};_ca .Log .Debug ("\u0054j\u0020s\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0060\u0025\u0073\u0060",string (_cab ));
_edc .ProcTj (_cab ,_gc );case "\u0054\u004a":if len (_fbf .Params )!=1{return _aga ;};_effd ,_fgb :=_df .GetArray (_fbf .Params [0]);if !_fgb {_ca .Log .Debug ("\u0054\u0079\u0070\u0065\u003a\u0020\u0025\u0054",_effd );return _gad ;};_ca .Log .Debug ("\u0054\u004a\u0020\u0061\u0072\u0072\u0061\u0079\u003a\u0020\u0025\u002b\u0076",_effd );
for _ ,_dbgb :=range _effd .Elements (){switch _bbcb :=_dbgb .(type ){case *_df .PdfObjectString :if _bbcb !=nil {_edc .ProcTj (_bbcb .Bytes (),_gc );};case *_df .PdfObjectFloat ,*_df .PdfObjectInteger :_ddfa ,_fddf :=_df .GetNumberAsFloat (_bbcb );if _fddf ==nil {_edc .Translate (-_ddfa *0.001*_edc .Tf .Size *_edc .Th /100.0,0);
};};};case "\u0054\u0066":if len (_fbf .Params )!=2{return _aga ;};_ca .Log .Debug ("\u0025\u0023\u0076",_fbf .Params );_agb ,_eegf :=_df .GetName (_fbf .Params [0]);if !_eegf ||_agb ==nil {_ca .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u006e\u0061m\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_fbf .Params [0]);
return _gad ;};_ca .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u006e\u0061\u006d\u0065\u003a\u0020\u0025\u0073",_agb .String ());_ccbc ,_cgg :=_df .GetNumberAsFloat (_fbf .Params [1]);if _cgg !=nil {_ca .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u0073\u0069z\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_fbf .Params [1]);
return _gad ;};_ca .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u0073\u0069\u007a\u0065\u003a\u0020\u0025\u0076",_ccbc );_edcc ,_cbef :=_ddf .GetFontByName (*_agb );if !_cbef {_ca .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0046\u006f\u006e\u0074\u0020\u0025s\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064",_agb .String ());
return _a .New ("\u0066\u006f\u006e\u0074\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};_ca .Log .Debug ("\u0046\u006f\u006e\u0074\u003a\u0020\u0025\u0054",_edcc );_eged ,_eegf :=_df .GetDict (_edcc );if !_eegf {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075l\u0064\u0020\u006e\u006f\u0074\u0020\u0067e\u0074\u0020\u0066\u006f\u006e\u0074\u0020\u0064\u0069\u0063\u0074");
return _gad ;};_bfgc ,_cgg :=_cc .NewPdfFontFromPdfObject (_eged );if _cgg !=nil {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066\u0072\u006fm\u0020\u006fb\u006a\u0065\u0063\u0074");
return _cgg ;};_faff :=_bfgc .BaseFont ();if _faff ==""{_faff =_agb .String ();};_feaf ,_eegf :=_edb [_faff ];if !_eegf {_feaf ,_cgg =_bf .NewTextFont (_bfgc ,_ccbc );if _cgg !=nil {_ca .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_cgg );
};};if _feaf ==nil {if len (_faff )> 7&&_faff [6]=='+'{_faff =_faff [7:];};_dfd :=[]string {_faff ,"\u0054i\u006de\u0073\u0020\u004e\u0065\u0077\u0020\u0052\u006f\u006d\u0061\u006e","\u0041\u0072\u0069a\u006c","D\u0065\u006a\u0061\u0056\u0075\u0020\u0053\u0061\u006e\u0073"};
for _ ,_cdeb :=range _dfd {_ca .Log .Debug ("\u0044\u0045\u0042\u0055\u0047\u003a \u0073\u0065\u0061\u0072\u0063\u0068\u0069\u006e\u0067\u0020\u0073\u0079\u0073t\u0065\u006d\u0020\u0066\u006f\u006e\u0074 \u0060\u0025\u0073\u0060",_cdeb );if _feaf ,_eegf =_edb [_cdeb ];
_eegf {break ;};_fcbd :=_eef .Match (_cdeb );if _fcbd ==nil {_ca .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u0066\u0069\u006e\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_cdeb );continue ;};_feaf ,_cgg =_bf .NewTextFontFromPath (_fcbd .Filename ,_ccbc );
if _cgg !=nil {_ca .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_fcbd .Filename );continue ;};_ca .Log .Debug ("\u0053\u0075\u0062\u0073\u0074\u0069t\u0075\u0074\u0069\u006e\u0067\u0020\u0066\u006f\u006e\u0074\u0020\u0025\u0073 \u0077\u0069\u0074\u0068\u0020\u0025\u0073 \u0028\u0025\u0073\u0029",_faff ,_fcbd .Name ,_fcbd .Filename );
_edb [_cdeb ]=_feaf ;break ;};};if _feaf ==nil {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020n\u006f\u0074\u0020\u0066\u0069\u006ed\u0020\u0061\u006e\u0079\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065 \u0066\u006f\u006e\u0074");
return _a .New ("\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0066\u0069\u006e\u0064\u0020a\u006ey\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065\u0020\u0066\u006f\u006e\u0074");};_edc .ProcTf (_feaf .WithSize (_ccbc ,_bfgc ));case "\u0042\u004d\u0043","\u0042\u0044\u0043":case "\u0045\u004d\u0043":default:_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0073u\u0070\u0070\u006f\u0072\u0074\u0065\u0064 \u006f\u0070\u0065\u0072\u0061\u006e\u0064\u003a\u0020\u0025\u0073",_fbf .Operand );
};_egce =_fbf ;return nil ;});_eff =_cbb .Process (_ded );if _eff !=nil {return _eff ;};return nil ;};

// Render converts the specified PDF page into an image, flattens annotations by default and returns the result.
func (_ee *ImageDevice )Render (page *_cc .PdfPage )(_e .Image ,error ){return _ee .RenderWithOpts (page ,false );};

// RenderWithOpts converts the specified PDF page into an image, optionally flattens annotations and returns the result.
func (_bd *ImageDevice )RenderWithOpts (page *_cc .PdfPage ,skipFlattening bool )(_e .Image ,error ){_ec ,_dff :=page .GetMediaBox ();if _dff !=nil {return nil ,_dff ;};_ec .Normalize ();_cca :=page .CropBox ;var _gb ,_ced float64 ;if _cca !=nil {_cca .Normalize ();
_gb ,_ced =_cca .Width (),_cca .Height ();};_bb :=page .Rotate ;_bde ,_ef ,_ad ,_fdd :=_ec .Llx ,_ec .Lly ,_ec .Width (),_ec .Height ();_eb :=_cd .IdentityMatrix ();if _bb !=nil &&*_bb %360!=0&&*_bb %90==0{_aa :=-float64 (*_bb );_ae :=_afcg (_ad ,_fdd ,_aa );
_eb =_eb .Translate ((_ae .Width -_ad )/2+_ad /2,(_ae .Height -_fdd )/2+_fdd /2).Rotate (_aa *_fd .Pi /180).Translate (-_ad /2,-_fdd /2);_ad ,_fdd =_ae .Width ,_ae .Height ;if _cca !=nil {_gd :=_afcg (_gb ,_ced ,_aa );_gb ,_ced =_gd .Width ,_gd .Height ;
};};if _bde !=0||_ef !=0{_eb =_eb .Translate (-_bde ,-_ef );};_bd ._dg =1.0;if _bd .OutputWidth !=0{_egc :=_ad ;if _cca !=nil {_egc =_gb ;};_bd ._dg =float64 (_bd .OutputWidth )/_egc ;_ad ,_fdd ,_gb ,_ced =_ad *_bd ._dg ,_fdd *_bd ._dg ,_gb *_bd ._dg ,_ced *_bd ._dg ;
_eb =_cd .ScaleMatrix (_bd ._dg ,_bd ._dg ).Mult (_eb );};_aaf :=_ac .NewContext (int (_ad ),int (_fdd ));if _fb :=_bd .renderPage (_aaf ,page ,_eb ,skipFlattening );_fb !=nil {return nil ,_fb ;};_bfd :=_aaf .Image ();if _cca !=nil {_gbe ,_bc :=(_cca .Llx -_bde )*_bd ._dg ,(_cca .Lly -_ef )*_bd ._dg ;
_de :=_e .Rect (0,0,int (_gb ),int (_ced ));_dd :=_e .Pt (int (_gbe ),int (_fdd -_bc -_ced ));_efe :=_e .NewRGBA (_de );_db .Draw (_efe ,_de ,_bfd ,_dd ,_db .Src );_bfd =_efe ;};return _bfd ,nil ;};func (_bff renderer )processGradient (_gaf _bf .Context ,_fdge *_ga .ContentStreamOperation ,_bbcf *_cc .PdfPageResources ,_bedg *_df .PdfObjectName )(_bf .Gradient ,error ){if _agc ,_cdg :=_bbcf .GetPatternByName (*_bedg );
_cdg &&_agc .IsShading (){_ceb :=_agc .GetAsShadingPattern ().Shading ;_gcf ,_ ,_dce :=_bff .processShading (_gaf ,_ceb );if _dce !=nil {return nil ,_dce ;};return _gcf ,nil ;};return nil ,nil ;};func (_gca renderer )processLinearShading (_fdfe _bf .Context ,_eefb *_cc .PdfShading )(_bf .Gradient ,*_df .PdfObjectArray ,error ){_cega :=_eefb .GetContext ().(*_cc .PdfShadingType2 );
if len (_cega .Function )==0{return nil ,nil ,_a .New ("\u006e\u006f\u0020\u0067\u0072\u0061\u0064i\u0065\u006e\u0074 \u0066\u0075\u006e\u0063t\u0069\u006f\u006e\u0020\u0066\u006f\u0075\u006e\u0064\u002c\u0020\u0073\u006b\u0069\u0070\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e");
};_gac ,_eecc :=_cega .Coords .ToFloat64Array ();if _eecc !=nil {return nil ,nil ,_a .New ("\u0066\u0061\u0069l\u0065\u0064\u0020\u0067e\u0074\u0074\u0069\u006e\u0067\u0020\u0073h\u0061\u0064\u0069\u006e\u0067\u0020\u0070\u006f\u0073\u0069\u0074\u0069\u006f\u006e");
};_ddb :=_eefb .ColorSpace ;_ebd ,_efffg :=_fdfe .Matrix ().Transform (_gac [0],_gac [1]);_gfgf ,_egg :=_fdfe .Matrix ().Transform (_gac [2],_gac [3]);_efc :=_ac .NewLinearGradient (_ebd ,_efffg ,_gfgf ,_egg );_gbba :=_df .MakeArrayFromFloats ([]float64 {0,0,1,1});
for _ ,_gcaa :=range _gac {if _gcaa > 1{_gbba =_cega .Coords ;break ;};};if _agba ,_gfd :=_cega .Function [0].(*_cc .PdfFunctionType2 );_gfd {_efc ,_eecc =_ccbd (_efc ,_agba ,_ddb ,1.0,true );}else if _cbdc ,_afa :=_cega .Function [0].(*_cc .PdfFunctionType3 );
_afa {_ggda :=append ([]float64 {0},_cbdc .Bounds ...);_ggda =append (_ggda ,1.0);_efc ,_eecc =_ffee (_efc ,_cbdc ,_ddb ,_ggda );};return _efc ,_gbba ,_eecc ;};func _afcg (_dbfg ,_ccbf ,_cgcf float64 )_ab .BoundingBox {return _ab .Path {Points :[]_ab .Point {_ab .NewPoint (0,0).Rotate (_cgcf ),_ab .NewPoint (_dbfg ,0).Rotate (_cgcf ),_ab .NewPoint (0,_ccbf ).Rotate (_cgcf ),_ab .NewPoint (_dbfg ,_ccbf ).Rotate (_cgcf )}}.GetBoundingBox ();
};const (ShadingTypeFunctionBased PdfShadingType =1;ShadingTypeAxial PdfShadingType =2;ShadingTypeRadial PdfShadingType =3;ShadingTypeFreeForm PdfShadingType =4;ShadingTypeLatticeForm PdfShadingType =5;ShadingTypeCoons PdfShadingType =6;ShadingTypeTensorProduct PdfShadingType =7;
);

// PdfShadingType defines PDF shading types.
// Source: PDF32000_2008.pdf. Chapter 8.7.4.5
type PdfShadingType int64 ;func _ccbd (_ecff _bf .Gradient ,_dea *_cc .PdfFunctionType2 ,_eggc _cc .PdfColorspace ,_dgc float64 ,_aeca bool )(_bf .Gradient ,error ){switch _eggc .(type ){case *_cc .PdfColorspaceDeviceRGB :if len (_dea .C0 )!=3||len (_dea .C1 )!=3{return nil ,_a .New ("\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u0020\u0052\u0047\u0042\u0020\u0063o\u006co\u0072\u0020\u0061\u0072\u0072\u0061\u0079\u0020\u006c\u0065\u006e\u0067\u0074\u0068");
};_afbc :=_dea .C0 ;_afg :=_dea .C1 ;if _aeca {_ecff .AddColorStop (0.0,_b .RGBA {R :uint8 (_afbc [0]*255),G :uint8 (_afbc [1]*255),B :uint8 (_afbc [2]*255),A :255});};_ecff .AddColorStop (_dgc ,_b .RGBA {R :uint8 (_afg [0]*255),G :uint8 (_afg [1]*255),B :uint8 (_afg [2]*255),A :255});
case *_cc .PdfColorspaceDeviceCMYK :if len (_dea .C0 )!=4||len (_dea .C1 )!=4{return nil ,_a .New ("\u0069\u006e\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0043\u004d\u0059\u004b\u0020\u0063\u006f\u006c\u006f\u0072 \u0061\u0072\u0072\u0061\u0079\u0020\u006ce\u006e\u0067\u0074\u0068");
};_dgg :=_dea .C0 ;_cfef :=_dea .C1 ;if _aeca {_ecff .AddColorStop (0.0,_b .CMYK {C :uint8 (_dgg [0]*255),M :uint8 (_dgg [1]*255),Y :uint8 (_dgg [2]*255),K :uint8 (_dgg [3]*255)});};_ecff .AddColorStop (_dgc ,_b .CMYK {C :uint8 (_cfef [0]*255),M :uint8 (_cfef [1]*255),Y :uint8 (_cfef [2]*255),K :uint8 (_cfef [3]*255)});
default:return nil ,_fad .Errorf ("u\u006e\u0073\u0075\u0070\u0070\u006fr\u0074\u0065\u0064\u0020\u0063\u006f\u006c\u006f\u0072 \u0073\u0070\u0061c\u0065:\u0020\u0025\u0073",_eggc .String ());};return _ecff ,nil ;};

// ImageDevice is used to render PDF pages to image targets.
type ImageDevice struct{renderer ;

// OutputWidth represents the width of the rendered images in pixels.
// The heights of the output images are calculated based on the selected
// width and the original height of each rendered page.
OutputWidth int ;};func _geeg (_eeff string ,_bea _e .Image ,_dfg int )error {_gaaa ,_bgd :=_ag .Create (_eeff );if _bgd !=nil {return _bgd ;};defer _gaaa .Close ();return _fa .Encode (_gaaa ,_bea ,&_fa .Options {Quality :_dfg });};func _ffc (_aea ,_bcdd _e .Image )_e .Image {_cfad ,_gbfd :=_bcdd .Bounds ().Size (),_aea .Bounds ().Size ();
_fcfd ,_fbde :=_cfad .X ,_cfad .Y ;if _gbfd .X > _fcfd {_fcfd =_gbfd .X ;};if _gbfd .Y > _fbde {_fbde =_gbfd .Y ;};_gbc :=_e .Rect (0,0,_fcfd ,_fbde );if _cfad .X !=_fcfd ||_cfad .Y !=_fbde {_cga :=_e .NewRGBA (_gbc );_abf .BiLinear .Scale (_cga ,_gbc ,_aea ,_bcdd .Bounds (),_abf .Over ,nil );
_bcdd =_cga ;};if _gbfd .X !=_fcfd ||_gbfd .Y !=_fbde {_eab :=_e .NewRGBA (_gbc );_abf .BiLinear .Scale (_eab ,_gbc ,_aea ,_aea .Bounds (),_abf .Over ,nil );_aea =_eab ;};_gce :=_e .NewRGBA (_gbc );_abf .DrawMask (_gce ,_gbc ,_aea ,_e .Point {},_bcdd ,_e .Point {},_abf .Over );
return _gce ;};func _gfaf (_debg *_cc .Image ,_bddf _b .Color )_e .Image {_eabf ,_cce :=int (_debg .Width ),int (_debg .Height );_eeaa :=_e .NewRGBA (_e .Rect (0,0,_eabf ,_cce ));for _cgfd :=0;_cgfd < _cce ;_cgfd ++{for _fegcc :=0;_fegcc < _eabf ;_fegcc ++{_ecg ,_gbeg :=_debg .ColorAt (_fegcc ,_cgfd );
if _gbeg !=nil {_ca .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063o\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0072\u0065\u0074\u0072\u0069\u0065v\u0065 \u0069\u006d\u0061\u0067\u0065\u0020m\u0061\u0073\u006b\u0020\u0076\u0061\u006cu\u0065\u0020\u0061\u0074\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006da\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063t\u002e",_fegcc ,_cgfd );
continue ;};_egd ,_edg ,_cade ,_ :=_ecg .RGBA ();var _aaa _b .Color ;if _egd +_edg +_cade ==0{_aaa =_b .Transparent ;}else {_aaa =_bddf ;};_eeaa .Set (_fegcc ,_cgfd ,_aaa );};};return _eeaa ;};func _fdgb (_ebc string ,_deff _e .Image )error {_acb ,_cdc :=_ag .Create (_ebc );
if _cdc !=nil {return _cdc ;};defer _acb .Close ();return _g .Encode (_acb ,_deff );};func _fca (_dbac _df .PdfObject ,_dgff _b .Color )(_e .Image ,error ){_bfdd ,_fffb :=_df .GetStream (_dbac );if !_fffb {return nil ,nil ;};_efee ,_gdgb :=_cc .NewXObjectImageFromStream (_bfdd );
if _gdgb !=nil {return nil ,_gdgb ;};_egedb ,_gdgb :=_efee .ToImage ();if _gdgb !=nil {return nil ,_gdgb ;};return _cbg (_egedb ,_dgff ),nil ;};func _cbg (_cbbg *_cc .Image ,_fff _b .Color )_e .Image {_bbd ,_bbgf :=int (_cbbg .Width ),int (_cbbg .Height );
_fgdd :=_e .NewRGBA (_e .Rect (0,0,_bbd ,_bbgf ));for _gfe :=0;_gfe < _bbgf ;_gfe ++{for _bgaa :=0;_bgaa < _bbd ;_bgaa ++{_efef ,_cdca :=_cbbg .ColorAt (_bgaa ,_gfe );if _cdca !=nil {_ca .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063o\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0072\u0065\u0074\u0072\u0069\u0065v\u0065 \u0069\u006d\u0061\u0067\u0065\u0020m\u0061\u0073\u006b\u0020\u0076\u0061\u006cu\u0065\u0020\u0061\u0074\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006da\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063t\u002e",_bgaa ,_gfe );
continue ;};_ffgc ,_ega ,_ffeef ,_ :=_efef .RGBA ();var _fga _b .Color ;if _ffgc +_ega +_ffeef ==0{_fga =_fff ;}else {_fga =_b .Transparent ;};_fgdd .Set (_bgaa ,_gfe ,_fga );};};return _fgdd ;};type renderer struct{_dg float64 };func (_ge renderer )renderPage (_cf _bf .Context ,_dc *_cc .PdfPage ,_gdd _cd .Matrix ,_bfg bool )error {if !_bfg {_cb :=_cc .FieldFlattenOpts {AnnotFilterFunc :func (_dbf *_cc .PdfAnnotation )bool {switch _dbf .GetContext ().(type ){case *_cc .PdfAnnotationLine :return true ;
case *_cc .PdfAnnotationSquare :return true ;case *_cc .PdfAnnotationCircle :return true ;case *_cc .PdfAnnotationPolygon :return true ;case *_cc .PdfAnnotationPolyLine :return true ;};return false ;}};_eea :=_ce .FieldAppearance {};_bg :=_dc .FlattenFieldsWithOpts (_eea ,&_cb );
if _bg !=nil {_ca .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0064u\u0072\u0069n\u0067\u0020\u0061\u006e\u006e\u006f\u0074\u0061t\u0069\u006f\u006e\u0020\u0066\u006c\u0061\u0074\u0074\u0065\u006e\u0069n\u0067\u0020\u0025\u0076",_bg );};};_gf ,_cg :=_dc .GetAllContentStreams ();
if _cg !=nil {return _cg ;};if _aec :=_gdd ;!_aec .Identity (){_gf =_fad .Sprintf ("%\u002e\u0032\u0066\u0020\u0025\u002e2\u0066\u0020\u0025\u002e\u0032\u0066 \u0025\u002e\u0032\u0066\u0020\u0025\u002e2\u0066\u0020\u0025\u002e\u0032\u0066\u0020\u0063\u006d\u0020%\u0073",_aec [0],_aec [1],_aec [3],_aec [4],_aec [6],_aec [7],_gf );
};_cf .Translate (0,float64 (_cf .Height ()));_cf .Scale (1,-1);_cf .Push ();_cf .SetRGBA (1,1,1,1);_cf .DrawRectangle (0,0,float64 (_cf .Width ()),float64 (_cf .Height ()));_cf .Fill ();_cf .Pop ();_cf .SetLineWidth (1.0);_cf .SetRGBA (0,0,0,1);return _ge .renderContentStream (_cf ,_gf ,_dc .Resources );
};var (_gad =_a .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");_aga =_a .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072"););func _aee (_eege _df .PdfObject ,_ggb _b .Color )(_e .Image ,error ){_gbbd ,_fbda :=_df .GetStream (_eege );
if !_fbda {return nil ,nil ;};_cgda ,_bagg :=_cc .NewXObjectImageFromStream (_gbbd );if _bagg !=nil {return nil ,_bagg ;};_fcbc ,_bagg :=_cgda .ToImage ();if _bagg !=nil {return nil ,_bagg ;};return _gfaf (_fcbc ,_ggb ),nil ;};